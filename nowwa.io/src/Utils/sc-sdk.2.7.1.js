!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sc=t():e.sc=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.d(t,{default:()=>ee});var n={};e.r(n),e.d(n,{AppEventNames:()=>A,AppEventParameterNames:()=>I,AvatarVariants:()=>E,BitmojiVariants:()=>m,ClientEventNames:()=>S,ErrorCodes:()=>v,MiniEventNames:()=>T,PermissionScope:()=>O,PermissionValue:()=>g});var r,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},a=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=function(){function e(e,t,n,r){this._parent=e,this._name=t,this.callback=n,this.scope=r,this.once=!1}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e.prototype.unbind=function(){if(this._parent){var e=this._parent._callbacks[this._name].indexOf(this);-1!==e&&(this._parent._callbackActive[this._name]&&this._parent._callbackActive[this._name]===this._parent._callbacks[this._name]&&(this._parent._callbackActive[this._name]=this._parent._callbackActive[this._name].slice()),this._parent._callbacks[this._name].splice(e,1),this._parent=null,this.callback=null,this.scope=null)}},e}(),s=function(){function e(){this._callbacks={},this._callbackActive={}}return e.prototype.on=function(e,t,n){if(e&&"string"==typeof e&&t){this._callbacks[e]||(this._callbacks[e]=[]),this._callbackActive[e]&&this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice());var r=new i(this,e,t,n||this);return this._callbacks[e].push(r),r}},e.prototype.once=function(e,t,n){var r=this.on(e,t,n);if(r)return r.once=!0,r},e.prototype.unbind=function(e,t,n){if(e)this._callbackActive[e]&&this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice());else for(var r in this._callbackActive)this._callbacks[r]&&this._callbacks[r]===this._callbackActive[r]&&(this._callbackActive[r]=this._callbackActive[r].slice());if(!e)return this._callbacks={},this;if(!t)return delete this._callbacks[e],this;var o=this._callbacks[e];if(!o)return this;for(var a=o.length;a--;)o[a].callback!==t||n&&o[a].scope!==n||o[a].unbind();return this},e.prototype.emit=function(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!e||!this._callbacks[e])return this;this._callbackActive[e]?(this._callbackActive[e]===this._callbacks[e]&&(this._callbackActive[e]=this._callbackActive[e].slice()),n=this._callbacks[e].slice()):this._callbackActive[e]=this._callbacks[e];for(var s=0;s<(n||this._callbackActive[e]).length;s++){var c=(n||this._callbackActive[e])[s];c.callback&&(t=c.callback).call.apply(t,a([c.scope],o(r),!1)),c.once&&c.unbind()}return n||delete this._callbackActive[e],this},e}(),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){var t=e.call(this)||this;return t._user=void 0,t._id=void 0,t._context=void 0,t._env=void 0,t._sessionId=void 0,t._conversationSize=0,t._locale=void 0,t._safeAreaInsets={top:0,bottom:0},t._windowSafeAreaInsets={top:0,bottom:0},t._authToken=void 0,t._authTokenExpiration=0,t._OIDCToken=void 0,t._OIDCTokenExpiration=0,t._volume=0,t._isAgeValid=void 0,t}return c(t,e),Object.defineProperty(t.prototype,"user",{get:function(){return this._user},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"env",{get:function(){return this._env},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conversationSize",{get:function(){return this._conversationSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"safeAreaInsets",{get:function(){return this._safeAreaInsets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"windowSafeAreaInsets",{get:function(){return this._windowSafeAreaInsets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authTokenExpiration",{get:function(){return this._authTokenExpiration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(e){if(!e)return this._authToken=e,void(this._authTokenExpiration=0);this._authToken=e,this._authTokenExpiration=1e3*JSON.parse(atob(e.split(".")[1])).exp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OIDCToken",{get:function(){return this._OIDCToken},set:function(e){this._OIDCToken=e,this._OIDCTokenExpiration=Date.now()+27e4},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OIDCTokenExpiration",{get:function(){return this._OIDCTokenExpiration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAgeValid",{get:function(){return this._isAgeValid},set:function(e){this._isAgeValid=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"discoverableFriends",{get:function(){return this._discoverableFriends},set:function(e){this._discoverableFriends=e},enumerable:!1,configurable:!0}),t.prototype.updateSession=function(e,t,n){this.authToken=void 0,this._sessionId=e,this._conversationSize=t,this._context=n,this._discoverableFriends=void 0},t}(s),l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(e){function t(t,n,r,o){void 0===o&&(o="#FFFFFF");var a=e.call(this)||this;return a.id=t,a.avatarId=n,a.name=r,a.color=o,a}return l(t,e),t}(s);function p(e){return sc._fetchOAuth2Token().then((function(t){if(t.token){var n="Bearer ".concat(t.token);return fetch("https://us-central1-gcp.api.snapchat.com/canvasapi/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify({query:e})})}throw{code:sc.ErrorCodes.INTERNAL_ERROR}})).then((function(e){if(200!=e.status)throw{code:sc.ErrorCodes.NETWORK_FAILURE};return e.json()})).then((function(e){var t,n,r,o,a,i;if(null==(null===(t=e.errors)||void 0===t?void 0:t[0]))return e;var s=null===(o=null===(r=null===(n=e.errors)||void 0===n?void 0:n[0])||void 0===r?void 0:r.extensions)||void 0===o?void 0:o.code,c=null===(i=null===(a=e.errors)||void 0===a?void 0:a[0])||void 0===i?void 0:i.message;switch(s){case"INTERNAL_ERROR":default:throw{code:sc.ErrorCodes.INTERNAL_ERROR,message:c};case"RATE_LIMITED":throw{code:sc.ErrorCodes.RATE_LIMITED,message:c};case"UNAUTHORIZED_APP":throw{code:sc.ErrorCodes.INVALID_CONFIG,message:c};case"UNAUTHORIZED_USER":throw{code:sc.ErrorCodes.UNAUTHORIZED_USER,message:c}}}))}function f(){return p("query { me { ageGate } }").then((function(e){var t,n;if(void 0!==(null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.me)||void 0===n?void 0:n.ageGate))return sc.app.isAgeValid=e.data.me.ageGate,{isAgeValid:e.data.me.ageGate};throw sc.ErrorCodes.INTERNAL_ERROR}))}function h(){return p("query { me { idToken } }").then((function(e){if(e&&e.data&&e.data.me&&e.data.me.idToken)return sc.app.OIDCToken=e.data.me.idToken,{token:e.data.me.idToken};throw sc.ErrorCodes.NETWORK_FAILURE}))}function _(e,t){return void 0===t&&(t=1),e().catch((function(n){if(t<=1)throw n;return _(e,t-1)}))}var E,v,S,A,T,I,m,g,O,b=function(){return p("query { me { discoverable { ".concat("discoverableFriends { abbreviatedDisplayName externalAvatarID externalUserID }"," } } }")).then((function(e){var t,n,r,o=null===(r=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.me)||void 0===n?void 0:n.discoverable)||void 0===r?void 0:r.discoverableFriends;if(o){var a=o.map((function(e){return{id:e.externalUserID,name:e.abbreviatedDisplayName,avatarId:e.externalAvatarID}}));return sc.app.discoverableFriends=a,{friends:a}}throw{code:sc.ErrorCodes.INTERNAL_ERROR}}))};!function(e){e.DEFAULT="20004322",e.HAPPY="20004321",e.BORED="10226843",e.LAUGHINGCRY="20004320",e.CRY="20004319",e.SHOCK="20004318",e.SAD="10232166",e.THINKING="20004317",e.SURPRISE="20004323",e.YAWN="20004324",e.CHEEKY="20004325",e.RELAX="20004326",e.CONFUSED="20004327",e.DEER="20004329",e.CAT="20004331",e.DOG="20004332",e.HALO="20004333",e.RAINBOW="20004336",e.MONEYEYES="20004337",e.WINK="10212039",e.GRIN="10212371",e.ANGRY="10212034",e.WAVE="10211812",e.KISS="10212029",e.HEARTEYES="10227009",e.SUNGLASSES="10223291",e.EVIL="10221921",e.PEEK="10208529",e.SLEEP="10212036",e.SHH="10219373",e.ROLL="10212047",e.SWEAT="10218905",e.CROWN="10219581",e.HEARTBREAK="10227483",e.STAYTUNED="10214712",e.SHRUG="9422789",e.EMBARRASSED="10228567"}(E||(E={})),function(e){e.CLIENT_STATE_INVALID="CLIENT_STATE_INVALID",e.CLIENT_UNSUPPORTED="CLIENT_UNSUPPORTED",e.CONFLICT_REQUEST="CONFLICT_REQUEST",e.INVALID_PARAM="INVALID_PARAM",e.INTERNAL_ERROR="INTERNAL_ERROR",e.LENS_UNLOCK_FAILURE="LENS_UNLOCK_FAILURE",e.NETWORK_FAILURE="NETWORK_FAILURE",e.NETWORK_NOT_REACHABLE="NETWORK_NOT_REACHABLE",e.RATE_LIMITED="RATE_LIMITED",e.RESOURCE_NOT_AVAILABLE="RESOURCE_NOT_AVAILABLE",e.RESOURCE_NOT_FOUND="RESOURCE_NOT_FOUND",e.RV_NO_FILL="RV_NO_FILL",e.RV_NO_MATCH="RV_NO_MATCH",e.RV_NOT_LOADED="RV_NOT_LOADED",e.RV_RATE_LIMITED="RV_RATE_LIMITED",e.TOKEN_REVOKED_BY_SERVER="TOKEN_REVOKED_BY_SERVER",e.USER_PERMISSION_NOT_GRANTED="USER_PERMISSION_NOT_GRANTED",e.USER_REJECTION="USER_REJECTION",e.UNKNOWN_SCRIPT="UNKNOWN_SCRIPT",e.UNAUTHORIZED_USER="UNAUTHORIZED_USER",e.INVALID_CONFIG="INVALID_CONFIG",e.SHORTCUT_ADDED="SHORTCUT_ADDED"}(v||(v={})),function(e){e.VOLUME_CHANGED="volumeChanged",e.AD_READY="adReady",e.AD_COMPLETE="adComplete",e.DID_LOSE_FOCUS="didLoseFocus",e.DID_GAIN_FOCUS="didGainFocus",e.SAFE_AREA_DID_UPDATE="safeAreaDidUpdate",e.DID_PRESENT_LEADERBOARD="didPresentLeaderboard",e.DID_DISMISS_LEADERBOARD="didDismissLeaderboard",e.CREATE_SHORTCUT_COMPLETE="createShortcutComplete"}(S||(S={})),function(e){e.ONBOARDING_START="ONBOARDING_START",e.ONBOARDING_STAGE_COMPLETE="ONBOARDING_STAGE_COMPLETE",e.ONBOARDING_COMPLETE="ONBOARDING_COMPLETE",e.CLICK_PLAY="CLICK_PLAY",e.MATCH_START="MATCH_START",e.MATCH_END="MATCH_END",e.SHOP_START="SHOP_START",e.SHOP_EXIT="SHOP_EXIT",e.SHOP_TRANSACTION="SHOP_TRANSACTION"}(A||(A={})),function(e){e.VIEW_CONTENT="VIEW_CONTENT",e.RATE="RATE",e.RESERVE="RESERVE",e.SEARCH="SEARCH",e.PAGE_VIEW="PAGE_VIEW",e.LIST_VIEW="LIST_VIEW",e.COMPLETE_TUTORIAL="COMPLETE_TUTORIAL",e.LEVEL_COMPLETE="LEVEL_COMPLETE",e.ACHIEVEMENT_UNLOCKED="ACHIEVEMENT_UNLOCKED",e.SIGN_UP="SIGN_UP",e.LOGIN="LOGIN",e.PURCHASE="PURCHASE",e.SUBSCRIBE="SUBSCRIBE",e.SPEND_CREDIT="SPEND_CREDIT",e.START_TRIAL="START_TRIAL",e.ADD_TO_WISHLIST="ADD_TO_WISHLIST",e.START_CHECKOUT="START_CHECKOUT",e.EXIT_CHECKOUT="EXIT_CHECKOUT",e.ADD_CART="ADD_CART",e.ADD_BILLING="ADD_BILLING",e.INVITE="INVITE",e.CUSTOM_EVENT_1="CUSTOM_EVENT_1",e.CUSTOM_EVENT_2="CUSTOM_EVENT_2",e.CUSTOM_EVENT_3="CUSTOM_EVENT_3",e.CUSTOM_EVENT_4="CUSTOM_EVENT_4",e.CUSTOM_EVENT_5="CUSTOM_EVENT_5"}(T||(T={})),function(e){e.STAGE_ID="STAGE_ID",e.ONBOARDING_TIME="ONBOARDING_TIME",e.ENTRY="ENTRY",e.MATCH_TYPE="MATCH_TYPE",e.MATCH_ID="MATCH_ID",e.MATCH_TIME="MATCH_TIME",e.SHOP_TIME="SHOP_TIME",e.ITEM_ID="ITEM_ID",e.SOURCE="SOURCE",e.PAYMENT_TYPE="PAYMENT_TYPE",e.PRICE="PRICE",e.ITEM_CATEGORY="ITEM_CATEGORY",e.SUCCESS="SUCCESS",e.TRANSACTION_ID="TRANSACTION_ID",e.CURRENCY="CURRENCY",e.SEACH_STRING="SEARCH_STRING",e.PAGE_INFORMATION="PAGE_INFORMATION",e.PAYMENT_INFO_AVAILABLE="PAYMENT_INFO_AVAILABLE",e.NUMBER_ITEMS="NUMBER_ITEMS"}(I||(I={})),function(e){e.USER="USER",e.GROUP="GROUP"}(m||(m={})),function(e){e.ALLOW="ALLOW",e.DENY="DENY",e.NONE="NONE"}(g||(g={})),function(e){e.ACTIVITY_VISIBILITY="ACTIVITY_VISIBILITY"}(O||(O={}));var R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},R.apply(this,arguments)},C=R(R({_device:{android:!1,ios:!1},_screenshotCompleteCallback:void 0,_b:void 0,_k:void 0,_h:{},_u:"",_m:new Map,app:void 0,version:"2.7.1"},n),{App:u,Events:s,User:d}),N=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},y=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function D(e){var t=sc._m.get(e);if(null==t)throw new Error("Unrecognized method name. Please check method-name-map.");return t}function P(e,t){if(sc._b)sc._b.registerHandler(e,t);else{var n=D(e);sc._h[n]=t}}var L,w,U=window;function k(e){if(U.pc){var t=U.pc.app;t.on("postrender",(function(){if(sc._screenshotCompleteCallback){var e=t.graphicsDevice.canvas.toDataURL();sc._screenshotCompleteCallback(e),sc._screenshotCompleteCallback=void 0}}))}P("setVolume",(function(t){U.pc&&(U.pc.app.systems.sound.volume=t),sc.app._volume=t,e(S.VOLUME_CHANGED,t)})),P("didTakeScreenshot",(function(e,t){sc._screenshotCompleteCallback=t})),P("adReady",(function(t){e(S.AD_READY,t)})),P("adComplete",(function(t){e(S.AD_COMPLETE,t)})),P("didLoseFocus",(function(t){e(S.DID_LOSE_FOCUS,t)})),P("didGainFocus",(function(t){e(S.DID_GAIN_FOCUS,t)})),P("safeAreaDidUpdate",(function(t){sc.app._safeAreaInsets=t.safeAreaInsets,e(S.SAFE_AREA_DID_UPDATE,t)})),P("didPresentLeaderboard",(function(t){e(S.DID_PRESENT_LEADERBOARD,t)})),P("didDismissLeaderboard",(function(t){e(S.DID_DISMISS_LEADERBOARD,t)})),P("createShortcutComplete",(function(t){e(S.CREATE_SHORTCUT_COMPLETE,t)})),P("loadScriptFile",(function(e,t){void 0===e&&(e=[]),e.forEach((function(e){if("WCL"===e){var n=sc,r=window.console;r&&(n.ConsoleLogs=[],["info","log","warn","error"].forEach((function(e){return function(e){var t=r[e];r[e]=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.ConsoleLogs.push("["+(new Date).toUTCString()+"] "+e+": "+Array.prototype.slice.apply(o).join(" ")),n.ConsoleLogs.length>1e3&&n.ConsoleLogs.shift(),t.apply&&t.apply(r,o)}}(e)})),P("getConsoleLogs",(function(e,t){return t(n.ConsoleLogs)})))}else{if("MFPSM"!==e)return t({error:{code:v.UNKNOWN_SCRIPT,message:e}});var o=0,a={lastFiveFps:[],lastSixtyFps:[],lastFiveFpsSum:0,lastSixtyFpsSum:0,averageFpsLastFiveSec:0,averageFpsLastSixtySec:0,lowestAverageFpsForFiveSec:Number.MAX_VALUE,numFrames:0,timer:0,goodSeconds:[],currentSecondIsGood:!0,goodSecondsCount:0};if(P("getTestAutomationMetrics",(function(e,t){t({metrics:{AVERAGE_FPS_60S:a.averageFpsLastSixtySec,LOWEST_AVG_FPS_5S:a.lowestAverageFpsForFiveSec,GOOD_SECONDS_COUNT:a.goodSecondsCount}})})),U.pc){var i=U.pc;i.app.on("update",(function(e){if(a.numFrames++,0!=o){var t=i.now()-o;if(o+=t,a.timer+=t,t>50&&(a.currentSecondIsGood=!1),a.timer>=1e3){for(a.lastFiveFpsSum+=a.numFrames,a.lastFiveFps.push(a.numFrames);a.lastFiveFps.length>5;)a.lastFiveFpsSum-=a.lastFiveFps.shift()||0;for(a.lastSixtyFpsSum+=a.numFrames,a.lastSixtyFps.push(a.numFrames);a.lastSixtyFps.length>60;)a.lastSixtyFpsSum-=a.lastSixtyFps.shift()||0;for(a.numFrames<30&&(a.currentSecondIsGood=!1),1==a.currentSecondIsGood?(a.goodSeconds.push(1),a.goodSecondsCount+=1):a.goodSeconds.push(0);a.goodSeconds.length>60;)a.goodSecondsCount-=a.goodSeconds.shift()||0;a.averageFpsLastFiveSec=Math.round(a.lastFiveFpsSum/a.lastFiveFps.length),a.averageFpsLastSixtySec=Math.round(a.lastSixtyFpsSum/a.lastSixtyFps.length),5==a.lastFiveFps.length&&(a.lowestAverageFpsForFiveSec=Math.min(a.lowestAverageFpsForFiveSec,a.averageFpsLastFiveSec)),a.numFrames=0,a.currentSecondIsGood=!0,a.timer-=1e3}}else o=i.now()}))}}})),t()}))}function F(e){switch(e){case 0:return L.OK;case 3:return L.INVALID_ARGUMENT;case 5:return L.NOT_FOUND;case 7:return L.PERMISSION_DENIED;default:return L.INTERNAL_ERROR}}function M(e){if(!e)return[];try{return e.map((function(e){var t,n=e.entry;return{entry:{key:n.key,value:n.value?JSON.parse((t=n.value,decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))):void 0},status:{code:e.status.code?F(e.status.code):L.OK}}}))}catch(e){throw new Error("Failed to deserialize cloud storage data. ".concat(e.message))}}function V(e){try{return e.map((function(e){return{key:e.key,value:e.value?(t=JSON.stringify(e.value),btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))):void 0};var t}))}catch(e){throw new Error("Failed to serialize cloud storage data. ".concat(e.message))}}!function(e){e.OK="OK",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.NOT_FOUND="NOT_FOUND",e.PERMISSION_DENIED="PERMISSION_DENIED",e.INTERNAL_ERROR="INTERNAL_ERROR"}(L||(L={})),function(e){e.USER="USER",e.SESSION="SESSION",e.APP="APP"}(w||(w={}));var G=function(){function e(e,t){this.token=e,this.expiresAt=t}return e.prototype.isExpired=function(e){return this.expiresAt-e<0},e}();function x(e){var t=e.split(".");if(3!=t.length)throw new Error("JWT is not valid.");var n=JSON.parse(atob(t[1])),r=parseInt(n.exp);return new G(e,Math.floor(isNaN(r)?0:r))}var H=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},B=function(){function e(e,t,n,r,o,a){void 0===o&&(o="dev"),void 0===a&&(a="https://gcp.api.snapchat.com"),this.sc=e,this.appId=t,this.sessionId=n,this.userId=r,this.appEnv=o,this.session=new G("",0),this.apiBase="".concat(a).concat("/games/storage/v1/")}return e.prototype.isSessionValid=function(){return this.session.expiresAt-15>Math.floor(Date.now()/1e3)},e.prototype.inSnapchat=function(){return!!this.sc&&!!this.sc.app},e.prototype.refreshSession=function(){return H(this,void 0,void 0,(function(){var e,t=this;return j(this,(function(n){switch(n.label){case 0:return this.isSessionValid()?[2]:this.inSnapchat()?[2,this.sc.fetchAuthToken().then((function(e){t.session=x(e.token)}))]:(["appId","sessionId","userId"].forEach((function(e){if(!t[e])throw new Error("".concat(String(e)," must be set when running outside of Snapchat."))})),[4,fetch("".concat("https://gcp.api.snapchat.com/games/auth/get_test_token?","application_id=").concat(this.appId,"&user_id=").concat(this.userId,"&session_id=").concat(this.sessionId))]);case 1:return[4,n.sent().text()];case 2:return e=n.sent(),this.session=x(e),[2]}}))}))},e.prototype.getPath=function(e,t){var n=this.apiBase;switch(e){case w.USER:n+="user/";break;case w.SESSION:n+="session/";break;case w.APP:n+="app/";break;default:return Promise.reject({code:v.INVALID_PARAM,message:'scope: "'.concat(e,'" is not supported')})}return n+=t,Promise.resolve(n)},e.prototype.doFetch=function(e,t){return H(this,void 0,void 0,(function(){var n,r,o,a;return j(this,(function(i){switch(i.label){case 0:return[4,this.refreshSession()];case 1:return i.sent(),n=new AbortController,r=setTimeout((function(){return n.abort()}),1e3),[4,fetch(e,{method:"POST",headers:(a={Authorization:"Bearer ".concat(this.session.token)},a["x-snap-games-app-env"]=this.inSnapchat()?"":this.appEnv,a),body:t}).then((function(e){if(e.status>=200&&e.status<300)return e.json();switch(e.status){case 400:throw{code:v.INVALID_PARAM,message:e.statusText};case 403:throw{code:v.INVALID_CONFIG,message:"app is not authorized to use this method"};case 429:throw{code:v.RATE_LIMITED,message:"rate limited"};default:throw{code:v.INTERNAL_ERROR,message:"internal error"}}}))];case 2:return o=i.sent(),clearTimeout(r),[2,o]}}))}))},e.prototype.getData=function(e,t,n){var r=this,o={collection:t,keys:n};return this.getPath(e,"getData").then((function(e){return r.doFetch(e,JSON.stringify(o))})).then((function(e){return{responses:M(e.responses)}}))},e.prototype.scanData=function(e,t,n,r){var o=this;void 0===r&&(r="");var a={collection:t,cursor:r,limit:n};return this.getPath(e,"scanData").then((function(e){return o.doFetch(e,JSON.stringify(a))})).then((function(e){return{responses:M(e.responses),cursor:e.cursor}}))},e.prototype.setData=function(e,t,n,r){var o=this;if(void 0===r&&(r=0),e===w.APP)throw new Error("Can not set cloud storage app data.");var a={collection:t,data:V(n),permission:1};return r>0&&(a.ttl_sec=r),this.getPath(e,"putData").then((function(e){return o.doFetch(e,JSON.stringify(a))}))},e.prototype.deleteData=function(e,t,n){var r=this;if(e===w.APP)throw new Error("Can not delete cloud storage app data.");var o={collection:t,keys:n};return this.getPath(e,"deleteData").then((function(e){return r.doFetch(e,JSON.stringify(o))}))},e}(),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},W.apply(this,arguments)},Y=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},K=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},z=window;var J=new Map([["initialize","I"],["playWithFriends","PWF"],["playWithStrangers","PWS"],["fetchAuthToken","FAT"],["loadingComplete","LC"],["setLoadingProgress","SLP"],["submitLeaderboardScore","SLS"],["presentLeaderboard","PL"],["fetchAvatar2D","FA2D"],["fetchAvatar3D","FA3D"],["localStorageSetData","LSSD"],["localStorageGetData","LSGD"],["localStorageDeleteData","LSDD"],["presentPrivacyPolicy","PPP"],["presentTermsOfService","PTOS"],["presentWebpage","PW"],["shareMediaToSnapchat","SMTS"],["shareLensToSnapchat","SLTS"],["logEvent","LE"],["shareAppToChat","SATC"],["getShareInfo","GSI"],["presentReportUI","PRUI"],["getUnconsumedPurchases","GUP"],["getAllProducts","GAP"],["getProducts","GP"],["purchase","P"],["consumePurchase","CP"],["isTokenShopSupported","ITSS"],["sendCustomUpdateToChat","SCUTC"],["sendUpdateNotification","SUN"],["switchAppSession","SAS"],["fetchOAuth2Token","FOA2T"],["onSubmitPayment","OSP"],["onPaymentCanceled","OPC"],["onShippingAddressChanged","OSAC"],["getDiscoverableFriends","GDF"],["switchToFriend","STF"],["getPermissions","GP2"],["requestPermission","RP"],["getUnconsumedAds","GUA"],["initializeAds","IA"],["watchAd","WA"],["consumeAd","CA"],["isAdReady","IAR"],["startLoggingFPS","SLF"],["endLoggingFPS","ELF"],["canCreateShortcut","CCS"],["createShortcut","CS"],["setVolume","SV"],["didTakeScreenshot","DTS"],["adReady","AR"],["adComplete","AC"],["didLoseFocus","DLF"],["didGainFocus","DGF"],["safeAreaDidUpdate","SADU"],["getConsoleLogs","GCL"],["didPresentLeaderboard","DPL"],["didDismissLeaderboard","DDL"],["getTestAutomationMetrics","GTAM"],["loadScriptFile","LSF"],["createShortcutComplete","CSC"]]),q=window,X=function(e){var t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()},Z=function(e,t,n){return r=void 0,o=void 0,i=function(){var r,o;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(a){switch(a.label){case 0:r=sc._u+"C/".concat(e,"?k=")+encodeURIComponent(sc._k)+(t?"&m=".concat(encodeURIComponent(JSON.stringify(t))):"")+(n?"&rid=".concat(encodeURIComponent(n)):""),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(r)];case 2:return o=a.sent(),[4,X(o)];case 3:return[2,a.sent()];case 4:throw{error:a.sent()};case 5:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(i.next(e))}catch(e){t(e)}}function s(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,s)}c((i=i.apply(r,o||[])).next())}));var r,o,a,i},Q=function(){var e=sc._u+"C/LPE?k="+encodeURIComponent(sc._k);fetch(e).then((function(e){if(200!==e.status)return console.error(e.statusText),void setTimeout((function(){Q()}),1e3);X(e).then((function(e){Array.isArray(e)&&e.forEach((function(e){if(e.t){var t=sc._h[e.t];t&&t(e.m,(function(t){e.rid&&function(e,t){Z("LPR",t,e)}(e.rid,t)}))}}))})),Q()})).catch((function(e){setTimeout((function(){Q()}),1e3)}))},$=function(e,t,n,r,o,a){var i=this,s=W(W({},C),{_m:a,_storage:void 0,setLoadingProgress:function(t){return new Promise((function(r){n().then((function(n){n?n.callHandler("setLoadingProgress",{progress:t},r):r(e("setLoadingProgress",{progress:t}))}))}))},loadingComplete:function(){return new Promise((function(t){n().then((function(n){n?n.callHandler("loadingComplete",{},t):t(e("loadingComplete",{}))}))}))},initialize:function(){return Y(i,void 0,void 0,(function(){var a,i,c,l,p,f,h,_;return K(this,(function(E){switch(E.label){case 0:return[4,n()];case 1:return a=E.sent(),s._b=a,s.app=new u,k(t),r(),[4,e("initialize",{minimumClientSupportedVersion:o})];case 2:return i=E.sent(),s.app._id=i.applicationId,s.app._context=i.context,s.app._env=i.env,s.app._sessionId=i.sessionId,s.app._locale=i.locale,i.conversationSize&&(s.app._conversationSize=i.conversationSize),i.safeAreaInsets&&(s.app._safeAreaInsets=i.safeAreaInsets),i.safeAreaInsets&&(c=i.safeAreaInsets,l=c.top,p=c.bottom,f=window.devicePixelRatio,"number"==typeof l&&(h=Math.floor(l/f),document.documentElement.style.setProperty("--window-safe-area-inset-top","".concat(h,"px")),s.app._windowSafeAreaInsets.top=h),"number"==typeof p&&(_=Math.floor(p/f),document.documentElement.style.setProperty("--window-safe-area-inset-bottom","".concat(_,"px")),s.app._windowSafeAreaInsets.bottom=_)),i.volume?(s.app._volume=i.volume,z.pc&&(z.pc.app.systems.sound.volume=i.volume)):i.volume=0,i.user&&(s.app._user=new d(i.user.id,i.user.avatarId,i.user.name,i.user.color)),[2,W(W({},i),{user:s.app._user})]}}))}))},fetchAuthToken:function(){return Y(i,void 0,void 0,(function(){var t;return K(this,(function(n){switch(n.label){case 0:return s.app.authTokenExpiration>Date.now()+5e3?[2,{token:s.app.authToken}]:[4,e("fetchAuthToken")];case 1:return(t=n.sent()).token&&(s.app.authToken=t.token),[2,t]}}))}))},_fetchOAuth2Token:function(){return e("fetchOAuth2Token")},fetchOIDCToken:function(){return Y(i,void 0,void 0,(function(){var e;return K(this,(function(t){return(null===(e=s.app)||void 0===e?void 0:e.OIDCToken)&&s.app.OIDCTokenExpiration>Date.now()?[2,{token:s.app.OIDCToken}]:[2,_(h,2)]}))}))},fetchAvatar2D:function(t,n,r){return e("fetchAvatar2D",{avatarId:t,variant:n,size:r})},fetchAvatar3D:function(t){return e("fetchAvatar3D",{avatarId:t})},playWithFriends:function(t){return Y(i,void 0,void 0,(function(){var n;return K(this,(function(r){switch(r.label){case 0:return[4,e("playWithFriends",{maxNumberOfPlayers:t})];case 1:return n=r.sent(),s.app.updateSession(n.sessionId,n.conversationSize,"CONVERSATION"),s.app._user=new d(n.user.id,n.user.avatarId,n.user.name,n.user.color),[2,n]}}))}))},playWithStrangers:function(){return Y(i,void 0,void 0,(function(){var t;return K(this,(function(n){switch(n.label){case 0:return[4,e("playWithStrangers")];case 1:return t=n.sent(),s.app.updateSession(t.sessionId,1,"INDIVIDUAL"),[2,t]}}))}))},getUnconsumedAds:function(){return e("getUnconsumedAds")},initializeAds:function(t){return e("initializeAds",{slotIds:t})},isAdReady:function(t){return e("isAdReady",{slotId:t})},watchAd:function(t,n){return e("watchAd",{slotId:t,developerPayload:n})},consumeAd:function(t){return e("consumeAd",{requestId:t})},localStorageSetData:function(t){return e("localStorageSetData",{data:t})},localStorageGetData:function(t){return e("localStorageGetData",{keys:t})},localStorageDeleteData:function(t){return e("localStorageDeleteData",{keys:t})},cloudStorageSetData:function(e,t,n,r){return void 0===r&&(r=0),s._storage||(s._storage=new B(s)),s._storage.setData(e,t,n,r)},cloudStorageGetData:function(e,t,n){return s._storage||(s._storage=new B(s)),s._storage.getData(e,t,n)},cloudStorageScanData:function(e,t,n,r){return void 0===r&&(r=""),s._storage||(s._storage=new B(s)),s._storage.scanData(e,t,n,r)},cloudStorageDeleteData:function(e,t,n){return s._storage||(s._storage=new B(s)),s._storage.deleteData(e,t,n)},cloudStorageInitializeLocal:function(e,t,n,r){void 0===r&&(r="dev"),s._storage||(s._storage=new B(s,e,t,n,r))},presentPrivacyPolicy:function(){return e("presentPrivacyPolicy")},presentTermsOfService:function(){return e("presentTermsOfService")},startLoggingFPS:function(){return Y(i,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return z.Android?[4,e("startLoggingFPS")]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},endLoggingFPS:function(t){return Y(i,void 0,void 0,(function(){return K(this,(function(n){switch(n.label){case 0:return z.Android?[4,e("endLoggingFPS",{success:t})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},shareLensToSnapchat:function(t,n,r){return e("shareLensToSnapchat",{lensUUID:t,shareInfo:n,lensLaunchData:r})},shareMediaToSnapchat:function(t,n){return e("shareMediaToSnapchat",{stickers:t,shareInfo:n})},logEvent:function(t,n){return e("logEvent",{eventName:t,parameters:n})},submitLeaderboardScore:function(t,n){return e("submitLeaderboardScore",{leaderboardId:t,score:n})},presentLeaderboard:function(t){return e("presentLeaderboard",{leaderboardId:t})},shareAppToChat:function(t,n,r){return e("shareAppToChat",{shareCard:t,imageShareCard:n,shareInfo:r})},getShareInfo:function(){return e("getShareInfo")},presentWebpage:function(t){return e("presentWebpage",{url:t})},getUnconsumedPurchases:function(){return e("getUnconsumedPurchases")},getAllProducts:function(){return e("getAllProducts",{})},getProducts:function(t){return e("getProducts",{skus:t})},purchase:function(t){return e("purchase",{sku:t})},consumePurchase:function(t){return e("consumePurchase",{transactionId:t})},isTokenShopSupported:function(){return e("isTokenShopSupported")},switchAppSession:function(t){return Y(i,void 0,void 0,(function(){var n;return K(this,(function(r){switch(r.label){case 0:return[4,e("switchAppSession",{targetSessionId:t})];case 1:return n=r.sent(),s.app.updateSession(t,n.conversationSize,n.context),[2,n]}}))}))},validateAgeThreshold:function(){return void 0!==s.app.isAgeValid?Promise.resolve({isAgeValid:s.app.isAgeValid}):_(f,2)},fetchSessions:function(){return p("query { me { connection { sessions { sessionID participantsCount} } } }").then((function(e){var t,n,r,o=null===(r=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.me)||void 0===n?void 0:n.connection)||void 0===r?void 0:r.sessions;if(o)return{sessions:o.map((function(e){return{sessionId:e.sessionID,participantCount:e.participantsCount}}))};throw{code:s.ErrorCodes.INTERNAL_ERROR}}))},fetchParticipants:function(e){if(e.length>10)return Promise.reject(s.ErrorCodes.INVALID_PARAM);var t=JSON.stringify(e);return p("query { me { connection { participants(sessionIDs: ".concat(t," ) { ").concat("participants { abbreviatedDisplayName externalAvatarID externalUserID} sessionID"," } } } }")).then((function(e){var t,n,r,o=null===(r=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.me)||void 0===n?void 0:n.connection)||void 0===r?void 0:r.participants;if(o){var a={};return o.forEach((function(e){var t=e.sessionID,n=e.participants.map((function(e){return{id:e.externalUserID,name:e.abbreviatedDisplayName,avatarId:e.externalAvatarID}}));a[t]=n})),{participants:a}}throw{code:s.ErrorCodes.INTERNAL_ERROR}}))},getDiscoverableFriends:function(){return void 0!==s.app.discoverableFriends?Promise.resolve({friends:s.app.discoverableFriends}):b()},switchToFriend:function(t){return e("switchToFriend",{friendId:t}).then((function(e){if(!e.sessionId)throw{code:s.ErrorCodes.CLIENT_STATE_INVALID};return s.app.updateSession(e.sessionId,2,"CONVERSATION"),e}))},sendUpdateNotification:function(t,n){return e("sendUpdateNotification",{updateId:t,inputs:n})},sendCustomUpdateToChat:function(t,n,r,o){return e("sendCustomUpdateToChat",{updateId:t,inputs:n,bitmojiVariant:r,shareInfo:o})},getPermissions:function(t){return e("getPermissions",{permissionScopes:t})},requestPermission:function(t){return e("requestPermission",{permissionScope:t})},canCreateShortcut:function(){return s._device.android?e("canCreateShortcut"):Promise.resolve({canCreate:!1,failureReason:s.ErrorCodes.CLIENT_UNSUPPORTED})},createShortcut:function(){return s._device.android?e("createShortcut"):new Promise((function(e,t){t({code:s.ErrorCodes.CLIENT_UNSUPPORTED})}))}});return s}((function(e,t){if(void 0===t&&(t={}),sc._b)return new Promise((function(n,r){var o;null===(o=sc._b)||void 0===o||o.callHandler(e,t,(function(e){e&&e.error?r(e.error):n(e)}))}));var n=D(e);return Z(n,t).then((function(e){return new Promise((function(t,n){e&&e.error?n(e.error):t(e)}))}))}),(function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=sc.app).emit.apply(t,y([e],N(n),!1))}),(function(){return new Promise((function(e){if(q.Android)if(sc._device.android=!0,q.bridge)e(q.bridge);else{var t=q.jsBridgeSetupCallback;q.jsBridgeSetupCallback=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t&&t.apply(this,n),e.apply(this,n)}}else{if(sc._device.ios=!0,sc._k)return void e(void 0);for(var n=document.location.search.substring(1).split("&"),r=void 0,o=void 0,a=void 0,i=0;i<n.length;i++){var s=n[i].split("="),c=decodeURIComponent(s[0]);"k"==c?o=decodeURIComponent(s[1]):"b"===c?r=decodeURIComponent(s[1]):"p"===c&&(a=decodeURIComponent(s[1]))}if(r&&"js"!==r){if(o||console.warn("Missing k"),a){var u=location.pathname.replace(/[^/]*\.[^/.]+$/,"").replace(/(^\/)|(\/$)/g,"");sc._u="http://127.0.0.1:".concat(a,"/").concat(u?u+"/":"")}sc._k=o,e(void 0)}else{if(q.WebViewJavascriptBridge)return e(q.WebViewJavascriptBridge);if(q.WVJBCallbacks)return q.WVJBCallbacks.push(e);q.WVJBCallbacks=[e];var l=document.createElement("iframe");l.style.display="none",l.src="https://__bridge_loaded__",document.documentElement.appendChild(l),setTimeout((function(){return document.documentElement.removeChild(l)}),0)}}}))}),(function(){sc._b||Q()}),20220131,J);"undefined"!=typeof window&&(window.sc=$);const ee=$;return t.default})()}));