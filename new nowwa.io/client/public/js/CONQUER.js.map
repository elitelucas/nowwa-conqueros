{"mappings":"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","sources":["src/UTIL/STRING.ts","src/UTIL/MATH.ts","src/UTIL/Instances/Vec2.ts","src/UTIL/Instances/Vec3.ts","src/UTIL/LOG.ts","node_modules/engine.io-parser/build/esm/commons.js","node_modules/engine.io-parser/build/esm/encodePacket.browser.js","node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","node_modules/engine.io-parser/build/esm/decodePacket.browser.js","node_modules/engine.io-parser/build/esm/index.js","node_modules/@socket.io/component-emitter/index.mjs","node_modules/engine.io-client/build/esm/globalThis.browser.js","node_modules/engine.io-client/build/esm/util.js","node_modules/engine.io-client/build/esm/transport.js","node_modules/engine.io-client/build/esm/contrib/yeast.js","node_modules/engine.io-client/build/esm/contrib/parseqs.js","node_modules/engine.io-client/build/esm/contrib/has-cors.js","node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","node_modules/engine.io-client/build/esm/transports/polling.js","node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/engine.io-client/build/esm/transports/websocket.js","node_modules/engine.io-client/build/esm/transports/index.js","node_modules/engine.io-client/build/esm/contrib/parseuri.js","node_modules/engine.io-client/build/esm/socket.js","node_modules/engine.io-client/build/esm/index.js","node_modules/socket.io-client/build/esm/url.js","node_modules/socket.io-client/node_modules/socket.io-parser/build/esm/is-binary.js","node_modules/socket.io-client/node_modules/socket.io-parser/build/esm/binary.js","node_modules/socket.io-client/node_modules/socket.io-parser/build/esm/index.js","node_modules/socket.io-client/build/esm/on.js","node_modules/socket.io-client/build/esm/socket.js","node_modules/socket.io-client/build/esm/contrib/backo2.js","node_modules/socket.io-client/build/esm/manager.js","node_modules/socket.io-client/build/esm/index.js","node_modules/process/browser.js","node_modules/path-browserify/index.js","node_modules/os-browserify/browser.js","node_modules/dotenv/lib/main.js","src/Core/CONFIG/CONFIG.ts","src/UTIL/DATE.ts","src/UTIL/Instances/TimerInstance.ts","src/Frontend/SOCKET/Socket.ts","src/Models/ENUM.ts","src/Frontend/USER/Auth.ts","src/Frontend/FILE/Files.ts","src/Frontend/USER/WebAuth.ts","src/UTIL/RANDOM.ts","src/Frontend/USER/User.ts","src/Frontend/UTILS/Storage.ts","src/UTIL/ARRAY.ts","src/Frontend/FRIENDS/FriendInstance.ts","src/Frontend/FRIENDS/Friends.ts","src/Frontend/ROOMS/RoomInstance/Entries.ts","src/Frontend/ROOMS/RoomInstance/RoomInstance.ts","src/Frontend/ROOMS/Rooms.ts","src/Frontend/ANALYTICS/Analytics.ts","src/Frontend/FOLLOWERS/FollowerInstance.ts","src/Frontend/FOLLOWERS/Followers.ts","src/Frontend/GAMES/Score.ts","src/Frontend/GAMES/TURNS/TurnsInstance.ts","src/Frontend/GAMES/TURNS/Turns.ts","src/Frontend/GAMES/SHOP/ShopItem.ts","src/Frontend/GAMES/SHOP/ShopTabInstance.ts","src/Frontend/GAMES/SHOP/Shop.ts","src/Frontend/GAMES/WALLET/GameCurrency.ts","src/Frontend/GAMES/WALLET/GameWallet.ts","src/Frontend/GAMES/INVENTORY/InventoryItem.ts","src/Frontend/GAMES/INVENTORY/PlayerInventory.ts","src/Frontend/GAMES/DailyRewards.ts","src/Frontend/GAMES/GameInstance.ts","src/Frontend/GAMES/Games.ts","src/Frontend/ITEM/Awesome.ts","src/Frontend/ITEM/Stats.ts","src/Frontend/ITEM/Tags.ts","src/Frontend/ITEM/InstanceItem.ts","src/Frontend/ITEM/Instances.ts","src/Frontend/WALLET/INSTANCE/WalletAssets.ts","src/Frontend/WALLET/INSTANCE/WalletHistory.ts","src/Frontend/WALLET/INSTANCE/WalletInstance.ts","src/Frontend/WALLET/Wallets.ts","node_modules/howler/dist/howler.js","src/Frontend/AUDIO/SoundChannel.ts","src/Frontend/AUDIO/Sounds.ts","src/Frontend/CONQUER.ts"],"sourcesContent":["import MATH from \"./MATH\";\r\nimport LOG, { log } from \"./LOG\";\r\n\r\nclass STRING\r\n{\r\n    public static contains( text:string, string:string ) : boolean\r\n    {\r\n        return text.toLowerCase().indexOf( string.toLowerCase() ) != -1;\r\n    };\r\n\r\n    public static containsStrict( text:string, string:string ) : boolean\r\n    {\r\n        return text.indexOf( string ) != -1;\r\n    };\r\n        \r\n    public static split( text:string, string:string ) : string\r\n    {\r\n        return text.toLowerCase().split( string.toLowerCase() )[0];\r\n    };\r\n        \r\n    public static displaySign( number:number, msg:string )\r\n    {\r\n        var text  = number > 0 ? \"+\"+ number : number; \r\n        if ( msg ) text += \" \" + msg; \r\n        \r\n        return text; \r\n    };\r\n        \r\n    public static trim( str:string ) \r\n    {           \r\n        while (str.charAt(0) == \" \") str = str.substr(1);\r\n        while (str.charAt(str.length - 1) == \" \") str = str.substr(0, -1);\r\n        return str;\r\n    };\r\n\r\n    public static lTrim( str:string ) : string \r\n    {           \r\n        while( str.charAt(0) == \" \" ) str = str.substr(1);\r\n        return str;\r\n    };\r\n\r\n    public static rTrim( str:string ) :string\r\n    {           \r\n        while( str.charAt(str.length - 1) == \" \" ) str = str.substr(0, -1);\r\n        return str;\r\n    };\r\n        \r\n    public static string( char:string, repeat:number=1 ) : string\r\n    {\r\n        if( repeat <= 0) return \"\";\r\n        var r = \"\";\r\n        for (var i = 0; i < repeat; i++) r += char;\r\n        return r;\r\n    };\r\n      \r\n    public static validateEmail( email?:string )\r\n    {\r\n        if( !email ) return false;\r\n\r\n        var EMAIL_REGEX = /^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\\.)+[A-Z]{2,4}$/i;\r\n        return email.match( EMAIL_REGEX );\r\n    };\r\n        \r\n    public static beginsWith( input:string, prefix:string )\r\n    {           \r\n        return prefix == input.substring( 0, prefix.length );\r\n    };\r\n        \r\n    public static getPrefix( text:string, separator:string=\"_\", toLowerCase:boolean=false ) \r\n    {\r\n        var output = text.split( separator )[0];\r\n        if( toLowerCase ) output.toLowerCase();\r\n        return output;\r\n    };\r\n\r\n    public static endsWith( input:string, suffix:string )\r\n    {\r\n        return suffix == input.substring(input.length - suffix.length);\r\n    };\r\n \r\n    public static getArray( str:string, divider:string=\" \" )\r\n    {\r\n        if( !str ) return[0];\r\n\r\n        divider             = divider || \",\";\r\n        var array : any     = STRING.doReplace( str+\"\", \" \", \"\" ).split( divider );\r\n \r\n        for( var n in array ) array[n] = MATH.tryParseInt( array[n] );\r\n    \r\n        return array;\r\n    };\r\n\r\n    public static doReplace( string:string, srch:string, replaceWith:string )\r\n    {\r\n        return string.split( srch ).join( replaceWith );\r\n    };\r\n\r\n    public static removeVowels( str:string, minLength:number=3 )\r\n    {\r\n        if( str.length <= minLength ) return str;\r\n\r\n        return str.replace(/[AEIOUaeiou-]/gi, '');//01234567890\r\n    };\r\n\r\n    public static getFileExtension( target:string ) \r\n    {\r\n        return target.substring( target.lastIndexOf(\".\")+1, target.length).toLowerCase();\r\n    };\r\n        \r\n    public static containsKeys( txt:string, keywords:string ) \r\n    {\r\n        if( !keywords ) return false; \r\n        \r\n        var keys    =   keywords.split(\",\"); \r\n        var text    =   txt.toLowerCase() ;\r\n        \r\n        for ( var n in keys ) if( text.indexOf( keys[n]) != -1 ) return true;\r\n    };\r\n\r\n    public static replace( string:string, srch:any, replaceWith:string ) \r\n    {\r\n        if( !string ) return null;\r\n\r\n        if( typeof srch == \"string\" && replaceWith ) return STRING.doReplace( string, srch, replaceWith );\r\n \r\n        for( var name in srch )\r\n        {\r\n            var suffix = \"\";\r\n            var prefix = \"\";\r\n\r\n            if( name == \"percent\" ) suffix = \"%\";\r\n            if( name == \"USD\" ) prefix = \"$\";\r\n\r\n            string = STRING.doReplace( string, \"{\" + name + \"}\", prefix + srch[name] + suffix );\r\n        }\r\n\r\n        return string;\r\n    };\r\n\r\n    public static excludeChars( target:string, chars:string ) \r\n    {\r\n        var txt     = \"\", valid;\r\n        var chars   = chars || \":,<>-'{}[]/*-+!;8!@#$%.^&*()\";\r\n\r\n        for( var c = 0; c<target.length; c++ ) \r\n        {\r\n            valid = true;\r\n\r\n            for( var z = 0; z<chars.length; z++)\r\n            {\r\n                if (target.charAt(c) == chars.charAt(z)) {\r\n                    valid = false;\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            if( valid ) txt += target.charAt(c);\r\n        }\r\n        return txt;\r\n    };\r\n \r\n    public static extractKeywords( text:string, length:number=0 )\r\n    {\r\n        var validChars  = \"abcdefghijklmnopqrstuvwxyz\";\r\n        var output      = [];\r\n        var max         = text.length;\r\n        var text        = text.toLowerCase();\r\n        var string       = \"\";\r\n        \r\n        for( var n = 0; n< max; n++ )\r\n        {\r\n            var char    =   text.charAt( n );\r\n            \r\n            if( validChars.indexOf( char ) != -1 )\r\n            {\r\n                string += char;\r\n            }else{\r\n                \r\n                if( string.length > length ) output.push( string );\r\n                string = \"\";\r\n            }\r\n        }\r\n        \r\n        return output;\r\n    };\r\n     \r\n    public static fillZero( input:number, zeros:number=1 ) : string\r\n    {\r\n        var string  = input +\"\";\r\n \r\n        while ( string.length <= zeros ) string = \"0\"+string;\r\n\r\n        if( string == \"0\" ) string =\"00\";\r\n\r\n        return string;\r\n    };\r\n\r\n    public static formatRank( input:number ) : string\r\n    {\r\n        var append :string = \"th\";\r\n \r\n        if ( input == 1 ) append = \"st\";\r\n        if ( input == 2 ) append = \"nd\";\r\n        if ( input == 3 ) append = \"rd\";\r\n \r\n        return input + append;\r\n    };\r\n\r\n    public static commas( num:any, interval:number=3 ) \r\n    {\r\n        num = num + \"\";\r\n \r\n        var output = \"\";\r\n        var str;\r\n        var c = 0;\r\n        \r\n        for (var n = num.length-1; n>=0; n--) \r\n        {\r\n            str = \"\";\r\n\r\n            if( ++c >= interval && n>0 ) \r\n            { \r\n                c = 0;\r\n                str =\" \"; \r\n            };\r\n            str += num.charAt(n);\r\n            output = str+output;\r\n        }\r\n \r\n        return output; \r\n    };\r\n\r\n    public static toDollars( value:number, sign:string=\"$\", divider:any = 1 ) : string \r\n    {\r\n        var isNeg       = value < 0;\r\n \r\n        var formatted   = sign + STRING.commas( Math.abs( Math.round( value/divider ) ) );\r\n        if( isNeg ) formatted = \"-\" + formatted;\r\n        return formatted;\r\n    };\r\n  \r\n    public static simplify( string:any )\r\n    {\r\n        var output = \"\";\r\n        var vowels = \"aeiou\";\r\n        var string = string.toLowerCase(); \r\n\r\n        for( var n in string ) if( vowels.indexOf( string[n] ) ==-1 ) output += string[n];\r\n\r\n        return output;\r\n    };\r\n\r\n    public static toArray( string:any, isInt:boolean )\r\n    {\r\n        var output : any = [];\r\n\r\n        if( !string ) return output;\r\n\r\n        for( var n in string ) \r\n        {\r\n            var value =  string[n];\r\n            if( isInt ) value = parseInt( value );\r\n            output.push( value );\r\n        }\r\n        return output;   \r\n    };\r\n    \r\n\r\n    public static commarize( number:number, asObject:boolean ) \r\n    {\r\n        if( !MATH.isNumber( number ) ) return number;\r\n \r\n        var num         = Math.round( number );\r\n        var unitname    = \"\";\r\n\r\n        if ( num >= 1e3 ) \r\n        {\r\n            var unit    = Math.floor(((number).toFixed(0).length - 1) / 3) * 3;\r\n            num         = Math.floor( num / ( eval( '1e' + unit ) * 100 ) ) / 100;\r\n            unitname    = STRING.capitalize( STRING.units[ Math.floor( unit / 3 ) - 1 ] ) ;\r\n        }else{\r\n            \r\n            num         = Math.floor( num * 100 ) / 100;\r\n        }\r\n        \r\n        var object : any = { number:num, value:num, unit:unitname ||  \"\" };\r\n        \r\n        if( unitname ) unitname = \"\"+ unitname;\r\n \r\n        var formatted = num + unitname;\r\n        \r\n        object.formatted = formatted;\r\n        \r\n        return asObject ? object : formatted;\r\n    };\r\n    \r\n    public static capitalize( s:any ) : string \r\n    {\r\n        if ( typeof s !== 'string') return '';\r\n        return s.charAt(0).toUpperCase() + s.slice(1);\r\n    };\r\n    \r\n    public static stringify( object:any ) \r\n    {\r\n        var json;\r\n      \r\n        try {\r\n            \r\n            json = JSON.stringify( object );\r\n            \r\n        }catch(err) \r\n        {\r\n            return log( \"JSON ENCODE FAILED\" );\r\n        }\r\n\r\n        return json;\r\n        \r\n    };\r\n\r\n    public static random( Length:number = 10 )\r\n    {\r\n        let result          = '';\r\n        let alphabetLength  = STRING.ALPHABET.length;\r\n        \r\n        for ( let i = 0; i < Length; i++ ) result += STRING.ALPHABET.charAt(Math.floor(Math.random() * alphabetLength));\r\n \r\n        return result;\r\n    };\r\n};\r\n\r\nnamespace STRING\r\n{\r\n    export const ALPHABET : string      = \"#ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n    export const unitsLarge : string [] = [\"thousand\",\"million\",\"billion\",\"trillion\",\"quaddrillion\",\"quintillion\",\"sextillion\",\"septillion\",\"octillion\",\"nonillion\",\"decillion\",\"undecillion\",\"duodecillion\",\"tredecillion\",\"quattuordecillion\",\"quindecillion\",\"sexdecillion\",\"septdecillion\",\"octodecillion\",\"novemdecillion\",\"vigintillion\",\"unvigintillion\",\"duovigintillion\",\"trevigintillion\",\"quattuorvigintillion\",\"quinvigintillion\",\"sexvigintillion\",\"septvigintillion\",\"octovigintillion\",\"novemvigintillion\",\"trigintillion\",\"untrigintillion\",\"duotrigintillion\",\"googol\",\"tretrigintillion\",\"quattuortrigintillion\",\"quintrigintillion\",\"sextrigintillion\",\"septtrigintillion\",\"octotrigintillion\",\"novemtrigintillion\",\"quadragintillion\",\"unquadragintillion\",\"duoquadragintillion\",\"trequadragintillion\",\"quattuorquadragintillion\",\"quinquadragintillion\",\"sexquadragintillion\",\"septquadragintillion\",\"octoquadragintillion\",\"novemquadragintillion\",\"quinquagintillion\",\"unquinquagintillion\",\"duoquinquagintillion\",\"trequinquagintillion\",\"quattuorquinquagintillion\",\"quinquinquagintillion\",\"sexquinquagintillion\",\"septquinquagintillion\",\"octoquinquagintillion\",\"novemquinquagintillion\",\"sexagintillion\",\"unsexagintillion\",\"duosexagintillion\",\"tresexagintillion\",\"quattuorsexagintillion\",\"quinsexagintillion\",\"sexsexagintillion\",\"septsexagintillion\",\"octosexagintillion\",\"novemsexagintillion\",\"septuagintillion\",\"unseptuagintillion\",\"duoseptuagintillion\",\"treseptuagintillion\",\"quattuorseptuagintillion\",\"quinseptuagintillion\",\"sexseptuagintillion\",\"septseptuagintillio\",\"octoseptuagintillion\",\"novemseptuagintillion\",\"octogintillion\",\"unoctogintillion\",\"duooctogintillion\",\"treoctogintillion\",\"quattuoroctogintillion\",\"quinoctogintillion\",\"sexoctogintillion\",\"septoctogintillion\",\"octooctogintillion\",\"novemoctogintillion\",\"nonagintillion\",\"unnonagintillion\",\"duononagintillion\",\"trenonagintillion\",\"quattuornonagintillion\",\"quinnonagintillion\",\"sexnonagintillion\",\"septnonagintillion\",\"octononagintillion\",\"novemnonagintillion\",\"centillion\"];\r\n    export const units : string []      = [\"k\",\"M\",\"B\",\"T\",\"qd\",\"Qn\",\"sx\",\"Sp\",\"O\",\"N\",\"decillion\",\"undecillion\",\"duodecillion\",\"tredecillion\",\"quattuordecillion\",\"quindecillion\",\"sexdecillion\",\"septdecillion\",\"octodecillion\",\"novemdecillion\",\"vigintillion\",\"unvigintillion\",\"duovigintillion\",\"trevigintillion\",\"quattuorvigintillion\",\"quinvigintillion\",\"sexvigintillion\",\"septvigintillion\",\"octovigintillion\",\"novemvigintillion\",\"trigintillion\",\"untrigintillion\",\"duotrigintillion\",\"googol\",\"tretrigintillion\",\"quattuortrigintillion\",\"quintrigintillion\",\"sextrigintillion\",\"septtrigintillion\",\"octotrigintillion\",\"novemtrigintillion\",\"quadragintillion\",\"unquadragintillion\",\"duoquadragintillion\",\"trequadragintillion\",\"quattuorquadragintillion\",\"quinquadragintillion\",\"sexquadragintillion\",\"septquadragintillion\",\"octoquadragintillion\",\"novemquadragintillion\",\"quinquagintillion\",\"unquinquagintillion\",\"duoquinquagintillion\",\"trequinquagintillion\",\"quattuorquinquagintillion\",\"quinquinquagintillion\",\"sexquinquagintillion\",\"septquinquagintillion\",\"octoquinquagintillion\",\"novemquinquagintillion\",\"sexagintillion\",\"unsexagintillion\",\"duosexagintillion\",\"tresexagintillion\",\"quattuorsexagintillion\",\"quinsexagintillion\",\"sexsexagintillion\",\"septsexagintillion\",\"octosexagintillion\",\"novemsexagintillion\",\"septuagintillion\",\"unseptuagintillion\",\"duoseptuagintillion\",\"treseptuagintillion\",\"quattuorseptuagintillion\",\"quinseptuagintillion\",\"sexseptuagintillion\",\"septseptuagintillio\",\"octoseptuagintillion\",\"novemseptuagintillion\",\"octogintillion\",\"unoctogintillion\",\"duooctogintillion\",\"treoctogintillion\",\"quattuoroctogintillion\",\"quinoctogintillion\",\"sexoctogintillion\",\"septoctogintillion\",\"octooctogintillion\",\"novemoctogintillion\",\"nonagintillion\",\"unnonagintillion\",\"duononagintillion\",\"trenonagintillion\",\"quattuornonagintillion\",\"quinnonagintillion\",\"sexnonagintillion\",\"septnonagintillion\",\"octononagintillion\",\"novemnonagintillion\",\"centillion\"];\r\n};\r\n\r\nexport default STRING;\r\n\r\nexport var replace = STRING.replace;\r\n\r\n ","import Vec2 from \"./Instances/Vec2\";\r\nimport Vec3 from \"./Instances/Vec3\";\r\nimport Mat4 from \"./Instances/Mat4\";\r\n \r\nclass MATH\r\n{\r\n\tpublic static hipotenusa( pointA:any, _pointB:any ) : number\r\n\t{\r\n\t\tvar pointB  = _pointB || { x:0, y:0 };\r\n        var dx      = pointB.x - pointA.x;\r\n        var dy      = pointB.y - pointA.y;\r\n        \r\n\t\treturn Math.sqrt(dx*dx+dy*dy);\r\n\t};\r\n\r\n\tpublic static hipotenusaZ( pointA:any, pointB:any ) : number \r\n\t{\r\n        var dx      = pointB.x - pointA.x;\r\n        var dz      = pointB.z - pointA.z;\r\n        \r\n\t\treturn Math.sqrt( dx*dx+dz*dz );\r\n\t};\r\n\r\n    public static distanceNoSquare( pointA:any, pointB:any ) : number\r\n    {\r\n        var x = pointB.x - pointA.x;\r\n        var y = pointB.y - pointA.y;\r\n        \r\n\t\treturn x * x + y * y; \r\n    }; \r\n    \r\n\tpublic static cycle( value:number, max:number=100, min:number=0, incremental:number=1 ) : number\r\n\t{\r\n        value \t\t+= incremental;\r\n\r\n\t\twhile( value > max ) \tvalue -= max + incremental;\r\n\t\twhile( value < min ) \tvalue += max + incremental;\r\n\r\n\t\treturn value; \r\n\t};\r\n\r\n\tpublic static getSinCos( pointA:any, pointB:any ) : Vec2\r\n    {\r\n        var dx  =   pointB.x - pointA.x;\r\n        var dy  =   pointB.y - pointA.y; \r\n        var h   =   Math.sqrt(dx*dx+dy*dy);\r\n\r\n        var cos =  dx/h; \r\n        var sin =  dy/h;\r\n\r\n        return new Vec2( cos, sin );\r\n    };\r\n    \r\n    public static getSinCosZ( pointA:any, pointB:any ) : any\r\n    {\r\n        var dx  =   pointB.x - pointA.x;\r\n        var dz  =   pointB.z - pointA.z; \r\n        var h   =   Math.sqrt( dx*dx+dz*dz );\r\n \r\n        return { sin: dz/h, cos: dx/h };\r\n    };\r\n \r\n\tpublic static aroundRadius( radius:number, radians:number ) \r\n\t{\r\n\t\treturn { x:radius * Math.cos( radians ), y:radius * Math.sin( radians )};\r\n\t};\r\n    \r\n    public static lerp( value1:number, value2:number, amount:number ) : number\r\n    {\r\n        var amount = MATH.hardLimit( amount, 0, 1 );\r\n        return value1 + (value2 - value1) * amount;\r\n    };\r\n \r\n    public static round( value:number ) : number\r\n    {   \r\n        for( var n in MATH.factors ) if( value > MATH.factors[n] ) return roundFactor( value, MATH.factors[n] );\r\n\r\n        return value;\r\n \r\n        function roundFactor( value:number, factor:number )\r\n        {\r\n            return Math.round( value / factor ) * factor ;\r\n        }\r\n    };\r\n \r\n\tpublic static ceil( number:number, max:number ) : number\r\n\t{\r\n\t\treturn number > max ? max : number ; \r\n\t};\r\n\r\n\tpublic static getPercent( number:number, max:number ) : number\r\n\t{\r\n\t\treturn MATH.hardLimit( number * 100 / max, 0, 100 );\r\n\t};\r\n\r\n\tpublic static hardLimit( number:number, min:number, max:number ) : number\r\n\t{\r\n\t\treturn MATH.clamp( number, max, min ); \r\n\t};\r\n\r\n\tpublic static clamp( number:number, max:number, min:number=0 ) : number\r\n\t{\r\n\t\tif( number < min  ) return min; \r\n\t\tif( max && number > max ) return max; \r\n\r\n\t\treturn number ;\r\n\t};\r\n \r\n\tpublic static floor( number:number, min:number ) : number\r\n\t{\r\n\t\treturn number < min ? min : number;  \r\n\t};\r\n\r\n\tpublic static commas( value:number ) : string\r\n\t{\r\n       return typeof value == 'number' ? value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \") : value;    \r\n\t};\r\n\r\n    public static isNumber( value:any ) : boolean\r\n\t{\r\n       return typeof value == 'number';    \r\n\t};\r\n    \r\n    public static forceNumber( value:any ) : number\r\n    {\r\n        if( !value ) return 0;\r\n        \r\n        var int = parseInt( value );\r\n        \r\n        return MATH.isNumber( int ) ? int : 1;\r\n    };\r\n\r\n    public static tryParseInt( value:any ) : number\r\n    {\r\n        var parsed = parseInt( value );\r\n\r\n        return isNaN( parsed ) ? value : parsed;\r\n    };\r\n\r\n    public static parseInt( string:any ) : number\r\n    {\r\n        string = string.toString();\r\n      \r\n        if( string.indexOf( \"E+\" ) == -1 ) return parseInt( string );\r\n  \t\t      \r\n        var array = string.split( \"E+\" );\r\n \r\n        var first = array[0].split('.');\r\n      \r\n         var zeroes = parseInt( array[1] );\r\n \r\n        if( first[1] ) first[0] += first[1];\r\n        \r\n        var value = first[0] ;\r\n \r\n        for( var n=0; n< zeroes; n++ ) value += \"0\";\r\n \r\n        return parseInt( value );\r\n    };\r\n \r\n\tpublic static middlePoint( pointA:any, pointB:any ) : any\r\n\t{\r\n\t\tvar x = pointA.x + ( pointB.x - pointA.x ) / 2; \r\n\t\tvar y = pointA.y + ( pointB.y - pointA.y ) / 2; \r\n\r\n\t\treturn { x:x, y:y };\r\n\t};\r\n\r\n\tpublic static getRotation( container:any={ x:0, y:0 }, lookat:any={ x:0, y:0 } ) : any\r\n\t{\r\n\t\treturn MATH.radiansToDegree( Math.atan2( lookat.y-container.y, lookat.x-container.x ) ) + 90; \r\n\t};\r\n \r\n    \r\n    public static distance( A:number, B:number ) : number\r\n\t{\r\n        return B - A;\r\n\t};\r\n \r\n\tpublic static degreeToRadians( degree:number ) : number\r\n\t{\r\n\t\treturn ( degree || 0 ) * 0.0174533;\r\n\t};\r\n\r\n\tpublic static radiansToDegree( radian:number ) : number\r\n\t{\r\n\t\treturn radian / 0.0174533;\r\n\t};\r\n \r\n\tpublic static pointToIso( from:any, to:any={} ) : number\r\n\t{\r\n\t\tto.x = ( from.x - from.y ) * 0.5 ;\r\n\t\tto.y = ( from.x + from.y ) * 0.289;  \r\n\t\treturn to ;\r\n\t};\r\n\r\n\tpublic static isoToPoint( iso:any, normal:any={} ) : number\r\n\t{\r\n\t\tnormal.x = ( iso.y / 0.289 + iso.x / 0.5 )/2;\r\n\t\tnormal.y = ( iso.y / 0.289 - iso.x / 0.5 )/2;\r\n\t\treturn normal; \r\n\t};\r\n \r\n\tpublic static getclosestPoint( lx1:number, ly1:number, lx2:number, ly2:number, px:number, py:number) : any\r\n\t{\r\n\t\tvar oy  = ly2 - ly1; \r\n\t\tvar ox  = lx1 - lx2; \r\n\t\tvar det = oy*oy + ox*ox; \r\n\r\n\t\tif( det === 0 ) return undefined;\r\n\t\t\r\n\t\tvar C1 = oy*lx1 + ox*ly1; \r\n\t\tvar C2 = -ox*px + oy*py; \r\n\r\n\t\treturn [\r\n\t\t\t(oy*C1 - ox*C2)/det,\r\n\t\t\t(oy*C2 + ox*C1)/det\r\n\t\t];\r\n\t};\r\n\r\n\tpublic static higherValue( a:number, b:number ) : number\r\n\t{\r\n\t\treturn a > b ? a : b; \r\n\t};\r\n\r\n\tpublic static lowerValue( a:number, b:number ) :number\r\n\t{\r\n\t\treturn a < b ? a : b; \r\n\t};\r\n\r\n\tpublic static tsunami( pointA:any, pointB:any, aura:number=500 ) : any\r\n\t{\r\n\t\tvar dx \t= \tpointB.x - pointA.x; \r\n\t\tvar dy \t= \tpointB.y - pointA.y;\r\n\t\tvar h\t=\tMath.sqrt( dx*dx + dy*dy );\r\n\r\n\t\tif( h == 0 ) return false;\r\n\r\n\t\tif( h > aura ) return false; \r\n\r\n\t\tvar cos = \tdx/h;\r\n\t\tvar sin = \tdy/h;\r\n\r\n\t\tdx = pointB.x;\r\n\t\tdy = pointB.y;\r\n \r\n\t\tif( h < aura / 2 )\r\n\t\t{\r\n\t\t\tdx += cos * h / 2;  \r\n\t\t\tdy += sin * h / 2;\r\n\t\t\t\r\n\t\t\treturn {x:dx, y:dy};\r\n\t\t} \r\n\r\n\t\tdx += cos * ( aura - h ) / 2;  \r\n\t\tdy += sin * ( aura - h ) / 2;\r\n\t\t\t\r\n\t\treturn {x:dx, y:dy};\r\n\t};\r\n\r\n\tpublic static isBetween( value:number, min:number, max:number ) : boolean\r\n\t{\r\n\t\treturn !( value < min || value > max );\r\n\t};\r\n\r\n\tpublic static isBetweenAB( aMin:number, aMax:number, bMin:number, bMax:number ) : boolean\r\n\t{\r\n\t\treturn !( aMax < bMin || aMin > bMax );\r\n\t};\r\n\r\n\tpublic static isBetweenAABB( aMin:number, aMax:number, bMin:number, bMax:number, cMin:number, cMax:number, dMin:number, dMax:number ) : boolean\r\n\t{\r\n\t\treturn !( aMax < bMin || aMin > bMax || cMax < dMin || cMin > dMax );\r\n\t};\r\n\r\n\tpublic static getClosest( array:any, to:any = { x:0, y:0 } ) : any\r\n\t{\r\n\t\tvar closest \t= undefined ;\r\n\t\tvar distance \t= 9999999999999;\r\n\r\n\t\tfor( var n in array )\r\n\t\t{\r\n\t\t\tvar point \t= array[n];\r\n\t\t\tvar dist \t= MATH.hipotenusa( point, to );\r\n\r\n\t\t\tif( dist > distance ) continue;\r\n\r\n\t\t\tdistance \t= dist;\r\n\t\t\tclosest \t= point; \t\r\n\t\t}\r\n\r\n\t\treturn closest; \r\n\t};\r\n \r\n\tpublic static roundDecimal( value:number, decimals:number=10 ) : number\r\n\t{\r\n\t\treturn Math.round( value * decimals ) / decimals;\r\n\t};\r\n    \r\n    public static getSign( value:number ) : number\r\n\t{\r\n\t\treturn value < 0 ? -1 : 1;\r\n\t};\r\n    \r\n    public static double( value:number, times:number=1 ) : number\r\n    {\r\n        while( --times >=1 ) value *= 2;\r\n        \r\n        return value;\r\n    };\r\n    \r\n    public static getMiddlePoint( points:any ) : Vec2\r\n    {\r\n        var left;\r\n        var right;\r\n        var top;\r\n        var bottom;\r\n\r\n        for( var n in points )\r\n        {\r\n            var point = points[n];\r\n            \r\n            if( !left || point.x < left ) left = point.x;\r\n            if( !right || point.x > right ) right = point.x;\r\n            if( !bottom || point.y < bottom ) bottom = point.y;\r\n            if( !top || point.y > top ) top = point.y;\r\n        }\r\n\r\n        return new Vec2( left + (right - left)/2, bottom + (top - bottom)/2 );\r\n    };\r\n    \r\n    public static normalizePoints( points:any ) : any\r\n    {\r\n        var center = MATH.getMiddlePoint( points );\r\n        \r\n        for( var n in points )\r\n        {\r\n            var point = points[n];\r\n            \r\n            point.x -= center.x;\r\n            point.y -= center.y;\r\n        }\r\n        \r\n        return points;\r\n    };\r\n \r\n    /*\r\n    public static normalizeAndShiftPoints( points:any, side:number, scale:number ) : number\r\n    {\r\n        if( scale === undefined ) scale = 1;\r\n\r\n        const center = MATH.v1;\r\n        const dir = MATH.v2;\r\n        \r\n        let minX = Number.POSITIVE_INFINITY;\r\n        let minY = Number.POSITIVE_INFINITY;\r\n        \r\n        let maxX = Number.NEGATIVE_INFINITY;\r\n        let maxY = Number.NEGATIVE_INFINITY;\r\n\r\n        for ( let n = 0, nl = points.length; n < nl; ++n ) \r\n        {\r\n            const p = points[n];\r\n            \r\n            p.x = p.x / side;\r\n            p.y = p.y / side;\r\n            \r\n            if( p.x < minX ) minX = p.x;\r\n            if( p.y < minY ) minY = p.y;\r\n            \r\n            if( p.x > maxX ) maxX = p.x;\r\n            if( p.y > maxY ) maxY = p.y;            \r\n        }\r\n        \r\n        const cx = minX + (maxX - minX) / 2;\r\n        const cy = minY + (maxY - minY) / 2;\r\n        \r\n        center.set(cx, cy);\r\n        \r\n        for (let n = 0, nl = points.length; n < nl; ++n) {\r\n            const p = points[n];\r\n            \r\n            dir.set(0, 0, 0).sub(center).normalize();\r\n            \r\n            const dist = center.distance( Vec2.ZERO);\r\n            \r\n            const move = dir.mulScalar(dist);\r\n            \r\n            p.add( move ).mulScalar( scale );\r\n        }\r\n        \r\n        return points;\r\n    };\r\n \r\n    public static angle( from:any, to:any )\r\n    {\r\n        const denom = Math.sqrt(from.length() * to.length());\r\n        if (denom < 1e-15) return 0;\r\n\r\n        const dot = pc.math.clamp(from.dot(to) / denom, -1, 1);\r\n       // return Math.acos(dot) * pc.math.RAD_TO_DEG;\r\n    };\r\n \r\n    public static signedAngle( from, to, axis ) : number\r\n    {\r\n        const unsignedAngle = MATH.angle( from, to );\r\n\r\n        const x = from.y * to.z - from.z * to.y;\r\n        const y = from.z * to.x - from.x * to.z;\r\n        const z = from.x * to.y - from.y * to.x;\r\n        const sign = Math.sign(axis.x * x + axis.y * y + axis.z * z);\r\n        return unsignedAngle * sign;\r\n    };\r\n\r\n    */\r\n \r\n    public static gain( x:number, k:number ) : number\r\n    {\r\n        const a = 0.5*Math.pow(2.0*((x<0.5)?x:1.0-x), k);\r\n        return (x<0.5)?a:1.0-a;\r\n    };\r\n \r\n    public static randomSpherePoint( radius:number ) : Vec3\r\n    {\r\n       var u        = Math.random();\r\n       var v        = Math.random();\r\n       var theta    = 2 * Math.PI * u;\r\n       var phi      = Math.acos( 2 * v - 1 );\r\n       var x        = radius * Math.sin( phi ) * Math.cos( theta );\r\n       var y        = radius * Math.sin( phi ) * Math.sin( theta );\r\n       var z        = radius * Math.cos( phi );\r\n        \r\n       return new Vec3( x, y, z );\r\n    };\r\n \r\n   \r\n \r\n};\r\n\r\nnamespace MATH\r\n{\r\n   // export const v1 : Vec2      = new Vec2( 0,0 ); \r\n   // export const v2 : Vec2      = new Vec2( 0,0 ); \r\n   // export const v3 : Vec3      = new Vec3( 0,0,0 ); \r\n   // export const mat4 : Mat4    = new Mat4( 0,0,0,0 ); \r\n    export const factors        = [ 1000, 500, 100, 50, 10, 5 ];\r\n}\r\n \r\nexport default MATH;\r\n","\r\n\r\nclass Vec2\r\n{\r\n    public x : number;\r\n    public y : number;\r\n\r\n    constructor( x:number, y:number )\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\nexport default Vec2;","\r\nclass Vec3\r\n{\r\n    public x : number;\r\n    public y : number;\r\n    public z : number;\r\n\r\n    constructor( x:number, y:number, z:number )\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n}\r\n\r\nexport default Vec3;","class LOG {\r\n    private static pool: Map<string, any> = new Map<string, any>();\r\n\r\n    public static msg(e: any): Error {\r\n        var myError = LOG.pool.get(e);\r\n\r\n        if (!myError) {\r\n            LOG.pool.set(e, new Error(e));\r\n            myError = LOG.pool.get(e);\r\n        }\r\n\r\n        return myError;\r\n    }\r\n\r\n    public static log(...args: any) {\r\n        console.log(args);\r\n    }\r\n\r\n    public static error(...args: any) {\r\n        console.log(args);\r\n    }\r\n\r\n\r\n};\r\n\r\nexport var log = LOG.log;\r\nexport var error = LOG.error;\r\n\r\nexport default LOG;\r\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + content);\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.readyState = \"\";\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @api protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     *\n     * @api public\n     */\n    open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n            this.readyState = \"opening\";\n            this.doOpen();\n        }\n        return this;\n    }\n    /**\n     * Closes the transport.\n     *\n     * @api public\n     */\n    close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     * @api public\n     */\n    send(packets) {\n        if (\"open\" === this.readyState) {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @api protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @api protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @api protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @api protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { XHR as XMLHttpRequest } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    /**\n     * Transport name.\n     */\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @api private\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} callback upon buffers are flushed and transport is paused\n     * @api private\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @api public\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @api private\n     */\n    onData(data) {\n        const callback = packet => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @api private\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} data packets\n     * @param {Function} drain callback\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, data => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @api private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @api private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @api private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @api private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @api private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @api public\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return cb => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","import { Transport } from \"../transport.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n    get name() {\n        return \"websocket\";\n    }\n    /**\n     * Opens socket.\n     *\n     * @api private\n     */\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @api private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = closeEvent => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent\n        });\n        this.ws.onmessage = ev => this.onData(ev.data);\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\n    }\n    /**\n     * Writes data to socket.\n     *\n     * @param {Array} array of packets.\n     * @api private\n     */\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, data => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    /**\n     * Closes socket.\n     *\n     * @api private\n     */\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @api private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @api public\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: Polling\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    constructor(uri, opts = {}) {\n        super();\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.readyState = \"\";\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true\n        }, opts);\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                addEventListener(\"beforeunload\", () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                }, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\"\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @api private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @api private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", reason => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} transport name\n     * @api private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", msg => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = err => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @api private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState &&\n            this.opts.upgrade &&\n            this.transport.pause) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @api private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @api private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @api private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @api private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @api private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} message.\n     * @param {Function} callback function.\n     * @param {Object} options.\n     * @return {Socket} for chaining.\n     * @api public\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @api private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     *\n     * @api public\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @api private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @api private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} server upgrades\n     * @api private\n     *\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        const timeout = this.flags.timeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * ```\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     * ```\n     *\n     * @returns self\n     * @public\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(event);\n     * });\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(event);\n     * });\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     *\n     * <pre><code>\n     *\n     * const handler = (event, ...args) => {\n     *   console.log(event);\n     * }\n     *\n     * socket.onAnyOutgoing(handler);\n     *\n     * // then later\n     * socket.offAnyOutgoing(handler);\n     *\n     * </pre></code>\n     *\n     * @public\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\");\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parser src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _log (message) {\n  console.log(`[dotenv][DEBUG] ${message}`)\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else {\n        if (override === true) {\n          process.env[key] = parsed[key]\n        }\n\n        if (debug) {\n          if (override === true) {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`)\n          } else {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`)\n          }\n        }\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _log(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\nconst DotenvModule = {\n  config,\n  parse\n}\n\nmodule.exports.config = DotenvModule.config\nmodule.exports.parse = DotenvModule.parse\nmodule.exports = DotenvModule\n","import dotenv from 'dotenv';\r\n\r\nclass CONFIG \r\n{\r\n    private static _vars: CONFIG.Config;\r\n\r\n    public static get vars(): CONFIG.Config \r\n    {\r\n        if (!this._vars) {\r\n            this._vars = this.MainConfig;\r\n        }\r\n        return this._vars;\r\n    }\r\n\r\n    private static GetFullUrl(port: number, url: string, useSsl: boolean): string \r\n    {\r\n        return (useSsl ? `https` : `http`) +\r\n            `://` +\r\n            `${url}` +\r\n            `:` +\r\n            `${port}`;\r\n    }\r\n\r\n    private static get MainConfig(): CONFIG.Config \r\n    {\r\n        dotenv.config();\r\n\r\n        let corePort: number = parseInt(process.env.CORE_PORT as string);\r\n        let coreHost: string = process.env.CORE_HOST as string;\r\n        let coreUseSsl: boolean = process.env.CORE_USE_SSL as string == 'true';\r\n        let coreFullUrl: string = this.GetFullUrl(corePort, coreHost, coreUseSsl);\r\n\r\n        let publicPort: number = parseInt(process.env.PUBLIC_PORT as string);\r\n        let publicHost: string = process.env.PUBLIC_HOST as string;\r\n        let publicUseSsl: boolean = process.env.PUBLIC_USE_SSL as string == 'true';\r\n        let publicFullUrl: string = this.GetFullUrl(publicPort, publicHost, publicUseSsl);\r\n\r\n        let coreSocketPort: number = parseInt(process.env.CORE_SOCKET_PORT as string);\r\n        let coreSocketHost: string = process.env.CORE_SOCKET_HOST as string;\r\n        let coreSocketUseSsl: boolean = process.env.CORE_SOCKET_USE_SSL as string == 'true';\r\n        let coreSocketFullUrl: string = this.GetFullUrl(coreSocketPort, coreSocketHost, coreSocketUseSsl);\r\n\r\n        let publicSocketPort: number = parseInt(process.env.PUBLIC_SOCKET_PORT as string);\r\n        let publicSocketHost: string = process.env.PUBLIC_SOCKET_HOST as string;\r\n        let publicSocketUseSsl: boolean = process.env.PUBLIC_SOCKET_USE_SSL as string == 'true';\r\n        let publicSocketFullUrl: string = this.GetFullUrl(publicSocketPort, publicSocketHost, publicSocketUseSsl);\r\n\r\n        return {\r\n\r\n            VERSION: \"0.0.2\",\r\n\r\n            ENVIRONMENT: this.parseEnvironment(process.env.ENVIRONMENT as string),\r\n\r\n            EXPRESS_SECRET: process.env.EXPRESS_SECRET as string,\r\n\r\n            MONGODB_HOST: process.env.MONGODB_HOST as string,\r\n            MONGODB_PORT: parseInt(process.env.MONGODB_PORT as string),\r\n            MONGODB_DB: process.env.MONGODB_DB as string,\r\n            MONGODB_USER: process.env.MONGODB_USER as string,\r\n            MONGODB_PASS: process.env.MONGODB_PASS as string,\r\n            MONGODB_CERT: process.env.MONGODB_CERT as string,\r\n\r\n            CLOUDINARY_NAME: process.env.CLOUDINARY_NAME as string,\r\n            CLOUDINARY_KEY: process.env.CLOUDINARY_KEY as string,\r\n            CLOUDINARY_SECRET: process.env.CLOUDINARY_SECRET as string,\r\n\r\n            CORE_SOCKET_PORT: coreSocketPort,\r\n            PUBLIC_SOCKET_FULL_URL: publicSocketFullUrl,\r\n            CORE_PORT: corePort,\r\n            CORE_FULL_URL: coreFullUrl,\r\n            PUBLIC_FULL_URL: publicFullUrl,\r\n\r\n            NAKAMA_PORT: parseInt(process.env.NAKAMA_PORT as string),\r\n            NAKAMA_HOST: process.env.NAKAMA_HOST as string,\r\n            NAKAMA_HTTP_KEY: process.env.NAKAMA_HTTP_KEY as string,\r\n            NAKAMA_SERVER_KEY: process.env.NAKAMA_SERVER_KEY as string,\r\n            NAKAMA_USE_SSL: process.env.NAKAMA_USE_SSL as string == 'true',\r\n\r\n            TWITTER_CLIENT_ID: process.env.TWITTER_CLIENT_ID as string,\r\n            TWITTER_CALLBACK_URL: `${publicFullUrl}${twitterCallbackUrl}`,\r\n            TWITTER_CLIENT_SECRET: process.env.TWITTER_CLIENT_SECRET as string,\r\n\r\n            DISCORD_CLIENT_ID: process.env.DISCORD_CLIENT_ID as string,\r\n            DISCORD_CALLBACK_URL: `${publicFullUrl}${discordCallbackUrl}`,\r\n            DISCORD_CLIENT_SECRET: process.env.DISCORD_CLIENT_SECRET as string,\r\n\r\n            SNAPCHAT_CLIENT_ID: process.env.SNAPCHAT_CLIENT_ID as string,\r\n            SNAPCHAT_CALLBACK_URL: `${publicFullUrl}${snapchatCallbackUrl}`,\r\n            SNAPCHAT_CLIENT_SECRET: process.env.SNAPCHAT_CLIENT_SECRET as string,\r\n\r\n            GOOGLE_CLIENT_ID: process.env.GOOGLE_CLIENT_ID as string,\r\n            GOOGLE_CALLBACK_URL: `${publicFullUrl}${googleCallbackUrl}`,\r\n            GOOGLE_CLIENT_SECRET: process.env.GOOGLE_CLIENT_SECRET as string,\r\n\r\n            VERIFY_EMAIL_SENDER: process.env.VERIFY_EMAIL_SENDER as string,\r\n            VERIFY_EMAIL_PASSWORD: process.env.VERIFY_EMAIL_PASSWORD as string,\r\n\r\n        };\r\n    }\r\n}\r\n\r\nnamespace CONFIG \r\n{\r\n    export type Environment = 'ssl_development' | 'development' | 'production' | 'unknown';\r\n\r\n    export const parseEnvironment = (input: string): Environment => \r\n    {\r\n        if (input == 'development') {\r\n            return 'development';\r\n        } else if (input == 'production') {\r\n            return 'production';\r\n        } else if (input == 'ssl_development') {\r\n            return 'ssl_development';\r\n        } else {\r\n            return 'unknown';\r\n        }\r\n    }\r\n\r\n    export type Config = \r\n    {\r\n        VERSION: string,\r\n\r\n        ENVIRONMENT: Environment,\r\n\r\n        EXPRESS_SECRET: string,\r\n\r\n        MONGODB_HOST: string,\r\n        MONGODB_PORT: number,\r\n        MONGODB_DB: string,\r\n        MONGODB_USER: string,\r\n        MONGODB_PASS: string,\r\n        MONGODB_CERT: string,\r\n\r\n        CLOUDINARY_NAME: string,\r\n        CLOUDINARY_KEY: string,\r\n        CLOUDINARY_SECRET: string,\r\n\r\n        CORE_SOCKET_PORT: number,\r\n        PUBLIC_SOCKET_FULL_URL:string,\r\n        CORE_PORT: number,\r\n        CORE_FULL_URL: string,\r\n        PUBLIC_FULL_URL: string,\r\n\r\n        NAKAMA_HOST: string,\r\n        NAKAMA_PORT: number,\r\n        NAKAMA_SERVER_KEY: string,\r\n        NAKAMA_HTTP_KEY: string,\r\n        NAKAMA_USE_SSL: boolean,\r\n\r\n        TWITTER_CLIENT_ID: string,\r\n        TWITTER_CALLBACK_URL: string,\r\n        TWITTER_CLIENT_SECRET: string,\r\n\r\n        DISCORD_CLIENT_ID: string,\r\n        DISCORD_CALLBACK_URL: string,\r\n        DISCORD_CLIENT_SECRET: string,\r\n\r\n        SNAPCHAT_CLIENT_ID: string,\r\n        SNAPCHAT_CALLBACK_URL: string,\r\n        SNAPCHAT_CLIENT_SECRET: string,\r\n\r\n        GOOGLE_CLIENT_ID: string,\r\n        GOOGLE_CALLBACK_URL: string,\r\n        GOOGLE_CLIENT_SECRET: string,\r\n\r\n        VERIFY_EMAIL_SENDER: string,\r\n        VERIFY_EMAIL_PASSWORD: string,\r\n    };\r\n}\r\n\r\nexport default CONFIG;\r\n\r\nexport const authenticationUrl: string = `/authentication`;\r\n\r\nexport const twitterAuthUrl: string = `/twitterAuth`;\r\nexport const twitterCallbackUrl: string = `/twitterCallback`;\r\nexport const twitterShareUrl: string = `/twitterShare`;\r\n\r\nexport const discordAuthUrl: string = `/discordAuth`;\r\nexport const discordCallbackUrl: string = `/discordCallback`;\r\n\r\nexport const googleAuthUrl: string = `/googleAuth`;\r\nexport const googleCallbackUrl: string = `/googleCallback`;\r\n\r\nexport const snapchatAuthUrl: string = `/snapchatAuth`;\r\nexport const snapchatCallbackUrl: string = `/snapchatCallback`;\r\n\r\nexport const emailVerify: string = `/emailVerify`;\r\n\r\nexport const authTokenize: string = `/authTokenize`;\r\nexport const authLinks: string = `/authLinks`;\r\nexport const authVerify: string = `/authVerify`;\r\nexport const authLogin: string = `/authLogin`;\r\nexport const authRegister: string = `/authRegister`;\r\n\r\nexport const cronRun:string = `/cronRun`;\r\n\r\nexport const fileUpload: string = `/fileUpload`;\r\nexport const fileGet: string = `/fileGet`;\r\nexport const fileTempPath: string = `/temp`;\r\n\r\nexport const storageUrl: string = `/storage`;\r\n\r\nexport const toyUrl: string = `/toy`;\r\n\r\nexport const toyListUrl: string = `/toyList`;\r\nexport const toyBuildUrl: string = `/toyBuild`;\r\nexport const toyStatusUrl: string = `/toyStatus`;","import STRING from \"./STRING\";\r\n\r\nclass DATE\r\n{\r\n \r\n    public static getTime()\r\n \t{\r\n \t\treturn Date.now();\r\n \t};\r\n    \r\n    public static getNow()\r\n    {\r\n        return Date.now();\r\n    };\r\n\r\n    public static now()\r\n    {\r\n        return DATE.getNow();\r\n    }\r\n\r\n    public static today()\r\n    {\r\n        let now = new Date( this.now() );\r\n        return now.getTime() - now.getHours()*3600000 - now.getMinutes()*60000 - now.getSeconds()*1000 - now.getMilliseconds();\r\n    }\r\n\r\n    public static daysFrom( timestamp:number )\r\n \t{\r\n        return Math.floor( DATE.millisecondsFrom( timestamp ) / 86400000 ); \r\n    };\t\r\n    \r\n    public static hoursFrom( timestamp:number )\r\n \t{\r\n  \t\treturn Math.floor( DATE.fractionHoursFrom( timestamp ) ); \r\n \t};\t\r\n\r\n    public static fractionHoursFrom( timestamp:number ) : number\r\n    {\r\n        return DATE.millisecondsFrom( timestamp ) / 3600000;\r\n    };\r\n\r\n    public static secondsFrom( timestamp:number ) : number\r\n \t{\r\n  \t\treturn Math.floor( DATE.millisecondsFrom( timestamp ) / 1000 ); \r\n \t};\t\r\n    \r\n    public static millisecondsFrom( timestamp:number )\r\n \t{\r\n    \treturn DATE.getNow() - timestamp;\r\n \t};\t\r\n    \r\n    public static format( thedate:any )\r\n \t{\r\n \t\treturn thedate.getFullYear() +\".\"+thedate.getMonth()+\".\"+thedate.getDate(); \r\n \t};\r\n    \r\n    public static days( millisecs:number ) \r\n    {  \r\n        if( millisecs < 1000 ) return Math.round( millisecs ) +\"msec \";\r\n \r\n        var seconds : number = Math.round( millisecs/1000 ); \r\n        \r\n        var days = 0;\r\n        var hours = 0; \r\n        var minutes = 0;\r\n        \r\n        while( seconds >= 86400 ) \r\n        {\r\n            days ++;\r\n            seconds -= 86400;\r\n        }\r\n        \r\n        while( seconds >= 3600 ) \r\n        {\r\n            hours ++;\r\n            seconds -= 3600;\r\n        }\r\n        \r\n        while ( seconds >= 60 ) \r\n        {\r\n            seconds -= 60;\r\n            minutes++;\r\n        }\r\n \r\n        var string : any = [];\r\n        \r\n        if( days ) string.push( days + \"D\" ); \r\n \r\n        if( hours ) string.push( hours + \"H\" ); \r\n        \r\n        if( days ) return string.join(\" \");\r\n        \r\n        if( minutes ) string.push(minutes + \"Min\");\r\n        \r\n        if ( hours ) return string.join(\" \");\r\n        \r\n        if ( seconds ) string.push( STRING.fillZero( seconds, 1 )  +\"sec\" );\r\n \r\n        return string.join(\" \");\r\n    };\r\n    \r\n    public static seconds( secs:number ) : any\r\n    {\r\n        var hours = 0; \r\n        var minutes = 0;\r\n        var seconds = Math.round(secs); \r\n        \r\n        while ( seconds >= 60) \r\n        {\r\n            seconds -= 60;\r\n            minutes++;\r\n        }\r\n        \r\n        while ( minutes >= 60) \r\n        {\r\n            minutes -= 60;\r\n            hours ++;\r\n        }\r\n        \r\n        var string = \"\";\r\n        \r\n        if( hours ) \r\n        {\r\n            return STRING.fillZero( hours, 1 ) + \":\" + STRING.fillZero( minutes, 1 ) + STRING.fillZero( seconds, 1 ); \r\n              \r\n        }else if( minutes ){\r\n\r\n            return STRING.fillZero( minutes, 1 ) + \":\" + STRING.fillZero( seconds, 1 );\r\n        }\r\n\r\n        return \"0:\" + STRING.fillZero( seconds, 1 );\r\n    };\r\n    \r\n    public static millisecondsToSeconds( milliseconds:number ) : number\r\n    {\r\n        return milliseconds / 1000;\r\n    };\r\n    \r\n    public static mts( ms:number ) : number\r\n    {\r\n        return DATE.millisecondsToSeconds( ms );\r\n    };    \r\n    \r\n    public static secondsToMinutes( seconds:number ) : number\r\n    {\r\n        return seconds / 60;\r\n    };\r\n    \r\n    public static millisecondsToMinutes( milliseconds:number ) : number\r\n    {\r\n        return Math.ceil( milliseconds / 60000 );\r\n    };\r\n};\r\n\r\nexport default DATE;","import DATE from \"../DATE\";\r\n \r\nclass TimerInstance\r\n{\r\n    public duration         : number = 0;\r\n    public isPlaying        : boolean = false;\r\n    public percent          = 100;\r\n    public update           : any;\r\n    public _id              : any;\r\n    public start            : any;\r\n    public restart          : any;\r\n    public stop             : any;\r\n    public increase         : any;\r\n    public pause            : any;\r\n    public resume           : any;\r\n    public onSecond         : any;\r\n    public setAuto          : any;\r\n    public setDuration      : any;\r\n    public remaining        : number = 0;\r\n \r\n    constructor( vars?:any )\r\n    {\r\n        var self            = this;\r\n\r\n        vars                = vars || {};\r\n \r\n        var interval        = vars.interval || 1000;\r\n        var duration        = self.duration = vars.duration || vars.seconds * 60000 || 0;\r\n        var autoStart       = vars.autoStart || false;\r\n        var elapsed         = 0;\r\n        var startTime       = vars.startTime || 0;\r\n        var isPaused        = false;\r\n        \r\n        this.remaining      = duration;\r\n \r\n        var onTimeUp        = vars.onTimeUp;\r\n        var onUpdate        = vars.onUpdate;\r\n\r\n\r\n\r\n        var intervalID : any;\r\n  \r\n        self.start = function( vars?:any ) \r\n        {\r\n            vars                                                = vars || {};\r\n            if( vars.seconds ) duration                         = self.duration = vars.seconds * 1000;\r\n            if( typeof vars.duration != undefined) duration     = self.duration = vars.duration;\r\n            if( vars.onTimeUp ) onTimeUp                        = vars.onTimeUp;\r\n            if( vars.onUpdate ) onUpdate                        = vars.onUpdate;\r\n    \r\n            self.restart( vars.startTime || startTime || DATE.now() );\r\n        };\r\n\r\n        self.restart = function( _startTime?:any )\r\n        {\r\n            isPaused                = false;\r\n            self.isPlaying          = false;\r\n \r\n            startTime               = _startTime  || DATE.now();\r\n \r\n            elapsed                 = DATE.now() - startTime;\r\n    \r\n            self.stop();    \r\n            \r\n            onReach();\r\n  \r\n            self.isPlaying          = true;\r\n\r\n            intervalID              = setInterval( update, interval );\r\n        };\r\n \r\n        self.increase = function( seconds:number )\r\n        {\r\n            duration += seconds * 1000;\r\n        }\r\n \r\n        self.pause = function()\r\n        {\r\n            if( !self.isPlaying || isPaused ) return;\r\n            isPaused = true;\r\n        };\r\n \r\n        self.resume = function() \r\n        {\r\n            isPaused = false;\r\n\r\n            if( !self.isPlaying ) return;\r\n            self.start({ duration:duration-elapsed, startTime:DATE.now() });\r\n        };\r\n     \r\n        self.stop = function()\r\n        {\r\n            self.isPlaying = false;\r\n            clearInterval( intervalID );\r\n        };\r\n \r\n        self.setDuration = function( value:number )\r\n        {\r\n            duration = self.duration = value;\r\n        };\r\n    \r\n        function onReach()\r\n        {\r\n            self.stop();\r\n\r\n            if( onTimeUp ) onTimeUp( self );\r\n        };\r\n \r\n        function update()\r\n        {\r\n            if( !self.isPlaying || isPaused ) return;\r\n \r\n            elapsed         = DATE.now() - startTime;\r\n            self.percent    = elapsed * 100 / duration;\r\n\r\n            self.remaining  = duration - elapsed;\r\n  \r\n            if( onUpdate ) onUpdate( self );\r\n   \r\n            if( self.remaining <= 0 ) onReach(); \r\n        }\r\n\r\n        if( autoStart ) self.start();\r\n\r\n    }\r\n}\r\n\r\nexport default TimerInstance;","import io from 'socket.io-client';\r\nimport CONFIG from '../../Core/CONFIG/CONFIG';\r\nimport TimerInstance from '../../UTIL/Instances/TimerInstance';\r\nimport LOG, { log } from '../../UTIL/LOG';\r\nimport CONQUER from '../CONQUER';\r\n \r\nclass Socket\r\n{\r\n    private conquer: CONQUER;\r\n    public constructor(instance:CONQUER) {\r\n        this.conquer = instance;\r\n    }\r\n\r\n    // USE THIS FOR LOCAL TEST\r\n    private socketHost: string = '127.0.0.1';\r\n    private socketPort: number = 9003;\r\n    private get socketUseSSL() { return false; }\r\n\r\n    // USE THIS FOR LIVE SERVER\r\n    // private socketHost: string = 'nowwa.io';\r\n    // private socketPort: number =  = 9005;\r\n    // private get socketUseSSL() { return true; }\r\n\r\n    private get socketProtocol()    : string { return this.socketUseSSL ? 'https' : 'http'; }\r\n    private get socketPortFinal()   : string { return (this.socketPort == 80 && !this.socketUseSSL) || (this.socketPort == 443 && this.socketUseSSL) ? `` : `:${this.socketPort.toString()}`; };\r\n    private get socketURL()         : string { return `${this.socketProtocol}://${this.socketHost}${this.socketPortFinal}`; }\r\n\r\n    private socket?                 : any;\r\n    private id                      : any;\r\n    private messagesCue             : any = [];\r\n    private sendTimer               : any;\r\n\r\n    public async init() : Promise<any>\r\n    {\r\n        // console.log('socket initializing...');\r\n\r\n        // log( \"client: Init New Socket Client\" );\r\n\r\n        let self    = this;\r\n\r\n        await this.connect();\r\n\r\n        this.sendTimer = new TimerInstance({ onUpdate:function()\r\n        {\r\n            self.doSend();\r\n\r\n        }, interval:300, autoStart:true });\r\n\r\n        // console.log('socket initialized!');\r\n \r\n        return Promise.resolve();\r\n    }\r\n \r\n    private async connect() : Promise<any>\r\n    {\r\n        // log( \"client: Socket Connect\" );\r\n\r\n        var self    = this;\r\n \r\n        return new Promise((resolve) => \r\n        {\r\n            var socket  = self.socket = io( CONFIG.vars.PUBLIC_SOCKET_FULL_URL );\r\n    \r\n            socket.on( \"disconnect\", () => \r\n            {\r\n                log( `client: connect status: ${ socket.connected }` );\r\n                self.connect();\r\n            }); \r\n    \r\n            socket.on( 'message', function( obj:any )\r\n            {\r\n                self.conquer.Rooms._onServerMessage( obj );\r\n            });\r\n\r\n            socket.on( \"connect\", () => \r\n            {\r\n                self.id = socket.id;\r\n                resolve( self.id );\r\n            });\r\n        });\r\n \r\n      //  return Promise.resolve(\"OK I SEE\");\r\n    }\r\n\r\n    public async do( action:any, data?:any ) : Promise<any>\r\n    {\r\n        return new Promise( resolve => this.socket.emit( \"action\", action, data, resolve ) ); \r\n    }\r\n\r\n    public send( action:any, roomID:any, data?:any )\r\n    {\r\n        this.messagesCue.push({ action:action, roomID:roomID, data:data } );\r\n    }\r\n \r\n    private doSend()\r\n    {\r\n        if( !this.messagesCue.length ) return;\r\n\r\n        this.socket.emit( \"message\", this.messagesCue ); \r\n \r\n        this.messagesCue = [];\r\n    }\r\n\r\n\r\n    public disconnect() \r\n    {\r\n        this.socket.disconnect(); \r\n    }\r\n \r\n};\r\n\r\nexport default Socket;","export const enum ACTIONS\r\n{\r\n    MESSAGE                 = 0,\r\n    GAMEDATA \t\t        = 1,\r\n    PLAYERJOIN \t\t        = 2,\r\n    PLAYERLEFT \t\t        = 3,\r\n    PLAYERVARS \t\t        = 4,\r\n    SYNCREQUEST \t        = 5,\r\n    GAMESTART \t\t        = 6,\r\n    ROOMREADY \t\t        = 7,\r\n    STATUS \t\t\t        = 8,\r\n    PLAYERSTATUS \t        = 9,\r\n    SECOND \t\t\t        = 10,\r\n    TIMER \t\t\t        = 11,\r\n    LOADING \t\t        = 12,\r\n    PLAYERSTATE\t\t        = 13,\r\n    INSYNC\t\t            = 14,\r\n    ENTRY                   = 15,\r\n    CALL                    = 16,\r\n    ACCEPT_CALL             = 17,\r\n    REJECT_CALL             = 18,\r\n\r\n    AUTH_SET                = 19,\r\n    AUTH_GET                = 20,\r\n    FILE_SET                = 21,\r\n    FILE_GET                = 22,\r\n\r\n    ROOM_GET                = 23,\r\n    ROOM_GETONE             = 24,\r\n\r\n    ROOM_ENTRIES_GET        = 25,\r\n    ROOM_ENTRIES_SET        = 26,\r\n    ROOM_ENTRIES_CHANGE     = 27,\r\n    ROOM_ENTRIES_REMOVE     = 28,\r\n\r\n    FRIENDS_GET             = 29,\r\n    FRIENDS_SET             = 30,\r\n    FRIENDS_CHANGE          = 31,\r\n    FRIENDS_REMOVE          = 32,\r\n\r\n    CHAT                    = 33,\r\n\r\n    ANALYTICS_SET           = 34,\r\n    ANALYTICS_GET           = 35,\r\n\r\n    FOLLOWERS_GET           = 36,\r\n    FOLLOWERS_SET           = 37,\r\n    FOLLOWERS_REMOVE        = 38,\r\n\r\n    GAME_GETONE             = 39,\r\n \r\n    GAMEDATA_GET            = 43,\r\n    GAMEDATA_SET            = 44,\r\n\r\n    GAMESCORE_SET               = 45,\r\n    GAMESCORE_GET               = 46,\r\n    GAMESCORE_GETALLTIME        = 47,\r\n    GAMESCORE_GETTODAY          = 48,\r\n    GAMESCORE_GETFRIENDSALLTIME = 49,\r\n    GAMESCORE_GETFRIENDSTODAY   = 50,\r\n \r\n    MATCHMAKING             = 51,\r\n    TOURNAMENT_GET          = 52,\r\n    TOURNAMENT_ENTRIES_GET  = 53,\r\n\r\n    GAMETURN_SET            = 54,\r\n    GAMETURN_GET            = 55,\r\n    GAMETURN_GETONE         = 56,\r\n    GAMETURN_CHANGE         = 57,\r\n\r\n    GAME_SHOPTAB_GET            = 58,\r\n    GAME_SHOPITEM_GET           = 59,\r\n\r\n    GAME_PLAYERINVENTORY_BUY    = 60,\r\n    GAME_PLAYERINVENTORY_GET    = 61,\r\n    GAME_PLAYERINVENTORY_CHANGE = 62,\r\n    GAME_PLAYERINVENTORY_REMOVE = 63,\r\n\r\n    GAME_CURRENCY_GET       = 64,\r\n    GAME_CURRENCY_GETONE    = 65,\r\n    GAME_CURRENCY_CHANGE    = 66,\r\n\r\n    GAME_DAILYREWARDS_GET   = 67,\r\n    GAME_DAILYREWARDS_SET   = 68,\r\n\r\n    INSTANCE_GETONE         = 69,\r\n    INSTANCE_GET            = 70,\r\n\r\n    TAG_ASSOCIATIONS_GET    = 71,\r\n    TAG_ASSOCIATIONS_SET    = 72,\r\n\r\n    AWESOME_GETONE          = 73,\r\n    AWESOME_SET             = 74,\r\n\r\n    STATS_GETONE            = 75,\r\n\r\n    AVATAR_GET              = 76,\r\n    AVATAR_GETONE           = 77,\r\n    \r\n    WALLET_GETSET           = 78,\r\n    WALLET_HISTORY_GET      = 79,\r\n    WALLET_ASSETS_GET       = 80,\r\n    WALLET_SEND             = 81,\r\n\r\n    SOCIAL_TWITTER_SHARE    = 82,\r\n \r\n}\r\n\r\nexport const enum STATUS\r\n{\r\n    LOBBY \t\t\t= 0,\r\n\tWAITING \t\t= 1,\r\n\tCOUNTDOWN \t\t= 2,\r\n\tPLAYING \t\t= 3,\r\n\tGAMEOVER \t\t= 4,\r\n\tPLAYERSREADY \t= 5,\r\n    RESET           = 6\r\n}","import { ACTIONS } from '../../Models/ENUM';\r\nimport CONQUER from '../CONQUER';\r\nimport Storage from '../UTILS/Storage';\r\nimport User from './User';\r\n\r\nclass Auth \r\n{\r\n    private conquer: CONQUER;\r\n\r\n    public constructor(instance:CONQUER) \r\n    {\r\n        this.conquer = instance;\r\n    }\r\n\r\n    public async init() : Promise<any> \r\n    {\r\n        if (typeof this.conquer.User != 'undefined' && \r\n        (this.conquer.User!.type == 'FACEBOOK' || \r\n        this.conquer.User!.type == 'DISCORD' || \r\n        this.conquer.User!.type == 'GOOGLE' || \r\n        this.conquer.User!.type == 'TWITTER' || \r\n        this.conquer.User!.type == 'SNAPCHAT' || \r\n        this.conquer.User!.type == 'WALLET' ||\r\n        typeof this.conquer.User!.token != 'undefined')) {\r\n            await this.get();\r\n        }\r\n\r\n        return Promise.resolve();\r\n    }\r\n \r\n    public async set( params : { username: string, password: string } ) : Promise<any> \r\n    {\r\n        return this.conquer.do( ACTIONS.AUTH_SET, params );  \r\n    }\r\n\r\n    public async logout()\r\n    {\r\n        if (typeof this.conquer.User != 'undefined' && this.conquer.User.type == 'FACEBOOK') {\r\n            await new Promise<void>((resolve, reject) => {\r\n                FB.logout((response:fb.StatusResponse) => {\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        this.conquer.Storage.removeAccount();\r\n        return Promise.resolve();\r\n    }\r\n\r\n    public async guest() \r\n    {\r\n        let response = await this.get();\r\n        return Promise.resolve(response);\r\n    }\r\n\r\n    public async get( params? : { username:string, password:string, type?: string } ): Promise<any> \r\n    {\r\n        \r\n        if( params ) params.type = \"USERNAME\";\r\n\r\n        // console.log(`[Auth] get CONQUER.User`, this.conquer.User);\r\n        // console.log(`[Auth] get params`, params);\r\n\r\n        let parameter = typeof params != 'undefined' ? params : this.conquer.User;\r\n\r\n        // console.log(`[Auth] get parameter`, parameter);\r\n \r\n        let response : any = await this.conquer.do( ACTIONS.AUTH_GET, parameter );\r\n\r\n        // console.log(`[Auth] get response`, response);\r\n\r\n        if (typeof response != 'string') {\r\n            \r\n            // console.log(`[Auth] get typeof response`, typeof response);\r\n            this.conquer.Storage.setAccount(response);\r\n\r\n            this.conquer.Analytics.onEntryPoint();\r\n\r\n        }\r\n\r\n        return Promise.resolve(response);\r\n    }\r\n \r\n};\r\n\r\n\r\nexport default Auth;","import { fileGet, fileTempPath, storageUrl } from \"../../Core/CONFIG/CONFIG\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport COREFILE from '../../Core/CMS/FILE';\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\n\r\nclass Files \r\n{\r\n    private conquer: CONQUER;\r\n    public constructor(instance:CONQUER) {\r\n        this.conquer = instance;\r\n    }\r\n\r\n    public async set( params:COREFILE.GetParams ): Promise<any> \r\n    {\r\n        return this.conquer.do( ACTIONS.FILE_SET, params );\r\n    }\r\n\r\n    public async get( params:COREFILE.Ownership ) : Promise<any> \r\n    {\r\n        return this.conquer.do( ACTIONS.FILE_GET, params );\r\n    }\r\n\r\n    public download( url:string ): void \r\n    { \r\n        var dlink       = document.createElement('a');\r\n        dlink.href      = `${window.location.origin}${fileGet}/${url}`;\r\n        dlink.target    = '_blank';\r\n        dlink.onclick   = function (e) {};\r\n        dlink.click();\r\n    }\r\n\r\n}\r\n\r\nexport default Files;","import CONFIG, { authLinks, authLogin, authRegister, authVerify } from \"../../Core/CONFIG/CONFIG\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\nimport { log } from \"../../UTIL/LOG\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport Storage from \"../UTILS/Storage\";\r\nimport User from \"./User\";\r\n\r\nclass WebAuth \r\n{\r\n\r\n    private readonly facebookAppId:string = `2303120786519319`;\r\n \r\n    private conquer: CONQUER;\r\n\r\n    public constructor( instance:CONQUER) {\r\n        this.conquer = instance;\r\n    }\r\n\r\n    // Move all social stuff here\r\n    private vars: { [key: string]: any } & \r\n    {\r\n        twitter?    : string,\r\n        discord?    : string,\r\n        google?     : string,\r\n        snapchat?   : string,\r\n        facebook?   : boolean\r\n    } = {};\r\n\r\n    public async init(): Promise<any> \r\n    {\r\n\r\n        // console.log('web auth initializing...');\r\n        await this.authLinks();\r\n\r\n        // console.log('web auth initialized!');\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    private async authLinks(): Promise<void> \r\n    {\r\n        if (typeof window != 'undefined') \r\n        {\r\n            let authLinkResponse = await new Promise<any>((resolve, reject) => \r\n            {\r\n                let authLinksUrl        : URL = new URL(`${CONFIG.vars.PUBLIC_FULL_URL}${authLinks}`);\r\n                let authLinksRequest    : RequestInit = {\r\n                    method              : \"POST\",\r\n                    headers             : { \r\n                        'Content-Type': 'application/json',\r\n                        'Access-Control-Allow-Origin': '*',\r\n                    },\r\n                    body                : '{}'\r\n                };\r\n                fetch(authLinksUrl, authLinksRequest)\r\n                    .then(authLinkResponse => authLinkResponse.json())\r\n                    .then((authLinkResponse: any) => {\r\n                        resolve(authLinkResponse);\r\n                    })\r\n                    .catch((error: any) => {\r\n                        console.error(`error: ${error}`);\r\n                        reject(error);\r\n                    });\r\n\r\n            });\r\n            this.vars.twitter   = authLinkResponse.twitter;\r\n            this.vars.discord   = authLinkResponse.discord;\r\n            this.vars.google    = authLinkResponse.google;\r\n            this.vars.snapchat  = authLinkResponse.snapchat;\r\n        }\r\n    }\r\n\r\n    public async discord(): Promise<any> \r\n    {\r\n        window.open(this.vars.discord, \"_self\");\r\n    }\r\n\r\n    public async twitter(): Promise<any> \r\n    {\r\n        window.open(this.vars.twitter, \"_self\");\r\n    };\r\n\r\n    public async snapchat(): Promise<any> \r\n    {\r\n        window.open(this.vars.snapchat, \"_self\");\r\n    };\r\n\r\n    public async google(): Promise<any> \r\n    {\r\n        window.open(this.vars.google, \"_self\");\r\n    }\r\n    \r\n    public async metamask(): Promise<any> \r\n    {\r\n        let self        = this;\r\n        let ethereum    = (window as any).ethereum;\r\n\r\n        if (!ethereum) \r\n        {\r\n            alert('install metamask wallet first!');\r\n        } else {\r\n            try {\r\n                let address = await new Promise<string>((resolve, reject) => \r\n                {\r\n                    (window as any).ethereum\r\n                        .request(\r\n                        {\r\n                            method: \"eth_requestAccounts\",\r\n                        })\r\n                        .then((accounts: string[]) => \r\n                        {\r\n                            let address = accounts[0];\r\n                            resolve(address);\r\n                        })\r\n                        .catch((error: any) => {\r\n                            reject(error);\r\n                        });\r\n                });\r\n\r\n                let redirectParams:{[key:string]:any} = \r\n                {\r\n                    username    : address,\r\n                    wallet      : address,\r\n                    type        : 'METAMASK'\r\n                };\r\n\r\n                let searchParams:string = Object.keys(redirectParams).map(key => key + '=' + redirectParams[key]).join('&');\r\n    \r\n                if (window.location.href.indexOf('?') >= 0) {\r\n                    window.location.replace(`${window.location.href}&${searchParams}`);\r\n                } else {\r\n                    window.location.replace(`${window.location.href}?${searchParams}`);\r\n                }\r\n\r\n            } catch( error ) \r\n            {\r\n                return Promise.resolve({\r\n                    success : false,\r\n                    account : error\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    public async facebook(): Promise<any> \r\n    {\r\n        if (typeof window != 'undefined') {\r\n\r\n            if (!this.vars.facebook) \r\n            {\r\n                await new Promise<void>((resolve, reject) => \r\n                {\r\n                    let facebookScript      = document.createElement('script');\r\n                    facebookScript.type     = 'text/javascript';\r\n                    facebookScript.src      = 'https://connect.facebook.net/en_US/sdk.js';\r\n                    facebookScript.async    = true;\r\n                    facebookScript.defer    = true;\r\n\r\n                    facebookScript.onload = () => {\r\n                        \r\n                        FB.init(\r\n                        {\r\n                            appId: this.facebookAppId,\r\n                            autoLogAppEvents: true,\r\n                            xfbml: true,\r\n                            version: 'v15.0'\r\n                        });\r\n\r\n                        FB.AppEvents.logPageView();\r\n                        resolve();\r\n                    }\r\n                    document.body.appendChild(facebookScript);\r\n                });\r\n                this.vars.facebook = true;\r\n            }\r\n            \r\n            let loginStatus = await new Promise<fb.StatusResponse>((resolve, reject) => \r\n            {\r\n                FB.getLoginStatus((loginStatus) => \r\n                {\r\n                    // console.log(`loginStatus`, JSON.stringify(loginStatus, null, 4));\r\n                    // statusChangeCallback(response);\r\n                    resolve(loginStatus);\r\n                });\r\n            });\r\n\r\n            let authResponse = loginStatus.authResponse;\r\n\r\n            if (!authResponse) \r\n            {\r\n                authResponse = await new Promise<fb.AuthResponse>((resolve, reject) => \r\n                {\r\n                    FB.login((loginResponse: fb.StatusResponse) => \r\n                    {\r\n                        resolve(loginResponse.authResponse);\r\n                    }, { scope: 'public_profile,email,user_friends' });\r\n                });\r\n            }\r\n\r\n            let fields: string[] = \r\n            [\r\n                'name',\r\n                'email',\r\n            ];\r\n\r\n            let apiResponse1 = await new Promise<fb.StatusResponse>((resolve, reject) => \r\n            {\r\n                FB.api('/me', { fields: fields.join(', ') }, (apiResponse1: any) => {\r\n                    resolve(apiResponse1);\r\n                });\r\n            });\r\n\r\n            let apiResponse2 = await new Promise<fb.StatusResponse>((resolve, reject) => \r\n            {\r\n                FB.api('/me/friends', {}, (apiResponse2: any) => \r\n                {\r\n                    resolve(apiResponse2);\r\n                });\r\n            });\r\n\r\n            let userInfo    = apiResponse1 as any;\r\n            let contactInfo = apiResponse2 as any;\r\n\r\n            let friend_count    = contactInfo.summary.total_count;\r\n\r\n            let redirectParams:{[key:string]:any} = \r\n            {\r\n                username        : userInfo.email,\r\n                email           : userInfo.email,\r\n                firstName       : userInfo.name,\r\n                type            : 'FACEBOOK'\r\n            };\r\n\r\n            let searchParams:string = Object.keys(redirectParams).map(key => key + '=' + redirectParams[key]).join('&');\r\n\r\n            if (window.location.href.indexOf('?') >= 0) {\r\n                window.location.replace(`${window.location.href}&${searchParams}`);\r\n            } else {\r\n                window.location.replace(`${window.location.href}?${searchParams}`);\r\n            }\r\n        }\r\n\r\n    }\r\n \r\n    public async shareTwitter ( ) : Promise<any> \r\n    {\r\n        let shareMessage:string = `Join supersnappy.io!`;\r\n        let shareUrl:string = `https://supersnappy.io`;\r\n        let avatarID:string = this.conquer.User!.avatarID!;\r\n\r\n        return this.conquer.do( ACTIONS.SOCIAL_TWITTER_SHARE, { avatarID, shareMessage, shareUrl }  );  \r\n    }\r\n \r\n    public async shareFacebook ( ) : Promise<any> \r\n    {\r\n        if (typeof window != 'undefined') {\r\n\r\n            if (!this.vars.facebook) \r\n            {\r\n                await new Promise<void>((resolve, reject) => \r\n                {\r\n                    let facebookScript      = document.createElement('script');\r\n                    facebookScript.type     = 'text/javascript';\r\n                    facebookScript.src      = 'https://connect.facebook.net/en_US/sdk.js';\r\n                    facebookScript.async    = true;\r\n                    facebookScript.defer    = true;\r\n\r\n                    facebookScript.onload = () => {\r\n                        \r\n                        FB.init(\r\n                        {\r\n                            appId: this.facebookAppId,\r\n                            autoLogAppEvents: true,\r\n                            xfbml: true,\r\n                            version: 'v15.0'\r\n                        });\r\n\r\n                        FB.AppEvents.logPageView();\r\n                        resolve();\r\n                    }\r\n                    document.body.appendChild(facebookScript);\r\n                });\r\n                this.vars.facebook = true;\r\n            }\r\n\r\n            await new Promise<void>((resolve, reject) => \r\n            {\r\n                let shareMessage:string = `Join supersnappy.io!`;\r\n                let shareUrl:string = `https://supersnappy.io`;\r\n                FB.ui({\r\n                    method: 'share',\r\n                    href: shareUrl,\r\n                    quote: shareMessage,\r\n                }, (response: fb.ShareDialogResponse) => {\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n}\r\n\r\n \r\nexport default WebAuth;","class RANDOM\r\n{\r\n    public static value( max:number, min?:number, avoid?:number ):number\r\n    {\r\n        min = min || 0;\r\n        var value = Math.round( Math.random() * ( max - min ) ) + min; \r\n        return value != avoid ? value : RANDOM.value( max, min, avoid );\r\n    };\r\n\r\n    public static decimal( max:number, min:number=0 ):number\r\n    {\r\n        return Math.random() * ( max - min ) + min;\r\n    };\r\n\r\n    public static int( min:number = 999, max:number = 0 ):number\r\n    {\r\n        min = Math.ceil(min);\r\n        return Math.floor(Math.random() * (max - min + 1) ) + min;\r\n    };\r\n \r\n    public static chance( probability:number=0.5 ):boolean\r\n    {\r\n        if( probability === 0 ) return false; \r\n        return Math.random() <=  probability;\r\n    };\r\n\r\n    public static spectrum( max:number, min:number=0 ):number\r\n    {\r\n        var val = RANDOM.value( max, min );\r\n        return RANDOM.chance(0.5) ? val : -val; \r\n    };\r\n\r\n    public static spectrumDecimal( max:number, min:number=0 ):number\r\n    {\r\n        var val = RANDOM.decimal( max, min );\r\n        return RANDOM.chance(0.5) ? val : -val; \r\n    };\r\n \r\n    public static boolean():boolean\r\n    {\r\n        return RANDOM.chance() ? true : false; \r\n    };\r\n\r\n    public static direction():number\r\n    {\r\n        return RANDOM.chance() ? 1 : -1 ;\r\n    };\r\n\r\n    public static fortune( amount:number ):number\r\n    {\r\n        for( var n=0; n<amount; n++ ) if( RANDOM.chance( ( 1/(amount*2) ) * ( amount-n ) ) ) return n; \r\n        return 0;\r\n    };\r\n};\r\n\r\nexport default RANDOM;","import { debug } from 'console';\r\nimport LOG, { log } from '../../UTIL/LOG';\r\nimport CONQUER from '../CONQUER';\r\n\r\nclass User\r\n{\r\n    public avatarID?        : string;\r\n    public firstName?       : string;\r\n    public username?        : string;\r\n    public token?           : string;\r\n    public type?            : 'DISCORD' | 'FACEBOOK' | 'TWITTER' | 'GOOGLE' | 'SNAPCHAT' | 'CONQUER' | 'WALLET' | 'GUEST' | 'USERNAME';\r\n    public email?           : string;\r\n    public accessToken?     : string;\r\n    public wallet?          : string;\r\n}\r\n\r\nnamespace User {\r\n    export const Fields:string[] = [\r\n        `avatarID`, `firstName`, `username`, `token`, `type`, `email`, `accessToken`, `wallet`\r\n    ];\r\n}\r\n\r\nexport default User;","import e from \"express\";\r\nimport DATE from \"../../UTIL/DATE\";\r\nimport RANDOM from \"../../UTIL/RANDOM\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport User from \"../USER/User\";\r\n\r\nclass Storage\r\n{\r\n\r\n    private conquer: CONQUER;\r\n\r\n    public constructor( instance:CONQUER) {\r\n        this.conquer = instance;\r\n    }\r\n    /*=============== \r\n\r\n\r\n    INIT\r\n    \r\n\r\n    ================*/ \r\n \r\n    public async init( ): Promise<any> \r\n    {\r\n        // console.log('storage initializing...');\r\n\r\n        this.setAccount( this.conquer.User );\r\n        this.setAccount( this.loadAccount() );\r\n        this.setAccount( this.parseUrlSearchParams() );\r\n\r\n        // console.log('storage initialized!');\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    private generateUsername()\r\n    {\r\n        return \"Guest_\" + DATE.now() + RANDOM.value(1000);\r\n    }\r\n\r\n    private loadAccount()\r\n    {\r\n        let json = typeof window != 'undefined' ? window.localStorage.getItem( \"account\" ) : null;\r\n        // console.log(`[Storage] loadAccount json`, JSON.stringify(json));\r\n        if (json == 'null' || json == '{}') json = null;\r\n        var user:User = json ? \r\n            JSON.parse( json as string ) : \r\n            {\r\n                username: this.generateUsername()\r\n            };\r\n        // console.log(`[Storage] loadAccount user`, JSON.stringify(user));\r\n        return user;\r\n    }\r\n \r\n    private parseUrlSearchParams()\r\n    {\r\n\r\n        let originalParams:{[key:string]:any} = { };\r\n        let params : any = {};\r\n\r\n        if ( typeof window == 'undefined' ) return null;\r\n        \r\n        new URL( window.location.href ).searchParams.forEach((val, key) => \r\n        {\r\n            if (User.Fields.indexOf(key) >= 0) {\r\n                \r\n                if( params[key] !== undefined ) \r\n                {\r\n                    if ( !Array.isArray(params[key]) ) params[key] = [params[key]];\r\n\r\n                    params[key].push(val);\r\n                } else {\r\n                    params[key] = val;\r\n                }\r\n            } else {\r\n                originalParams[key] = val;\r\n            }\r\n        });\r\n\r\n        // console.log(`window.location.href`, window.location.href);\r\n\r\n        // console.log(`params`, params);\r\n        \r\n        let originalSearchParams:string = Object.keys(originalParams).map(key => key + '=' + originalParams[key]).join('&');\r\n        let originalUrl = window.location.href.substring(0, window.location.href.indexOf('?')) + `${originalSearchParams.length > 0 ? \"?\" + originalSearchParams : \"\"}`;\r\n    \r\n        window.history.pushState( params, \"\", `${originalUrl}`);\r\n \r\n        return params.username ? params : null;\r\n    }\r\n\r\n\r\n    /*=============== \r\n\r\n\r\n    GET\r\n    \r\n\r\n    ================*/\r\n\r\n    public get( key:string ) : any\r\n    {\t\r\n   \t\treturn typeof window != 'undefined' ? window.localStorage.getItem( key ) : null;\r\n    }\r\n \r\n    /*=============== \r\n\r\n\r\n    SET\r\n    \r\n\r\n    ================*/\r\n\r\n    public set( key:string, value:any ) \r\n    {\r\n        if( typeof window != 'undefined' ) {\r\n            if (value == null) {\r\n                window.localStorage.removeItem(key);\r\n            } else {\r\n                window.localStorage.setItem( key, JSON.stringify( value ));\r\n            }\r\n        }\r\n        value;\r\n    }\r\n\r\n    public setAccount( user?:User ) \r\n    {\r\n        // console.log(`[Storage] setAccount typeof user`, typeof user);\r\n        if( !user ) return;\r\n        // console.log(`[Storage] user`, JSON.stringify(user));\r\n\r\n        this.conquer.User = user;\r\n\r\n        this.set( \"account\", user);\r\n    }\r\n\r\n    /*=============== \r\n\r\n\r\n    REMOVE\r\n    \r\n\r\n    ================*/\r\n\r\n    public remove( key:any ) \r\n    {\r\n        this.set( key, null );\r\n    }\r\n\r\n    public removeAccount() \r\n    {\r\n        this.remove( \"account\" );\r\n        this.setAccount( this.loadAccount() );\r\n    }\r\n \r\n}\r\n\r\nnamespace Storage \r\n{\r\n\r\n}\r\n\r\nexport default Storage;","import RANDOM from \"./RANDOM\";\r\nimport LOG, { log } from \"./LOG\";\r\nimport STRING from \"./STRING\";\r\n\r\n\r\nclass ARRAY\r\n{\r\n    public static push( array:[], _output?:[] ) : []\r\n    {\r\n        var output:[] = _output || [];\r\n        for( var n in array ) output.push( array[n] );\r\n        return output; \r\n    };\r\n\r\n    public static clone( object:any ) : object\r\n    {\r\n        var output : any = {};\r\n        for( var n in object ) output[n] = object[n];\r\n        return output;   \r\n    };\r\n\r\n    public static deepClone ( object:any ) : string\r\n    {\r\n        return JSON.parse( JSON.stringify( object ) );\r\n    };\r\n\r\n    public static extract( from?:any, to?:any )\r\n    {\r\n        var output = to || {};\r\n\r\n        if( !from ) return output;\r\n\r\n        if( from._attributes )\r\n        {\r\n            for( var varName in from._attributes ) to[ varName ] = from[ varName ];\r\n        }else{\r\n            for( var n in from ) output[n] = from[n];\r\n        }\r\n \r\n        return output;  \r\n    };\r\n\r\n    public static getFields( from?:any, fields?:any ) : any\r\n    {\r\n        if( !from || !fields ) return from;\r\n\r\n        if( !Array.isArray( from ) ) return doGetFields( from );\r\n \r\n        let output : any = [];\r\n\r\n        for( let n=0; n< from.length; n++ ) output.push( doGetFields( from[n] ) );\r\n    \r\n        return output;\r\n\r\n        function doGetFields( from:any )\r\n        {\r\n            var item    : any = {};\r\n            \r\n            for( let n=0; n< fields.length; n++ ) \r\n            {\r\n                let field = fields[n];\r\n                if( typeof from[ field ] != undefined ) item[ field ] = from[ field ];\r\n            }\r\n            return item;\r\n        }\r\n    }\r\n    \r\n    public static merge( from:any, to:any  )\r\n    {\r\n        var output : any = ARRAY.clone( to );\r\n        for( var n in from ) output[n] = from[n];\r\n        return output;  \r\n    };\r\n    \r\n    public static mergeUnique( from:any, to:any )\r\n    {\r\n        for( var n in from ) if( to[n] == null ) to[n] = from[n];\r\n        return to;  \r\n    };\r\n\r\n    public static pushUnique( array:any, item:any )\r\n    {\r\n        if( array.indexOf( item ) == -1 ) array.push( item );\r\n        return item;\r\n    };\r\n\r\n    public static copy ( array:any )\r\n    {\r\n        var output : any = [];\r\n        for( var n=0; n< array.length; n++ ) output[n] = array[n];\r\n        return output;\r\n    };\r\n\r\n    public static getRandomItem( array:any, andRemove?:boolean, andAvoid?:any ) : any\r\n    {\r\n        if( !array.length ) return null;\r\n        \r\n        var n       = RANDOM.value( array.length-1 );\r\n        var item    = array[ n ]; \r\n\r\n        if( item == andAvoid ) return ARRAY.getRandomItem( array, andRemove, andAvoid );\r\n\r\n        if( andRemove ) array.splice( n, 1 );\r\n\r\n        return item;\r\n    };\r\n\r\n    public static removeItem( array:any, item:any  ) : any\r\n    {\r\n        var index = array.indexOf( item );  \r\n \r\n        if ( index == -1 ) return false;\r\n        \r\n        array.splice( index, 1 ); \r\n \r\n        return item;\r\n    };\r\n \r\n    public static removeItems( array:[], items :[] )\r\n    {\r\n        for( var n in items ) ARRAY.removeItem( array, items[n] );\r\n    };\r\n\r\n    public static extractUnique( a:[], _output?:[] )\r\n    {\r\n        var output = _output || [];\r\n        for( var n in a ) if ( output.indexOf( a[n] ) == -1 ) output.push( a[n] );\r\n \r\n        return output;\r\n    };\r\n\r\n    public static sort( array:[], property:any )\r\n    {\r\n        array.sort( function(a,b) { return ( a[ property ] > b[ property ]) ? 1 : ((b[ property ] > a[ property ]) ? -1 : 0);} );\r\n        return array;\r\n    };\r\n \r\n    public static shuffle( refArray:any, length?:number )\r\n    {\r\n        var array   : any = ARRAY.copy( refArray ); \r\n        var output  : any = [];\r\n\r\n        while( array.length )\r\n        {\r\n            output.push( ARRAY.getRandomItem( array, false ) );\r\n            if( output.length == length ) return output;\r\n        }   \r\n\r\n        return output;\r\n    };\r\n\r\n    public static shuffleLinear( array:any )\r\n    {\r\n        var output = ARRAY.copy( array );\r\n         \r\n        for( var n=0; n<array.length; n++ ) if( RANDOM.chance() ) ARRAY.firstToLast( output );\r\n \r\n        if( RANDOM.chance() ) output.reverse();\r\n\r\n        return output;\r\n    };\r\n\r\n    public static firstToLast( array:any )\r\n    {\r\n        array.push( array.shift() );\r\n        return array; \r\n    };\r\n\r\n    public static lastToFirst( array:[] )\r\n    {\r\n        array.reverse();\r\n        ARRAY.firstToLast( array );\r\n        array.reverse();\r\n        return array; \r\n    };\r\n\r\n    public static searchObject( object:any, label:string )\r\n    {\r\n        var output : any = {};\r\n        for( var name in object ) if( STRING.containsStrict( name, label ) ) output[name] = object[name];\r\n        return output;\r\n    };\r\n \r\n    public static pages( array:[], perpage:number=0 )\r\n    {\r\n        var array : [] = ARRAY.copy( array );\r\n        var output = [];\r\n\r\n        while( array.length )\r\n        {\r\n            var page = [];  \r\n            var i = 0 ;\r\n            while( ++i <= perpage && array.length ) page.push( array.shift() );\r\n            output.push( page ) ;   \r\n        };\r\n\r\n        return output;\r\n    };\r\n \r\n    public static toNameVar( array:[], field:string )\r\n    {\r\n        var output = {};\r\n\r\n        for( var n in array ) output[ array[n][field]  ] = array[n];\r\n\r\n        return output; \r\n    };\r\n\r\n    public static parse( value:any )\r\n    {\r\n        if( value )\r\n        {\r\n            try{\r\n                var json = JSON.parse( value ); \r\n \r\n                return json;\r\n            }catch(e){\r\n                log( \"----------JSON PARSE ERROR---------\", value );  \r\n            }\r\n            return {};\r\n        }\r\n        return {};\r\n    };\r\n\r\n    public static rotate( grid:[], times:number= 0 ) : []\r\n    {\r\n        var times           = times == null ? RANDOM.value(3) : times; \r\n        var newGrid : []    = [];\r\n        var rowLength       = Math.sqrt(grid.length);\r\n        newGrid.length      = grid.length;\r\n\r\n        for (var i = 0; i < grid.length; i++)\r\n        {\r\n            //convert to x/y\r\n            var x       = i % rowLength;\r\n            var y       = Math.floor(i / rowLength);\r\n\r\n            //find new x/y\r\n            var newX    = rowLength - y - 1;\r\n            var newY    = x;\r\n\r\n            //convert back to index\r\n            var newPosition = newY * rowLength + newX;\r\n            newGrid[newPosition] = grid[i];\r\n        }\r\n\r\n        if( times > 0 ) return ARRAY.rotate( newGrid, times-1 );\r\n\r\n        return newGrid;\r\n    };\r\n \r\n    public static flip( grid:[] ) : []\r\n    {\r\n        var output : [] = [];\r\n        var n       = 0;\r\n        var side    = Math.sqrt( grid.length ); \r\n\r\n        for( var y=0; y<side; y++ ) \r\n        {\r\n            var line : any = [];\r\n            for( var x=0; x<side; x++ ) line.push( grid[ n++ ] );\r\n            ARRAY.push( line.reverse(), output );\r\n        }\r\n\r\n        return output;\r\n    };\r\n\r\n    public static findItemByAttribute( array:[], attribute:string, value?:any )\r\n    {\r\n        for( var n in array ) if( array[n][ attribute ] == value ) return array[n];\r\n    };\r\n\r\n    public static salchiche( array:[], andReverse:boolean=false )\r\n    {\r\n        var output : any = ARRAY.clone( array );\r\n\r\n        var halve = [];\r\n\r\n        while( halve.length< output.length ) halve.push( output.shift() );\r\n\r\n        if( andReverse ) halve = halve.reverse();\r\n\r\n        while( halve.length ) output.push( halve.shift() );\r\n\r\n        return output;\r\n    };\r\n\r\n    public static mirror( array:any, length:number=0 )\r\n    {\r\n        array = ARRAY.clone( array );\r\n\r\n        var halve = [];\r\n\r\n        length = length || array.length;\r\n\r\n        while( halve.length < length ) halve.push( array.shift() );\r\n\r\n        var halve2 : any = ARRAY.clone( halve );\r\n\r\n        halve2 = halve2.reverse();\r\n\r\n        while( halve2.length ) halve.push( halve2.shift() );\r\n \r\n        return halve;\r\n    };\r\n\r\n    public static contains( array:any, value:any )\r\n    {\r\n        return array.indexOf( value ) != -1; \r\n    };\r\n\r\n    public static getCue( array:any, source:any )\r\n    {\r\n        if( !array.length ) ARRAY.push( ARRAY.shuffle( source ), array ); \r\n        return array.shift();\r\n    };\r\n\r\n    public static toString( array:any ) : string\r\n    {\r\n        var output : string = \"\";\r\n        for( var n in array ) output += array[n];\r\n        return output;\r\n    };\r\n\r\n    public static isArray( a:any )\r\n    {\r\n        return Array.isArray( a );\r\n    }\r\n    \r\n    public static trim ( array:[], amount:number=0 )\r\n    {\r\n        var output : [] = [];\r\n        var amount = amount || array.length;\r\n        for( var n =0; n<amount; n++ ) if( array[n] != null ) output.push( array[n] );\r\n        return output;\r\n    };\r\n    \r\n    public static cycle ( array:[], pos:number=0, amount:number=1, increment:number=1 )\r\n    {\r\n        var output  = [];\r\n        var laps    = 0;\r\n        \r\n        while( amount )\r\n        {\r\n            pos += increment;\r\n            \r\n            if( pos >= array.length ) \r\n            {\r\n                pos -= array.length;\r\n                laps ++;\r\n            }\r\n            \r\n            output.push( pos );\r\n            \r\n            amount--;\r\n        }\r\n        \r\n        return output;\r\n    };\r\n\r\n    public static getClamp( array:[], position:number=0 )\r\n    {\r\n        if( position >= array.length ) return array[ array.length-1 ];\r\n        return array[ position ];\r\n    };\r\n}\r\n\r\n\r\n \r\nexport var merge            = ARRAY.merge;\r\nexport var extract          = ARRAY.extract;\r\nexport var push             = ARRAY.push;\r\nexport var isArray          = ARRAY.isArray;\r\nexport var pushUnique       = ARRAY.pushUnique;\r\nexport var getRandomItem    = ARRAY.getRandomItem;\r\nexport var removeItem       = ARRAY.removeItem;\r\nexport var shuffle          = ARRAY.shuffle;\r\nexport var copy             = ARRAY.copy;\r\nexport var sort             = ARRAY.sort;\r\n\r\nexport default ARRAY;\r\n \r\n \r\n ","import ACCOUNT from \"../../Core/TESTS/ACCOUNT\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\nimport ARRAY from \"../../UTIL/ARRAY\";\r\nimport CONQUER from \"../CONQUER\";\r\n\r\nclass FriendInstance\r\n{\r\n    private conquer: CONQUER;\r\n    public avatarID     : any;\r\n    public firstName    : any;\r\n    public userPhoto    : any;\r\n    public membershipID : any;\r\n    public status       : any;\r\n    public role         : any;\r\n \r\n    constructor( instance:CONQUER, vars:any )\r\n    {\r\n        this.conquer        = instance;\r\n\r\n        this.fill( vars );\r\n    };\r\n\r\n    private fill( vars:any )\r\n    {\r\n        this.avatarID       = vars.avatarID || this.avatarID;\r\n        this.firstName      = vars.firstName || this.firstName;\r\n        this.userPhoto      = vars.userPhoto || this.userPhoto;\r\n\r\n        this.membershipID   = vars.membershipID;\r\n        this.status         = vars.status;\r\n        this.role           = vars.role;\r\n    }\r\n\r\n    public async set() : Promise<any>\r\n    {\r\n        let membership;\r\n\r\n        if( !this.membershipID )\r\n        {\r\n            membership      = await this.conquer.Friends.set( this.avatarID );\r\n\r\n            return Promise.resolve( this );\r\n        } \r\n \r\n        if( this.status != \"pending\" ) return;\r\n\r\n        membership      = await this.conquer.do( ACTIONS.FRIENDS_CHANGE, { membershipID:this.membershipID, status:\"active\" } );\r\n \r\n        this.fill( membership );\r\n\r\n        return Promise.resolve( this );\r\n    }\r\n\r\n    public remove()\r\n    {\r\n        this.conquer.do( ACTIONS.FRIENDS_REMOVE, { membershipID:this.membershipID });\r\n        ARRAY.removeItem( this.conquer.Friends.pool, this );\r\n    }\r\n \r\n}\r\n\r\nexport default FriendInstance;","import { ACTIONS } from \"../../Models/ENUM\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport FriendInstance from \"./FriendInstance\";\r\n\r\nclass Friends\r\n{\r\n    private conquer : CONQUER;\r\n\r\n    public constructor( instance:CONQUER ) \r\n    {\r\n        this.conquer = instance;\r\n    }\r\n\r\n    public pool : any = [];\r\n\r\n    /*=============== \r\n\r\n\r\n    GET\r\n    \r\n\r\n    ================*/\r\n\r\n    public async get( force?:boolean ) : Promise<any>\r\n    {\r\n        if( this.pool.length && !force ) return Promise.resolve( this.pool );\r\n\r\n        let array   = await this.conquer.do( ACTIONS.FRIENDS_GET );\r\n        this.pool   = [];\r\n\r\n        for( var n in array ) this.pool.push( new FriendInstance( this.conquer, array[n] ));\r\n \r\n        return Promise.resolve( this.pool );\r\n    };\r\n\r\n    /*=============== \r\n\r\n\r\n    SET\r\n    \r\n\r\n    ================*/\r\n\r\n    public async set( friendID:any ) : Promise<any>\r\n    {\r\n        var friendship = await this.conquer.do( ACTIONS.FRIENDS_SET, { friendID:friendID } );\r\n\r\n        return Promise.resolve( friendship );\r\n    };\r\n}\r\n\r\nexport default Friends;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport RoomInstance from \"./RoomInstance\";\r\n\r\nclass Entries\r\n{\r\n    private conquer: CONQUER;\r\n    private roomInstance    : RoomInstance;\r\n    private roomID          : any;\r\n\r\n    constructor( instance:CONQUER, roomInstance:RoomInstance )\r\n    {\r\n        this.conquer = instance;\r\n        this.roomInstance   = roomInstance;\r\n        this.roomID         = roomInstance.roomID;\r\n    }\r\n \r\n    public async get( vars:any ) : Promise<any>\r\n    {\r\n        vars        = vars || {};\r\n        vars.roomID = this.roomID;\r\n\r\n        let values : any = await this.conquer.do( ACTIONS.ROOM_ENTRIES_GET, vars );\r\n \r\n        return Promise.resolve(  values );\r\n    };\r\n\r\n    public set( text:any )\r\n    {\r\n        this.roomInstance.entry( text );\r\n    }\r\n\r\n    public async change( vars:any ) : Promise<any>\r\n    {\r\n        let value : any = await this.conquer.do( ACTIONS.ROOM_ENTRIES_CHANGE, vars );\r\n \r\n        return Promise.resolve( value ); \r\n    }\r\n\r\n    public async remove( vars:any ) : Promise<any>\r\n    {\r\n        await this.conquer.do( ACTIONS.ROOM_ENTRIES_REMOVE, vars );\r\n \r\n        return Promise.resolve(); \r\n    }\r\n \r\n\r\n}\r\n\r\nexport default Entries;","import CONQUER from \"../../CONQUER\";\r\nimport { STATUS, ACTIONS } from \"../../../Models/ENUM\";\r\nimport Entries from \"./Entries\";\r\n\r\nclass RoomInstance\r\n{\r\n    private conquer     : CONQUER;\r\n    public roomID       : any;\r\n    public name         : any;\r\n    public avatarIDs    : any;\r\n    public onMessage    : Function = function(e:any){};\r\n    public data         : any = {};\r\n\r\n    public Entries      : Entries;\r\n\r\n\r\n    /*\r\n \r\n    conquer.Avatars.get().then( array ){} <--- for now this has all of the users registered \r\n\r\n    conquer.Rooms.get( { avatarIDs:[myID, yourID] } ).then( function( roomInstance )\r\n    {\r\n        roomInstance.onMessage = function( message )\r\n        {\r\n            log(\"DO something with that message now!\", message );\r\n        }\r\n\r\n        roomInstance.join().then( function()\r\n        {   \r\n            roomInstance.Entries.get().then( function(array)\r\n            {\r\n                // put this on the website\r\n            }) // you get all of the entries sent previously in the chat \r\n\r\n\r\n            roomInstance.chat(\"sending this text\");\r\n            roomInstance.entry(\"this text gets recorded to the database\");\r\n\r\n            roomInstance.call( YOUR_SIGNAL ); // you're calling the room\r\n            \r\n            roomInstance.reject();\r\n        });\r\n\r\n        // I WANT TO GET THE PAST ENTRIES OF THE CONVERSATION\r\n\r\n\r\n    });\r\n\r\n\r\n\r\n    */\r\n    constructor( instance:CONQUER, vars:any )\r\n    {\r\n        this.conquer    = instance;\r\n        this.roomID     = vars._id;\r\n        this.name       = vars.name;\r\n        this.avatarIDs  = vars.avatarIDs;\r\n\r\n        this.Entries    = new Entries( this.conquer, this );\r\n    }\r\n\r\n    public join()\r\n    {\r\n        this.doSend( ACTIONS.PLAYERJOIN );\r\n    };\r\n\r\n    public leave()\r\n    {\r\n        this.conquer.Rooms.leave( this );\r\n    };\r\n\r\n    public chat( text:any )\r\n    {\r\n        this.doSend( ACTIONS.CHAT, text );\r\n    }\r\n\r\n    public entry( text:any )\r\n    {\r\n        this.doSend( ACTIONS.ENTRY, text );\r\n    }\r\n\r\n    public call( signal:any )\r\n    {\r\n        this.doSend( ACTIONS.CALL, signal );\r\n    }\r\n\r\n    public accept( signal:any )\r\n    {\r\n        this.doSend( ACTIONS.ACCEPT_CALL, signal );\r\n    }\r\n\r\n    public reject()\r\n    {\r\n        this.doSend( ACTIONS.REJECT_CALL );\r\n    }\r\n\r\n    private doSend( action:any, data?:any )\r\n    {\r\n        this.conquer.send( action, this.roomID, data || {} );\r\n    }\r\n\r\n    public _onServerMessage( message:any )\r\n    {\r\n        let action = message.action;\r\n\r\n        if( action == ACTIONS.GAMEDATA ) this.data = message.data;\r\n\r\n        this.onMessage( message );\r\n    }\r\n}\r\n\r\nexport default RoomInstance;","import CONQUER from \"../CONQUER\";\r\nimport RoomInstance from \"./RoomInstance/RoomInstance\";\r\nimport LOG, { log } from \"../../UTIL/LOG\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\n\r\nclass Rooms\r\n{\r\n    private conquer:CONQUER;\r\n    public pool : any = {};\r\n\r\n    public constructor( instance:CONQUER ) \r\n    {\r\n        this.conquer = instance;\r\n    }\r\n \r\n    /*=============== \r\n \r\n    GET (JOIN)\r\n    {\r\n        avatarIDs?:[ avatarID ] // [ yohamiID, JID ] \r\n    }\r\n\r\n    [ avatarID1, avatarID2, etc ]\r\n \r\n    ================*/\r\n\r\n    public async get( vars:any ) : Promise<any>\r\n    {\r\n        let values : any = await this.conquer.do( ACTIONS.ROOM_GET, vars );\r\n\r\n        for( var n in values )\r\n        {\r\n            let room = new RoomInstance( this.conquer, values[n] );\r\n            this.pool[ room.roomID ] = room;\r\n        }\r\n \r\n        return Promise.resolve( this.pool );\r\n    };\r\n\r\n    public async getOne( vars:any ) : Promise<any>\r\n    {\r\n        if( Array.isArray( vars ) )     vars = { avatarIDs:vars };\r\n        if( typeof vars == 'string' )   vars = { roomID:vars };\r\n\r\n        let value   = await this.conquer.do( ACTIONS.ROOM_GETONE, vars );\r\n\r\n        let room    = new RoomInstance( this.conquer, value );\r\n\r\n        this.pool[ room.roomID ] = room;\r\n\r\n        return Promise.resolve( room );\r\n    };\r\n \r\n    /*=============== \r\n\r\n\r\n    LEAVE\r\n    \r\n\r\n    ================*/\r\n\r\n    public async leave( roomID:any ) : Promise<any>\r\n    {\r\n        delete this.pool[ roomID ];\r\n\r\n        return Promise.resolve();\r\n    };\r\n\r\n    /*=============== \r\n\r\n\r\n    ON MESSAGE\r\n    \r\n\r\n    ================*/\r\n\r\n    public _onServerMessage( object:any )\r\n    {\r\n        for( let n in object.messages )\r\n        {\r\n            let message = object.messages[n];\r\n\r\n            if( message.avatarID == this.conquer.User!.avatarID ) continue;\r\n\r\n            let room  = this.pool[ message.roomID ];\r\n            if( room ) room._onServerMessage( message );\r\n        }\r\n \r\n    }\r\n}\r\n\r\nexport default Rooms;","import { ACTIONS } from \"../../Models/ENUM\";\r\nimport CONQUER from \"../CONQUER\";\r\n\r\nclass Analytics\r\n{\r\n    private conquer : CONQUER;\r\n    private vars    : any = {};\r\n\r\n    constructor( conquer:CONQUER )\r\n    {\r\n        this.conquer = conquer;\r\n    };\r\n\r\n    public async get( vars:any ) : Promise<any>\r\n    {\r\n        let values = await this.conquer.do( ACTIONS.ANALYTICS_GET, vars );\r\n        return Promise.resolve( values );\r\n    }\r\n\r\n    public set( label:string, value?:any )\r\n    {\r\n        this.vars.label = label;\r\n        delete this.vars.value;\r\n        if( value ) this.vars.value = value;\r\n\r\n        this.conquer.do( ACTIONS.ANALYTICS_SET, this.vars )\r\n    }\r\n\r\n    public onEntryPoint()\r\n    {\r\n        // add other variables\r\n        this.set( \"onEntryPoint\" );\r\n    }\r\n\r\n    public onError( value?:any )\r\n    {\r\n        this.set( \"onError\", value );\r\n    }\r\n  \r\n    public onTrackBuildVersion( value?:any )\r\n    {\r\n        this.set( \"onTrackBuildVersion\", value );\r\n    }\r\n \r\n    public onShopOpen( value?:any )\r\n    {\r\n        this.set( \"onShopOpen\", value );\r\n    }\r\n\r\n    public onShopPurchase( value?:any )\r\n    {\r\n        this.set( \"onShopPurchase\", value );\r\n    }\r\n\r\n    public onStartGame( value?:any )\r\n    {\r\n        this.set( \"onStartGame\", value );\r\n    }\r\n\r\n    public onPreloadEnd( value?:any )\r\n    {\r\n        this.set( \"onPreloadEnd\", value );\r\n    }\r\n\r\n    public onTutorialStart( value?:any )\r\n    {\r\n        this.set( \"onTutorialStart\", value );\r\n    }\r\n\r\n    public onTutorialStage( value?:any )\r\n    {\r\n        this.set( \"onTutorialStage\", value );\r\n    }\r\n\r\n    public onTutorialComplete( value?:any )\r\n    {\r\n        this.set( \"onTutorialComplete\", value );\r\n    }\r\n\r\n    public noAds( value?:any )\r\n    {\r\n        this.set( \"noAds\", value );\r\n    }\r\n \r\n    public onPostTournament( value?:any )\r\n    {\r\n        this.set( \"onPostTournament\", value );\r\n    }\r\n\r\n    public onSpectate( value?:any )\r\n    {\r\n        this.set( \"onSpectate\", value );\r\n    }\r\n\r\n    public onPlay( value?:any )\r\n    {\r\n        this.set( \"onPlay\", value );\r\n    }\r\n\r\n    public onPlayRewarded( value?:any )\r\n    {\r\n        this.set( \"onPlayRewarded\", value );\r\n    }\r\n\r\n    public onGameOver( value?:any )\r\n    {\r\n        this.set( \"onGameOver\", value );\r\n    }\r\n\r\n    public onGameExit( value?:any )\r\n    {\r\n        this.set( \"onGameExit\", value );\r\n    }\r\n\r\n    public onStartLevel( value?:any )\r\n    {\r\n        this.set( \"onStartLevel\", value );\r\n    }\r\n\r\n    public onLevelEnded( value?:any )\r\n    {\r\n        this.set( \"onLevelEnded\", value );\r\n    }\r\n\r\n    public onTryAgain( value?:any )\r\n    {\r\n        this.set( \"onTryAgain\", value );\r\n    }\r\n \r\n    public onAdFailed( value?:any )\r\n    {\r\n        this.set( \"onAdFailed\", value );\r\n    }\r\n\r\n    public onRevive( value?:any )\r\n    {\r\n        this.set( \"onRevive\", value );\r\n    }\r\n\r\n    public onPlayWithFriend( value?:any )\r\n    {\r\n        this.set( \"onPlayWithFriend\", value );\r\n    }\r\n\r\n    public onJoinTournament( value?:any )\r\n    {\r\n        this.set( \"onJoinTournament\", value );\r\n    }\r\n\r\n    public onInvite( value?:any )\r\n    {\r\n        this.set( \"onInvite\", value );\r\n    }\r\n\r\n    public onPlayWithRandom( value?:any )\r\n    {\r\n        this.set( \"onPlayWithRandom\", value );\r\n    }\r\n\r\n    public onMatchStart( value?:any )\r\n    {\r\n        this.set( \"onMatchStart\", value );\r\n    }\r\n\r\n    public onMatchEnd( value?:any )\r\n    {\r\n        this.set( \"onMatchEnd\", value );\r\n    }\r\n\r\n    public onShopEnter( value?:any )\r\n    {\r\n        this.set( \"onShopEnter\", value );\r\n    }\r\n\r\n    public onShopExit( value?:any )\r\n    {\r\n        this.set( \"onShopExit\", value );\r\n    }\r\n \r\n    public onPurchase( value?:any )\r\n    {\r\n        this.set( \"onPurchase\", value );\r\n    }\r\n\r\n    public onGift( value?:any )\r\n    {\r\n        this.set( \"onGift\", value );\r\n    }\r\n\r\n    public onAdRequest( value?:any )\r\n    {\r\n        this.set( \"onAdRequest\", value );\r\n    }\r\n\r\n    public onAdImpression( value?:any )\r\n    {\r\n        this.set( \"onAdImpression\", value );\r\n    }\r\n\r\n    public onAdComplete( value?:any )\r\n    {\r\n        this.set( \"onAdComplete\", value );\r\n    }\r\n\r\n    public onAdError( value?:any )\r\n    {\r\n        this.set( \"onAdError\", value );\r\n    }\r\n\r\n    public onShare( value?:any )\r\n    {\r\n        this.set( \"onShare\", value );\r\n    }\r\n\r\n    public onUI( value?:any )\r\n    {\r\n        this.set( \"onUI\", value );\r\n    }\r\n\r\n    public onUIOut( value?:any )\r\n    {\r\n        this.set( \"onUIOut\", value );\r\n    }\r\n\r\n    public onButton( value?:any )\r\n    {\r\n        this.set( \"onButton\", value );\r\n    }\r\n\r\n    public onDie( value?:any )\r\n    {\r\n        this.set( \"onDie\", value );\r\n    }\r\n\r\n    public onContinue( value?:any )\r\n    {\r\n        this.set( \"onContinue\", value );\r\n    }\r\n \r\n};\r\n\r\nexport default Analytics;","import ACCOUNT from \"../../Core/TESTS/ACCOUNT\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\nimport ARRAY from \"../../UTIL/ARRAY\";\r\nimport CONQUER from \"../CONQUER\";\r\n\r\nclass FollowerInstance\r\n{\r\n    private conquer     : CONQUER;\r\n    public avatarID     : any;\r\n    public firstName    : any;\r\n    public userPhoto    : any;\r\n    public membershipID : any;\r\n    public status       : any;\r\n    public role         : any;\r\n \r\n    constructor( instance:CONQUER, vars:any )\r\n    {\r\n        this.conquer        = instance;\r\n\r\n        this.fill( vars );\r\n    };\r\n\r\n    private fill( vars:any )\r\n    {\r\n        this.avatarID       = vars.avatarID || this.avatarID;\r\n        this.firstName      = vars.firstName || this.firstName;\r\n        this.userPhoto      = vars.userPhoto || this.userPhoto;\r\n\r\n        this.membershipID   = vars.membershipID;\r\n        this.status         = vars.status \r\n    }\r\n\r\n    public async set() : Promise<any>\r\n    {\r\n        let membership;\r\n\r\n        if( !this.membershipID )\r\n        {\r\n            membership      = await this.conquer.Friends.set( this.avatarID );\r\n\r\n            return Promise.resolve( this );\r\n        } \r\n \r\n        if( this.status != \"pending\" ) return;\r\n\r\n        membership      = await this.conquer.do( ACTIONS.FRIENDS_CHANGE, { membershipID:this.membershipID, status:\"active\" } );\r\n \r\n        this.fill( membership );\r\n\r\n        return Promise.resolve( this );\r\n    }\r\n\r\n    public remove()\r\n    {\r\n        this.conquer.do( ACTIONS.FOLLOWERS_REMOVE, { membershipID:this.membershipID });\r\n        ARRAY.removeItem( this.conquer.Followers.pool, this );\r\n    }\r\n \r\n}\r\n\r\nexport default FollowerInstance;","import { ACTIONS } from \"../../Models/ENUM\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport FollowerInstance from \"./FollowerInstance\";\r\n\r\nclass Followers\r\n{\r\n    private conquer : CONQUER;\r\n\r\n    public constructor( instance:CONQUER ) \r\n    {\r\n        this.conquer = instance;\r\n    }\r\n\r\n    public pool : any = [];\r\n\r\n    /*=============== \r\n\r\n\r\n    GET\r\n    \r\n\r\n    ================*/\r\n\r\n    public async get( force?:boolean ) : Promise<any>\r\n    {\r\n        if( this.pool.length && !force ) return Promise.resolve( this.pool );\r\n\r\n        let array   = await this.conquer.do( ACTIONS.FOLLOWERS_GET );\r\n        this.pool   = [];\r\n\r\n        for( var n in array ) this.pool.push( new FollowerInstance( this.conquer, array[n] ));\r\n \r\n        return Promise.resolve( this.pool );\r\n    };\r\n\r\n    /*=============== \r\n\r\n\r\n    SET\r\n    \r\n\r\n    ================*/\r\n\r\n    public async set( toFollowID:any ) : Promise<any>\r\n    {\r\n        var friendship = await this.conquer.do( ACTIONS.FOLLOWERS_SET, { toFollowID:toFollowID } );\r\n\r\n        return Promise.resolve( friendship );\r\n    };\r\n}\r\n\r\nexport default Followers;","import { ACTIONS } from \"../../Models/ENUM\";\r\nimport ARRAY from \"../../UTIL/ARRAY\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport GameInstance from \"./GameInstance\";\r\n\r\nclass Score\r\n{\r\n    private conquer         : CONQUER;\r\n    private query           : any;\r\n\r\n    constructor( conquer:CONQUER, gameID:any )\r\n    {\r\n        this.conquer        = conquer;\r\n        this.query          = { gameID:gameID };\r\n    }\r\n\r\n    public async set( score:number, vars?:any, tournamentID?:any ) : Promise<any>\r\n    {\r\n        let query               = ARRAY.extract( this.query );\r\n\r\n        query.score             = score;\r\n        query.vars              = vars;\r\n        query.tournamentID      = tournamentID;\r\n \r\n        let value               = await this.conquer.do( ACTIONS.GAMESCORE_SET, query );\r\n\r\n        return Promise.resolve( value );\r\n    }\r\n\r\n    public async getOne() : Promise<any>\r\n    {\r\n        let value = await this.conquer.do( ACTIONS.GAMESCORE_GET, this.query );\r\n        return Promise.resolve( value );\r\n    }\r\n\r\n    public async getAllTime() : Promise<any>\r\n    {\r\n        let values = await this.conquer.do( ACTIONS.GAMESCORE_GETALLTIME, this.query );\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n    public async getToday() : Promise<any>\r\n    {\r\n        let values = await this.conquer.do( ACTIONS.GAMESCORE_GETTODAY, this.query );\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n    public async getFriendsAllTime() : Promise<any>\r\n    { \r\n        let values = await this.conquer.do( ACTIONS.GAMESCORE_GETFRIENDSALLTIME, this.query );\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n    public async getFriendsToday() : Promise<any>\r\n    {\r\n        let values = await this.conquer.do( ACTIONS.GAMESCORE_GETFRIENDSTODAY, this.query );\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n};\r\n\r\nexport default Score;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport ARRAY from \"../../../UTIL/ARRAY\";\r\nimport CONQUER from \"../../CONQUER\";\r\n\r\nclass TurnsInstance\r\n{\r\n    private conquer         : CONQUER;\r\n    private gameID          : any;\r\n\r\n    public turnData         : any;\r\n    public maxTurns         : number = 9999;\r\n    public currentTurn      : any;\r\n    public finished         : any;\r\n    public viewedResults    : any;\r\n    public status           : string = \"waiting\";\r\n\r\n    private query           : any;\r\n\r\n    constructor( conquer:CONQUER, params:any )\r\n    {\r\n        this.conquer    = conquer;\r\n        this.query      = { turnID:params._id };\r\n\r\n        this.fill( params );\r\n    }\r\n\r\n    private fill( params:any )\r\n    {\r\n        this.maxTurns       = params.maxTurns;\r\n        this.turnData       = params.turnData || [];\r\n        \r\n        this.viewedResults  = params.viewedResults;\r\n        this.finished       = params.finished;\r\n        this.currentTurn    = params.currentTurn;\r\n        this.status         = params.status;\r\n\r\n        return this;\r\n    };\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let value = await this.conquer.do( ACTIONS.GAMETURN_GETONE, this.query );\r\n       \r\n        return Promise.resolve( this.fill( value ) );\r\n    };\r\n\r\n    public async set( turnData:any, finishTurn?:boolean, finishGame?:boolean, viewResults?:boolean ) : Promise<any>\r\n    {\r\n        return this.do({ turnData:turnData, finishTurn:finishTurn, finishGame:finishGame, viewResults:viewResults });\r\n    }\r\n\r\n    public async finishGame() : Promise<any>\r\n    {\r\n        return this.do({ finishGame:true });\r\n    }\r\n\r\n    public async finishTurn() : Promise<any>\r\n    {\r\n        return this.do( { finishTurn:true } );\r\n    }\r\n\r\n    public async viewResults() : Promise<any>\r\n    {\r\n        return this.do( { viewResults:true } );\r\n    }\r\n\r\n    private async do( query:any ) : Promise<any>\r\n    {\r\n        let value = await this.conquer.do( ACTIONS.GAMETURN_CHANGE, ARRAY.extract( this.query, query ) );\r\n        return Promise.resolve( this.fill( value ) );\r\n    };\r\n\r\n    \r\n\r\n\r\n};\r\n\r\nexport default TurnsInstance;\r\n\r\n","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport ARRAY from \"../../../UTIL/ARRAY\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport TurnsInstance from \"./TurnsInstance\";\r\n\r\nclass Turns\r\n{\r\n    private conquer         : CONQUER;\r\n    private query           : any;\r\n    public pool             : any = [];\r\n\r\n    constructor( conquer:CONQUER, gameID:any )\r\n    {\r\n        this.conquer        = conquer;\r\n        this.query          = { gameID:gameID };\r\n    }\r\n\r\n    public async set( friendID:any ) : Promise<any>\r\n    {\r\n        let query               = ARRAY.extract( this.query );\r\n\r\n        query.avatarIDs         = Array.isArray( friendID ) ? friendID : [ friendID ];\r\n \r\n        let value               = await this.conquer.do( ACTIONS.GAMETURN_SET, query );\r\n\r\n        return Promise.resolve( new TurnsInstance( this.conquer, value ) );\r\n    }\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let values = await this.conquer.do( ACTIONS.GAMETURN_GET, this.query );\r\n\r\n        let output = [];\r\n\r\n        for( let n in values ) output.push( new TurnsInstance( this.conquer, values[n] ));\r\n\r\n        return Promise.resolve( output );\r\n    }\r\n \r\n\r\n};\r\n\r\nexport default Turns;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport GameInstance from \"../GameInstance\";\r\n\r\nclass ShopItem\r\n{\r\n    private conquer : CONQUER;\r\n    public key      : string;\r\n    public price    : number;\r\n    public tabKey   : string;\r\n    public currency : string;\r\n    public name     : string;\r\n    public ad       : string;\r\n    public amount   : number;\r\n    public metadata : any;\r\n    public id       : any;\r\n \r\n    constructor( conquer:CONQUER, data:any )\r\n    {\r\n        this.conquer    = conquer;\r\n\r\n        this.key        = data.key;\r\n        this.price      = data.price;\r\n        this.tabKey     = data.tabKey;\r\n        this.currency   = data.currency;\r\n        this.name       = data.name;\r\n        this.ad         = data.ad;\r\n        this.amount     = data.amount;\r\n        this.metadata   = data.metadata;\r\n        this.id         = data._id;\r\n    }\r\n \r\n}\r\n\r\nexport default ShopItem;","import CONQUER from \"../../CONQUER\";\r\nimport PlayerInventory from \"../INVENTORY/PlayerInventory\";\r\nimport Shop from \"./Shop\";\r\nimport ShopItem from \"./ShopItem\";\r\n\r\nclass ShopTabInstance\r\n{\r\n    private conquer : CONQUER;\r\n\r\n    public pool : any = [];\r\n    public data : any = {};\r\n    private shop : Shop;\r\n\r\n    constructor( conquer:CONQUER, shop:Shop, data:any )\r\n    {\r\n        this.conquer = conquer;\r\n        this.shop = shop;\r\n\r\n        for( let n in data.items )\r\n        {\r\n            let shopItem = new ShopItem( conquer, data.items[n] );\r\n\r\n            shop.data[ shopItem.key ] = this.data[ shopItem.key ] = shopItem;\r\n            \r\n            this.pool.push( shopItem );\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default ShopTabInstance;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport ShopTabInstance from \"./ShopTabInstance\";\r\n\r\nclass Shop\r\n{\r\n    private conquer : CONQUER;\r\n    public tabs     : any;\r\n    private vars    : any = {};\r\n    public data     : any = {};\r\n\r\n    constructor( conquer:CONQUER, gameID:any )\r\n    {\r\n        this.conquer    = conquer;\r\n        this.vars       = { gameID:gameID };\r\n\r\n        this.get();\r\n    }\r\n \r\n    public async get( force?:boolean ) : Promise<any>\r\n    {\r\n        if( this.tabs && !force ) return Promise.resolve( this.tabs );\r\n        var tabsData : any = await this.conquer.do( ACTIONS.GAME_SHOPTAB_GET, this.vars );\r\n\r\n        this.tabs = {};\r\n        this.data = {};\r\n\r\n        for( let tabKey in tabsData ) this.tabs[ tabKey ] = new ShopTabInstance( this.conquer, this, tabsData[ tabKey ] );\r\n        return Promise.resolve( this.tabs );\r\n    }\r\n}\r\n\r\nexport default Shop;"," \r\nimport { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\n\r\nclass GameCurrency\r\n{\r\n    private currencyID  : any;\r\n    private conquer     : CONQUER;\r\n    public value        : number;\r\n    private gameID      : any;\r\n\r\n    constructor( conquer:CONQUER, data:any )\r\n    {\r\n        this.conquer    = conquer;\r\n        this.currencyID = data._id;\r\n        this.value      = data.value;\r\n        this.gameID     = data.gameID;\r\n    }\r\n\r\n    public async increase( amount:number ) : Promise<any>\r\n    {\r\n        let data    = await this.conquer.do( ACTIONS.GAME_CURRENCY_CHANGE, { _id:this.currencyID, increase:amount } );\r\n        this.value  = data.value;\r\n        return Promise.resolve(this);\r\n    }\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let data    = await this.conquer.do( ACTIONS.GAME_CURRENCY_GETONE, { _id:this.currencyID } );\r\n        this.value  = data.value;\r\n\r\n        return Promise.resolve( this.value );\r\n    } \r\n}\r\n\r\nexport default GameCurrency;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport GameCurrency from \"./GameCurrency\";\r\n\r\nclass GameWallet\r\n{\r\n    private conquer     : CONQUER;\r\n    private vars        : any;\r\n    public currencies   : any = {};\r\n\r\n    constructor( conquer:CONQUER, gameID:any )\r\n    {\r\n        this.conquer    = conquer;\r\n        this.vars       = { gameID:gameID };\r\n\r\n        this.get();\r\n    }\r\n\r\n    public async get( currencyName?:any ) : Promise<any>\r\n    {\r\n        if( currencyName )\r\n        {\r\n            let currencyInstance = await this.getCurrency( currencyName );\r\n            return Promise.resolve( currencyInstance );\r\n        }\r\n\r\n        let entries : any = this.conquer.do( ACTIONS.GAME_CURRENCY_GET, this.vars );\r\n\r\n        for( let n in entries ) this.setCurrency( entries[n] );\r\n\r\n        return Promise.resolve( this.currencies );\r\n    };\r\n\r\n    private setCurrency( currencyData:any )\r\n    {\r\n        this.currencies[ currencyData.name ] = new GameCurrency( this.conquer, currencyData );\r\n\r\n        return this.currencies[ currencyData.name ];\r\n    };\r\n\r\n    public async increase( currencyName:any, amount:number ) : Promise<any>\r\n    {\r\n        let currencyInstance = await this.getCurrency( currencyName );\r\n\r\n        await currencyInstance.increase( amount );\r\n\r\n        return Promise.resolve( currencyInstance );\r\n    };\r\n\r\n    public async getCurrency( currencyName:any ) : Promise<any>\r\n    {\r\n        let currencyInstance : GameCurrency = this.currencies[ currencyName ];\r\n\r\n        if( currencyInstance ) \r\n        {\r\n            await currencyInstance.get();\r\n            return Promise.resolve( currencyInstance );\r\n        }\r\n\r\n        let currencyData = await this.conquer.do( ACTIONS.GAME_CURRENCY_GETONE, { gameID:this.vars.gameID, name:currencyName } );\r\n \r\n        return Promise.resolve( this.setCurrency( currencyData ));\r\n    }\r\n \r\n}\r\n\r\nexport default GameWallet;"," \r\nimport CONQUER from \"../../CONQUER\";\r\nimport { ACTIONS } from \"../../../Models/ENUM\";\r\nimport PlayerInventory from \"./PlayerInventory\";\r\n\r\nclass InventoryItem\r\n{\r\n    private conquer         : CONQUER;\r\n    private gameID          : any;\r\n\r\n    public tabKey           : any;\r\n    public name             : any;\r\n    public selected         : boolean;\r\n    public inventoryID      : any;\r\n    public key              : string;\r\n\r\n    private inventory    :   PlayerInventory;\r\n\r\n    constructor( conquer:CONQUER, inventory:PlayerInventory, data:any )\r\n    {\r\n        this.conquer        = conquer;\r\n        this.gameID         = data.gameID; \r\n        this.name           = data.name;\r\n        this.inventoryID    = data._id;\r\n        this.selected       = data.selected;\r\n        this.tabKey         = data.tabKey;\r\n        this.key            = data.key;\r\n        this.inventory      = inventory;\r\n    }\r\n\r\n    public async set() : Promise<any> // select\r\n    {\r\n        await this.conquer.do( ACTIONS.GAME_PLAYERINVENTORY_CHANGE, { where:{ _id:this.inventoryID }, values:{ selected:true } });\r\n\r\n        this.selected = true;\r\n\r\n        this.inventory.set( this );\r\n\r\n        return Promise.resolve( this );\r\n    }\r\n\r\n    public unset()\r\n    {\r\n        if( !this.selected ) return;\r\n\r\n        this.conquer.do( ACTIONS.GAME_PLAYERINVENTORY_CHANGE, { where:{ _id:this.inventoryID }, values:{ selected:false } });\r\n\r\n        this.selected = false;\r\n\r\n        this.inventory.unset( this );\r\n    }\r\n\r\n    public remove()\r\n    {\r\n        this.conquer.do( ACTIONS.GAME_PLAYERINVENTORY_REMOVE, { _id:this.inventoryID } );\r\n\r\n        this.inventory.remove( this );\r\n    }\r\n}\r\n\r\nexport default InventoryItem;"," \r\nimport CONQUER from \"../../CONQUER\";\r\nimport { ACTIONS } from \"../../../Models/ENUM\";\r\nimport InventoryItem from \"./InventoryItem\";\r\nimport ARRAY from \"../../../UTIL/ARRAY\";\r\nimport GameInstance from \"../GameInstance\";\r\n\r\nclass PlayerInventory\r\n{\r\n    private conquer     : CONQUER;\r\n    private gameID      : any;\r\n\r\n    public pool         : any;\r\n    public tabs         : any;\r\n    public selected     : any;\r\n\r\n    private gameInstance : GameInstance;\r\n\r\n    constructor( conquer:CONQUER, gameInstance:GameInstance, gameID:any )\r\n    {\r\n        this.conquer        = conquer;\r\n        this.gameInstance   = gameInstance;\r\n        this.gameID         = gameID; \r\n\r\n        this.get();\r\n    }\r\n\r\n    public async get( force?:boolean ) : Promise<any>\r\n    {\r\n        if( this.pool && !force ) return Promise.resolve( this.pool );\r\n\r\n        let data = await this.conquer.do( ACTIONS.GAME_PLAYERINVENTORY_GET, { gameID:this.gameID } )\r\n\r\n        this.pool = [];\r\n        this.tabs = {};\r\n        this.selected = {};\r\n\r\n        for( let n in data ) this.push( data[n] );\r\n \r\n        return Promise.resolve( this.pool );\r\n    }\r\n\r\n    private push( itemData:any )\r\n    {\r\n        let item = new InventoryItem( this.conquer, this, itemData );\r\n\r\n        this.pool.push( item );\r\n\r\n        if( !this.tabs[ item.tabKey ] ) this.tabs[ item.tabKey ] = [];\r\n        this.tabs[ item.tabKey ].push( item );\r\n\r\n        if( item.selected ) this.selected[ item.tabKey ] = item;\r\n\r\n        return item;\r\n    }\r\n\r\n    public remove( inventoryItem:InventoryItem )\r\n    {\r\n        ARRAY.removeItem( this.pool, inventoryItem );\r\n        ARRAY.removeItem( this.tabs[ inventoryItem.tabKey ], inventoryItem );\r\n\r\n        this.unset( inventoryItem );\r\n    }\r\n\r\n    public set( inventoryItem:InventoryItem )\r\n    {\r\n        let current : InventoryItem = this.selected[ inventoryItem.tabKey ];\r\n\r\n        if( current && current != inventoryItem ) current.unset();\r\n        this.selected[ inventoryItem.tabKey ] = inventoryItem;\r\n    }\r\n\r\n    public unset( inventoryItem:InventoryItem )\r\n    {\r\n        if( this.selected[ inventoryItem.tabKey ] == inventoryItem ) delete this.selected[ inventoryItem.tabKey ];\r\n    }\r\n \r\n    public async buy( shopItemKey:any ) : Promise<any>\r\n    {\r\n        let itemData = await this.conquer.do( ACTIONS.GAME_PLAYERINVENTORY_BUY, { gameID:this.gameID, shopItemKey:shopItemKey });\r\n\r\n        if( !itemData ) return Promise.resolve( null );\r\n\r\n        this.gameInstance.Wallet.getCurrency( this.gameInstance.Shop.data[ shopItemKey ].currency );\r\n\r\n        return Promise.resolve( this.push( itemData ) );\r\n    }\r\n}\r\n\r\nexport default PlayerInventory;","import { ACTIONS } from \"../../Models/ENUM\";\r\nimport ARRAY from \"../../UTIL/ARRAY\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport GameInstance from \"./GameInstance\";\r\n\r\nclass DailyRewards\r\n{\r\n    private conquer         : CONQUER;\r\n    private query           : any;\r\n\r\n    constructor( conquer:CONQUER, gameID:any )\r\n    {\r\n        this.conquer        = conquer;\r\n        this.query          = { gameID:gameID };\r\n    }\r\n\r\n    public async set() : Promise<any>\r\n    {\r\n        let value               = await this.conquer.do( ACTIONS.GAME_DAILYREWARDS_SET, this.query );\r\n        return Promise.resolve( value );\r\n    }\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let value = await this.conquer.do( ACTIONS.GAME_DAILYREWARDS_GET, this.query );\r\n        return Promise.resolve( value );\r\n    }\r\n\r\n \r\n\r\n};\r\n\r\nexport default DailyRewards;","import ACCOUNT from \"../../Core/TESTS/ACCOUNT\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\nimport ARRAY from \"../../UTIL/ARRAY\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport LOG, { log } from \"../../UTIL/LOG\";\r\nimport Score from \"./Score\";\r\nimport Turns from \"./TURNS/Turns\";\r\nimport Shop from \"./SHOP/Shop\";\r\nimport GameWallet from \"./WALLET/GameWallet\";\r\nimport PlayerInventory from \"./INVENTORY/PlayerInventory\";\r\nimport DailyRewards from \"./DailyRewards\";\r\n\r\nclass GameInstance\r\n{\r\n    private conquer     : CONQUER;\r\n    public gameID       : any;\r\n    public gameKey      : any;\r\n    private Score       : Score\r\n    private Turns       : Turns;\r\n    public Shop         : Shop;\r\n    public Wallet       : GameWallet;\r\n    public Inventory    : PlayerInventory;\r\n    public DailyRewards : DailyRewards;\r\n \r\n    constructor( instance:CONQUER, vars:any )\r\n    {\r\n        this.conquer        = instance;\r\n        this.gameID         = vars._id;\r\n        this.gameKey        = vars.gameKey;\r\n\r\n        this.Score          = new Score( this.conquer, this.gameID );\r\n        this.Turns          = new Turns( this.conquer, this.gameID );\r\n\r\n        this.Shop           = new Shop( this.conquer, this.gameID );\r\n        this.Wallet         = new GameWallet( this.conquer, this.gameID );\r\n        this.Inventory      = new PlayerInventory( this.conquer, this, this.gameID );\r\n\r\n        this.DailyRewards   = new DailyRewards( this.conquer, this.gameID );\r\n \r\n    };\r\n\r\n  \r\n \r\n \r\n}\r\n\r\nexport default GameInstance;","import { ACTIONS } from \"../../Models/ENUM\";\r\nimport CONQUER from \"../CONQUER\";\r\nimport GameInstance from \"./GameInstance\";\r\n\r\nclass Games\r\n{\r\n    private conquer : CONQUER;\r\n\r\n    public constructor( instance:CONQUER ) \r\n    {\r\n        this.conquer = instance;\r\n    }\r\n \r\n    /*=============== \r\n\r\n\r\n    GET\r\n    \r\n\r\n    ================*/\r\n\r\n    public async getOne( gameKey:any ) : Promise<any>\r\n    {\r\n        let vars = await this.conquer.do( ACTIONS.GAME_GETONE, { gameKey:gameKey });\r\n        return Promise.resolve( new GameInstance( this.conquer, vars ));\r\n    };\r\n\r\n\r\n}\r\n\r\nexport default Games;","import CONQUER from \"../CONQUER\";\r\nimport LOG, { log } from \"../../UTIL/LOG\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\n\r\nclass Awesome\r\n{\r\n    private conquer     : CONQUER;\r\n    private instanceID  : any;\r\n \r\n    public constructor( instance:CONQUER, instanceID?:any ) \r\n    {\r\n        this.conquer    = instance;\r\n        this.instanceID = instanceID;\r\n    }\r\n \r\n    /*=============== \r\n \r\n    GET  \r\n    {\r\n         \r\n    }\r\n\r\n    ================*/\r\n\r\n    public async get( instanceID?:any ) : Promise<any>\r\n    {\r\n        let values : any = await this.conquer.do( ACTIONS.AWESOME_GETONE, { instanceID:instanceID || this.instanceID } );\r\n\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n    /*=============== \r\n \r\n    SET  \r\n    {\r\n        awesome : -1, 0, 1\r\n    }\r\n\r\n    ================*/\r\n\r\n    private async set( awesome:number, instanceID?:any ) : Promise<any>\r\n    {\r\n        let values : any = await this.conquer.do( ACTIONS.AWESOME_SET, { instanceID:instanceID || this.instanceID, awesome:awesome } );\r\n\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n    public async awesome( instanceID?:any ) : Promise<any>\r\n    {\r\n        return this.set( 1, instanceID );\r\n    }\r\n\r\n    public async bullshit( instanceID?:any ) : Promise<any>\r\n    {\r\n        return this.set( -1, instanceID );\r\n    }\r\n\r\n    public async remove( instanceID?:any ) : Promise<any>\r\n    {\r\n        return this.set( 0, instanceID );\r\n    }\r\n \r\n}\r\n\r\nexport default Awesome;","import CONQUER from \"../CONQUER\";\r\nimport LOG, { log } from \"../../UTIL/LOG\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\n\r\nclass Stats\r\n{\r\n    private conquer     : CONQUER;\r\n    private instanceID  : any;\r\n \r\n    public constructor( instance:CONQUER, instanceID?:any ) \r\n    {\r\n        this.conquer    = instance;\r\n        this.instanceID = instanceID;\r\n    }\r\n \r\n \r\n    public async get( instanceID?:any ) : Promise<any>\r\n    {\r\n        let values : any = await this.conquer.do( ACTIONS.STATS_GETONE, { instanceID:instanceID || this.instanceID } );\r\n\r\n        return Promise.resolve( values );\r\n    };\r\n \r\n \r\n}\r\n\r\nexport default Stats;","import CONQUER from \"../CONQUER\";\r\nimport LOG, { log } from \"../../UTIL/LOG\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\n\r\nclass Tags\r\n{\r\n    private conquer     : CONQUER;\r\n    private instanceID  : any;\r\n \r\n    public constructor( instance:CONQUER, instanceID?:any ) \r\n    {\r\n        this.conquer    = instance;\r\n        this.instanceID = instanceID;\r\n    }\r\n \r\n    /*=============== \r\n \r\n    GET  \r\n    {\r\n         \r\n    }\r\n\r\n    ================*/\r\n\r\n    public async get( instanceID?:any ) : Promise<any>\r\n    {\r\n        let values : any = await this.conquer.do( ACTIONS.TAG_ASSOCIATIONS_GET, { instanceID:instanceID || this.instanceID } );\r\n\r\n        return Promise.resolve( values );\r\n    };\r\n\r\n    /*=============== \r\n \r\n    SET  \r\n    {\r\n         \r\n    }\r\n\r\n    ================*/\r\n\r\n    public async set( instanceID:any, tags:any ) : Promise<any>\r\n    {\r\n        let values : any = await this.conquer.do( ACTIONS.TAG_ASSOCIATIONS_SET, { instanceID:instanceID, tags:tags } );\r\n\r\n        return Promise.resolve( values );\r\n    };\r\n \r\n}\r\n\r\nexport default Tags;","import CONQUER from \"../CONQUER\";\r\nimport Awesome from \"./Awesome\";\r\nimport Stats from \"./Stats\";\r\nimport Tags from \"./Tags\";\r\n\r\nclass InstanceItem\r\n{\r\n    private conquer     : CONQUER;\r\n\r\n    public Tags         : Tags;\r\n    public Awesome      : Awesome;\r\n    public Stats        : Stats\r\n    public instanceID   : any;\r\n\r\n    constructor( conquer:CONQUER, data:any )\r\n    {\r\n        this.conquer    = conquer;\r\n        this.instanceID = data._id;\r\n\r\n        this.Tags       = new Tags( conquer, this.instanceID );\r\n        this.Awesome    = new Awesome( conquer, this.instanceID );\r\n        this.Stats      = new Stats( conquer, this.instanceID );\r\n    }\r\n\r\n\r\n};\r\n\r\nexport default InstanceItem;","import CONQUER from \"../CONQUER\";\r\nimport LOG, { log } from \"../../UTIL/LOG\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\nimport InstanceItem from \"./InstanceItem\";\r\n\r\nclass Instances\r\n{\r\n    private conquer : CONQUER;\r\n \r\n    public constructor( instance:CONQUER ) \r\n    {\r\n        this.conquer = instance;\r\n    }\r\n \r\n    /*=============== \r\n \r\n    GET  \r\n    {\r\n         \r\n    }\r\n\r\n    ================*/\r\n\r\n    public async getOne( instanceID:any ) : Promise<any>\r\n    {\r\n        let data : any = await this.conquer.do( ACTIONS.INSTANCE_GETONE, { _id:instanceID } );\r\n\r\n        return Promise.resolve( new InstanceItem( this.conquer, data ) );\r\n    };\r\n\r\n \r\n \r\n}\r\n\r\nexport default Instances;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport WalletInstance from \"./WalletInstance\";\r\n\r\nclass WalletAssets\r\n{\r\n    private conquer         : CONQUER;\r\n\r\n    public constructor( conquer:CONQUER ) \r\n    {\r\n        this.conquer        = conquer;\r\n    }\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let result = await this.conquer.do( ACTIONS.WALLET_HISTORY_GET );\r\n        return Promise.resolve( result );\r\n    }\r\n}\r\n\r\nexport default WalletAssets;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport WalletInstance from \"./WalletInstance\";\r\n\r\nclass WalletHistory\r\n{\r\n    private conquer         : CONQUER;\r\n \r\n    public constructor( conquer:CONQUER ) \r\n    {\r\n        this.conquer        = conquer;\r\n    }\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let result = await this.conquer.do( ACTIONS.WALLET_HISTORY_GET );\r\n        return Promise.resolve( result );\r\n    }\r\n}\r\n\r\nexport default WalletHistory;","import { ACTIONS } from \"../../../Models/ENUM\";\r\nimport CONQUER from \"../../CONQUER\";\r\nimport WalletAssets from \"./WalletAssets\";\r\nimport WalletHistory from \"./WalletHistory\";\r\n\r\nclass WalletInstance\r\n{\r\n    private conquer     : CONQUER;\r\n \r\n    public History      : WalletHistory;\r\n    public Assets       : WalletAssets;\r\n    public address       : any;\r\n    public balance       : any;\r\n\r\n    public constructor( conquer:CONQUER, data:any ) \r\n    {\r\n        this.conquer    = conquer;\r\n        this.address     = data.address;\r\n        this.balance     = data.balance;\r\n        this.History    = new WalletHistory( conquer );\r\n        this.Assets     = new WalletAssets( conquer );\r\n    }\r\n\r\n    public async send( recipientAddress:any, amount:any ) : Promise<any>\r\n    {\r\n        let result = await this.conquer.do( ACTIONS.WALLET_SEND, { recipientAddress:recipientAddress, amount:amount } );\r\n        return Promise.resolve( result );\r\n    }\r\n}\r\n\r\nexport default WalletInstance;","import CONQUER from \"../CONQUER\";\r\nimport WalletInstance from \"./INSTANCE/WalletInstance\";\r\nimport { ACTIONS } from \"../../Models/ENUM\";\r\n\r\nclass Wallets\r\n{\r\n    private conquer     : CONQUER;\r\n\r\n    public constructor( conquer:CONQUER ) \r\n    {\r\n        this.conquer    = conquer;\r\n    }\r\n \r\n    /*=============== \r\n \r\n    GET  \r\n\r\n    ================*/\r\n\r\n    public async get() : Promise<any>\r\n    {\r\n        let res : any = await this.conquer.do( ACTIONS.WALLET_GETSET );\r\n\r\n        if(res.success) {\r\n            res.data =  new WalletInstance( this.conquer, res.data );\r\n        }\r\n        return res;\r\n    };\r\n\r\n}\r\n\r\nexport default Wallets;","/*!\n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var ua = self._navigator ? self._navigator.userAgent : '';\n      var checkOpera = ua.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n      var checkSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1;\n      var safariVersion = ua.match(/Version\\/(.*?) /);\n      var isOldSafari = (checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n          document.removeEventListener('keydown', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n      document.addEventListener('keydown', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                  } else {\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n          self._state = 'loading';\n\n          var listener = function() {\n            self._state = 'loaded';\n            \n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n\n              // If playing, restart playback to ensure looping updates.\n              if (self.playing(ids[i])) {\n                self.pause(ids[i], true);\n                self.play(ids[i], true);\n              }\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        if (self._sounds.length) {\n          id = self._sounds[0]._id;\n        }\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return 0;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n\n            self._emit('seek', id);\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, ]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n","import RANDOM from \"../../UTIL/RANDOM\";\r\nimport {Howl, Howler } from 'howler';\r\nimport Sounds from \"./Sounds\";\r\nimport ARRAY from \"../../UTIL/ARRAY\";\r\n\r\nclass SoundChannel\r\n{\r\n    private Sounds      : Sounds;\r\n    private isMulti     : boolean;\r\n    private id          : string;\r\n    private group       : string;\r\n    private current     : any;\r\n    private url         : string = \"https://supersnappy.io/artlib/audio/\";\r\n    public pool         : any = {};\r\n    private isMuted     : any = false;\r\n\r\n    private lastPlayed  : any;\r\n    private currentName : any;\r\n\r\n    constructor( Sounds:Sounds, id:string, group:string, isMulti:boolean )\r\n    {\r\n        this.Sounds     = Sounds;\r\n        this.isMulti    = isMulti;\r\n        this.id         = id;\r\n        this.group      = group;\r\n    };\r\n\r\n    public play( array:any, vars?:any )\r\n    {\r\n        if( !Array.isArray( array ) ) return this.doPlay( array, vars );\r\n\r\n        var sounds = [];\r\n\r\n        for( var n in array ) \r\n        {\r\n            sounds.push( this.doPlay( array[n], vars ) );\r\n            return sounds;\r\n        }\r\n    };\r\n \r\n    public pause()\r\n    {\r\n        this.lastPlayed = this.currentName;\r\n        self.stop();\r\n    }\r\n\r\n    public resume()\r\n    {\r\n        if( this.lastPlayed ) this.play( this.lastPlayed );\r\n    }\r\n \r\n    public stop( name?:any )\r\n    {\r\n        if( name )\r\n        {\r\n            if( this.pool[name] ) this.pool[name].stop();\r\n            if( this.currentName == name ) this.currentName = this.current = null;\r\n            return;\r\n        }\r\n\r\n        for( name in this.pool ) this.pool[ name ].stop();\r\n\r\n        this.currentName = this.current = null;\r\n    }\r\n\r\n    public loop( name:string, vars?:any )\r\n    {\r\n        vars        = vars || {};\r\n        vars.loop   = true;\r\n\r\n        return this.play( name, vars );\r\n    }\r\n\r\n    public playPitch( name:string, vars?:any )\r\n    {\r\n        vars        = vars || {};\r\n \r\n        return this.play( name, ARRAY.extract( { rate: 1.2 + RANDOM.spectrumDecimal( 0.4 ) }, vars ));\r\n    }\r\n \r\n    public playPitchSmall( name:string, vars?:any )\r\n    {\r\n        vars        = vars || {};\r\n \r\n        return this.play( name, ARRAY.extract( { rate: 1 + RANDOM.spectrumDecimal( 0.12) }, vars ));\r\n    }\r\n \r\n    public mute( bool?:boolean )\r\n    {\r\n        this.isMuted = bool;\r\n \r\n        if( !this.currentName ) return;\r\n \r\n        if( this.isMuted || this.group != \"music\" ) return;\r\n\r\n        this.doPlay( this.currentName );\r\n    }\r\n\r\n     /*============================ \r\n\r\n\r\n\r\n\r\n    PLAY, SEARCH, INDEX\r\n\r\n\r\n\r\n\r\n    =============================*/\r\n\r\n    public doPlay( label:string, vars?:any )\r\n    {\r\n        if( this.Sounds.isMuted || ( !this.isMulti && this.current == label ) ) return;\r\n \r\n        if( !this.isMulti ) this.stopCurrent();\r\n\r\n        vars            = vars || {};\r\n        this.current    = label;\r\n\r\n        vars.loop       = vars.loop || false;\r\n\r\n        if( this.id == \"voice\" ) vars.rate = 1 + RANDOM.decimal( 0.08 );\r\n\r\n        let sound : any = this.get( label, vars );\r\n\r\n        if( vars.volume ) sound.volume = vars.volume;\r\n\r\n        sound.playID = sound.play();\r\n\r\n        if( this.group == \"music\" ) this.fadeIn( sound );\r\n\r\n        return sound;\r\n    }\r\n\r\n    private get( label:string, vars:any ) : Howl\r\n    {\r\n        this.currentName = label;\r\n\r\n        if( vars.random ) this.currentName += RANDOM.value( vars.random, 1 );\r\n\r\n        let sound : Howl = this.pool[ this.currentName ];\r\n\r\n        if( sound ) return sound;\r\n\r\n        let isMusic = this.group == \"music\";\r\n \r\n        sound = this.pool[ this.currentName ] = new Howl(\r\n        {\r\n            src         : [ this.url + \"/\" + this.id + \"/\" + this.currentName + '.mp3' ],\r\n            html5       : isMusic,\r\n            loop        : isMusic || vars.loop,\r\n            autoplay    : !this.isMuted \r\n        }); \r\n \r\n        return sound;\r\n    }\r\n\r\n    private stopCurrent()\r\n    {\r\n        let sound : Howl = this.pool[ this.currentName ];\r\n        if( !sound ) return;\r\n        \r\n        if( this.group == \"music\" ) return this.fadeOut( sound );\r\n        \r\n        sound.stop();\r\n\r\n        this.currentName = this.current = null;\r\n    }\r\n \r\n    private fadeIn( sound:any )\r\n    {\r\n        sound.fade(1, 0, 1000, sound.playID );\r\n    }\r\n\r\n    private fadeOut( sound:any )\r\n    {\r\n        sound.fade(0, 1, 1000, sound.playID );\r\n    }\r\n}\r\n\r\nexport default SoundChannel;","\r\nimport SoundChannel from './SoundChannel';\r\nimport { Howler, Howl } from 'howler';\r\n\r\nclass Sounds\r\n{\r\n   // const {Howl, Howler} = require('howler');\r\n\r\n   public SFX       : SoundChannel;\r\n   public Voice     : SoundChannel;\r\n   public Music     : SoundChannel;\r\n   public Ambiance  : SoundChannel;\r\n\r\n   private channels : any = {};\r\n\r\n   public isMuted   : boolean = false;\r\n \r\n   constructor()\r\n   {\r\n        this.SFX        = this.addChannel( \"sfx\", \"sound\", true );\r\n        this.Voice      = this.addChannel( \"voice\", \"sound\", true );\r\n        this.Music      = this.addChannel( \"music\", \"music\", false );\r\n        this.Ambiance   = this.addChannel( \"amb\", \"music\", false );\r\n   };\r\n\r\n   private addChannel( id:any, b:any, c:any )\r\n   {\r\n        let channel : SoundChannel = this.channels[ id ] = new SoundChannel( this, id, b, c );\r\n        return channel;\r\n   };\r\n\r\n   public setVolume( vol:number )\r\n   {\r\n        Howler.volume( vol );\r\n   }\r\n\r\n   public mute()\r\n   {\r\n        Howler.mute( true );\r\n   }\r\n\r\n   public unmute()\r\n   {\r\n        Howler.mute( false );\r\n   }\r\n \r\n}\r\n\r\nexport default Sounds;\r\n\r\n","import Socket from \"./SOCKET/Socket\";\r\nimport LOG, { log } from \"../UTIL/LOG\";\r\n\r\nimport Auth from \"./USER/Auth\";\r\nimport User from \"./USER/User\";\r\nimport Files from \"./FILE/Files\"; \r\nimport WebAuth from \"./USER/WebAuth\";\r\nimport Storage from \"./UTILS/Storage\";\r\n\r\nimport Friends from \"./FRIENDS/Friends\";\r\nimport Rooms from \"./ROOMS/Rooms\";\r\nimport Analytics from \"./ANALYTICS/Analytics\";\r\nimport Followers from \"./FOLLOWERS/Followers\";\r\nimport Games from \"./GAMES/Games\";\r\nimport Tags from \"./ITEM/Tags\";\r\nimport Instances from \"./ITEM/Instances\";\r\nimport Wallets from \"./WALLET/Wallets\";\r\nimport Sounds from \"./AUDIO/Sounds\";\r\n\r\nclass CONQUER \r\n{\r\n    public initialized  : boolean = false;\r\n \r\n    public Storage      : Storage;\r\n    public Auth         : Auth;\r\n    public User?         : User;\r\n    public WebAuth      : WebAuth;\r\n    public Files        : Files;\r\n    public Friends      : Friends;\r\n    public Rooms        : Rooms;\r\n    public Analytics    : Analytics;\r\n    public Followers    : Followers;\r\n    public Games        : Games;\r\n    public Wallets      : Wallets;\r\n    public Sounds       : Sounds;\r\n\r\n    public Instances    : Instances;\r\n \r\n    private Socket      : Socket;\r\n \r\n    public constructor( user?:User )\r\n    {\r\n        this.User       = user;\r\n        this.Storage    = new Storage( this );\r\n        this.Friends    = new Friends( this );\r\n        this.Auth       = new Auth( this );\r\n        this.WebAuth    = new WebAuth( this );\r\n        this.Files      = new Files( this );\r\n        this.Rooms      = new Rooms( this );\r\n        this.Socket     = new Socket( this );\r\n        this.Analytics  = new Analytics(this);\r\n        this.Followers  = new Followers( this );\r\n        this.Games      = new Games( this );\r\n        this.Instances  = new Instances( this );\r\n        this.Wallets    = new Wallets( this );\r\n        this.Sounds     = new Sounds();\r\n    };\r\n\r\n    public async init (): Promise<void> \r\n    {\r\n\r\n        // console.log('conquer initializing...');\r\n\r\n        await this.Storage.init();\r\n        await this.WebAuth.init();\r\n        await this.Socket.init();\r\n        await this.Auth.init();\r\n        \r\n        this.initialized = true;\r\n\r\n        console.log('conquer initialized!');\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    public async do( action:any, data?:any ): Promise<any> \r\n    {\r\n        return this.Socket.do( action, data );\r\n    }\r\n\r\n    public send( action:any, roomID:any, data:any ) \r\n    {\r\n        return this.Socket.send( action, roomID, data );\r\n    }\r\n}\r\n\r\nexport default CONQUER;\r\n\r\nlet w;\r\nif (typeof (window) !== 'undefined') {\r\n    w = window;\r\n}\r\nexport const _global = (w /* browser */ || global /* node */) as any\r\n_global.CONQUER = CONQUER; \r\n"],"names":["$anna2","parcelRequire","STRING","static","text","string","toLowerCase","indexOf","split","number","msg","str","charAt","substr","length","char","repeat","r","i","email","match","input","prefix","substring","separator","output","suffix","divider","array","doReplace","n","default","tryParseInt","srch","replaceWith","join","minLength","replace","target","lastIndexOf","txt","keywords","keys","name","chars","valid","c","z","max","push","zeros","append","num","interval","value","sign","isNeg","formatted","commas","Math","abs","round","isInt","parseInt","asObject","isNumber","unitname","unit","floor","toFixed","eval","capitalize","units","object","s","toUpperCase","slice","json","JSON","stringify","err","$7ni3N","log","Length","result","alphabetLength","ALPHABET","random","STRING1","unitsLarge","$a873c193637bc97e$export$2e2bcd8739ae039","$gaNNd","$197e9dc0f382e405$var$MATH","pointA","_pointB","pointB","x","y","dx","dy","sqrt","dz","min","incremental","h","cos","sin","radius","radians","value1","value2","amount","hardLimit","value3","factors","factor","clamp","toString","int","parsed","isNaN","first","zeroes","container","lookat","radiansToDegree","atan2","A","B","degree","radian","from","to","iso","normal","lx1","ly1","lx2","ly2","px","py","oy","ox","det","C1","C2","a","b","aura","aMin","aMax","bMin","bMax","cMin","cMax","dMin","dMax","closest","undefined","distance","point","dist","hipotenusa","decimals","times","points","left","right","top","bottom","center","getMiddlePoint","$acdd7cf2a209a370$export$2e2bcd8739ae039","constructor","this","$bf24c8a44afd68aa$export$2e2bcd8739ae039","$21fd67fcd33d714d$var$LOG","Map","e","myError","pool","get","set","Error","args","console","$21fd67fcd33d714d$export$bef1f36f5486a6a3","error","$7bf7ff34ad415631$export$c169aefb7330cccb","Object","create","$7bf7ff34ad415631$export$47791e8004edd485","forEach","key","$7bf7ff34ad415631$export$c718b5840781f8a7","type","data","$561487b8227635b6$var$withNativeBlob","Blob","prototype","call","$561487b8227635b6$var$withNativeArrayBuffer","ArrayBuffer","$561487b8227635b6$var$isView","obj","isView","buffer","$561487b8227635b6$var$encodePacket","supportsBinary","callback","$561487b8227635b6$var$encodeBlobAsBase64","fileReader","FileReader","onload","content","readAsDataURL","$561487b8227635b6$export$2e2bcd8739ae039","$884a652736e4e341$var$chars","$884a652736e4e341$var$lookup","Uint8Array","charCodeAt","$884a652736e4e341$export$c564cdbbe6da493","arraybuffer","i1","bytes","len","base64","$884a652736e4e341$export$2f872c0f2117be69","i2","encoded1","encoded2","encoded3","encoded4","bufferLength","p","$7c79ed06fd95f9ff$var$withNativeArrayBuffer","$7c79ed06fd95f9ff$var$decodePacket","encodedPacket","binaryType","$7c79ed06fd95f9ff$var$mapBinary","$7c79ed06fd95f9ff$var$decodeBase64Packet","decoded","$7c79ed06fd95f9ff$export$2e2bcd8739ae039","$4dc1a5a6e008a7e7$var$SEPARATOR","String","fromCharCode","$4dc1a5a6e008a7e7$export$144d64fe58dad441","packets","encodedPackets","Array","count","packet","$4dc1a5a6e008a7e7$export$d10cc2e7f7566a2d","encodedPayload","decodedPacket","$4dc1a5a6e008a7e7$export$a51d6b395ff4c65a","$457c1af18044583a$export$4293555f241ae35a","$457c1af18044583a$var$mixin","on","addEventListener","event","fn","_callbacks","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","cb","callbacks","splice","emit","emitReserved","listeners","hasListeners","$24ed6d94f3b59450$export$394f9358f6231289","self","window","Function","$fcbdbaa3cd961e27$export$357523c63a2253b9","attr","reduce","acc","k","hasOwnProperty","$fcbdbaa3cd961e27$var$NATIVE_SET_TIMEOUT","setTimeout","$fcbdbaa3cd961e27$var$NATIVE_CLEAR_TIMEOUT","clearTimeout","$fcbdbaa3cd961e27$export$2f67576668b97183","opts","useNativeTimers","setTimeoutFn","bind","clearTimeoutFn","$fcbdbaa3cd961e27$var$BASE64_OVERHEAD","$fcbdbaa3cd961e27$export$a48f0734ac7c2329","$fcbdbaa3cd961e27$var$utf8Length","ceil","byteLength","size","l","$970e2439289df85f$var$TransportError","reason","description","context","super","$970e2439289df85f$export$86495b081fef8e52","writable","query","readyState","socket","onError","open","doOpen","close","doClose","onClose","send","write","onOpen","onData","onPacket","details","$b0be4220a43aac53$var$alphabet","$b0be4220a43aac53$var$length","$b0be4220a43aac53$var$map","$b0be4220a43aac53$var$seed","$b0be4220a43aac53$var$i","$b0be4220a43aac53$var$prev","$b0be4220a43aac53$export$c564cdbbe6da493","encoded","$b0be4220a43aac53$export$2f872c0f2117be69","$b0be4220a43aac53$export$5bb64b92cb4135a","now","Date","$204e8548e3057537$export$c564cdbbe6da493","encodeURIComponent","$204e8548e3057537$export$2f872c0f2117be69","qs","qry","pairs","pair","decodeURIComponent","$d1e121273de60dfc$var$value","XMLHttpRequest","$d1e121273de60dfc$export$5235bbd4a1ef06e","$0e9540b6c40bc56b$export$a2d42eb087c10497","xdomain","concat","e1","$f00a2be7170d46e1$var$empty","$f00a2be7170d46e1$var$hasXHR2","responseType","$f00a2be7170d46e1$export$265ee5eefd4c309b","polling","location","isSSL","protocol","port","xd","hostname","xs","secure","forceBase64","poll","pause","onPause","total","doPoll","doWrite","uri","schema","timestampRequests","timestampParam","sid","b64","Number","encodedQuery","path","request","assign","$f00a2be7170d46e1$export$7fa6c5b6f8193917","req","method","xhrStatus","pollXhr","async","xscheme","xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","e2","withCredentials","requestTimeout","timeout","onreadystatechange","status","onLoad","document","index","requestsCount","requests","cleanup","fromError","abort","responseText","attachEvent","$f00a2be7170d46e1$var$unloadHandler","terminationEvent","$cef15c53d6c0c24e$export$bdd553fddd433dcb","Promise","resolve","then","$cef15c53d6c0c24e$export$3909fb301d3dc8c9","WebSocket","MozWebSocket","$cef15c53d6c0c24e$export$3407ba5dfb7a683d","$cef15c53d6c0c24e$export$790dcbc41e2d75d5","$0934e0939605d48c$export$a143d493d941bafc","$0934e0939605d48c$export$e4cf37d7f6fb9e0a","$0934e0939605d48c$export$f99ded8fe4b79145","$0934e0939605d48c$export$599f31c3813fae4d","$8a0a73e6b73fd0c4$export$a48f0734ac7c2329","$8a0a73e6b73fd0c4$export$d622b2ad8d90c771","$8a0a73e6b73fd0c4$export$6100ba28696e12de","$8a0a73e6b73fd0c4$var$byteLength","$8a0a73e6b73fd0c4$var$toByteArray","$8a0a73e6b73fd0c4$var$fromByteArray","$8a0a73e6b73fd0c4$var$lookup","$8a0a73e6b73fd0c4$var$revLookup","$8a0a73e6b73fd0c4$var$Arr","$8a0a73e6b73fd0c4$var$code","$8a0a73e6b73fd0c4$var$i","$8a0a73e6b73fd0c4$var$len","$998eb38f4d082829$export$aafa59e2e03f2942","$998eb38f4d082829$export$68d8715fc104d294","$8a0a73e6b73fd0c4$var$getLens","len1","validLen","lens","placeHoldersLen","$8a0a73e6b73fd0c4$var$_byteLength","tmp","arr","curByte","len2","$8a0a73e6b73fd0c4$var$tripletToBase64","$8a0a73e6b73fd0c4$var$encodeChunk","uint8","start","end","len3","extraBytes","parts","maxChunkLength","i3","offset","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","NaN","Infinity","pow","rt","LN2","$0934e0939605d48c$var$customInspectSymbol","Symbol","$0934e0939605d48c$var$Buffer","$0934e0939605d48c$var$SlowBuffer","$0934e0939605d48c$var$K_MAX_LENGTH","$0934e0939605d48c$var$typedArraySupport","proto","foo","setPrototypeOf","$0934e0939605d48c$var$createBuffer","RangeError","buf","arg","encodingOrOffset","TypeError","$0934e0939605d48c$var$allocUnsafe","$0934e0939605d48c$var$from","$0934e0939605d48c$var$fromString","$0934e0939605d48c$var$fromArrayView","$0934e0939605d48c$var$isInstance","$0934e0939605d48c$var$fromArrayBuffer","SharedArrayBuffer","valueOf","$0934e0939605d48c$var$fromObject","toPrimitive","$0934e0939605d48c$var$assertSize","$0934e0939605d48c$var$alloc","fill","encoding","$0934e0939605d48c$var$checked","isEncoding","$0934e0939605d48c$var$byteLength","actual","$0934e0939605d48c$var$fromArrayLike","arrayView","copy","byteOffset","isBuffer","$0934e0939605d48c$var$numberIsNaN","isArray","alloc","mustMatch","loweredCase","$0934e0939605d48c$var$utf8ToBytes","$0934e0939605d48c$var$base64ToBytes","$0934e0939605d48c$var$slowToString","$0934e0939605d48c$var$hexSlice","$0934e0939605d48c$var$utf8Slice","$0934e0939605d48c$var$asciiSlice","$0934e0939605d48c$var$latin1Slice","$0934e0939605d48c$var$base64Slice","$0934e0939605d48c$var$utf16leSlice","$0934e0939605d48c$var$swap","$0934e0939605d48c$var$bidirectionalIndexOf","val","dir","$0934e0939605d48c$var$arrayIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","$0934e0939605d48c$var$hexWrite","remaining","strLen","$0934e0939605d48c$var$utf8Write","$0934e0939605d48c$var$blitBuffer","$0934e0939605d48c$var$asciiWrite","$0934e0939605d48c$var$asciiToBytes","$0934e0939605d48c$var$base64Write","$0934e0939605d48c$var$ucs2Write","$0934e0939605d48c$var$utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","$0934e0939605d48c$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","defineProperty","enumerable","poolSize","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","$0934e0939605d48c$var$MAX_ARGUMENTS_LENGTH","codePoints","ret","out","$0934e0939605d48c$var$hexSliceLookupTable","$0934e0939605d48c$var$checkOffset","ext","$0934e0939605d48c$var$checkInt","$0934e0939605d48c$var$checkIEEE754","$0934e0939605d48c$var$writeFloat","littleEndian","noAssert","$0934e0939605d48c$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","byteLength1","mul","readUintBE","readUIntBE","byteLength2","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","byteLength3","readIntBE","byteLength4","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","byteLength5","writeUintBE","writeUIntBE","byteLength6","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","byteLength7","limit","sub","writeIntBE","byteLength8","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","$0934e0939605d48c$var$INVALID_BASE64_RE","$0934e0939605d48c$var$base64clean","leadSurrogate","byteArray","hi","lo","src","dst","alphabet","table","i16","$1c4b86cb67229007$var$isReactNative","navigator","product","$1c4b86cb67229007$export$911baa0677ac404c","check","protocols","headers","ws","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","onmessage","ev","onerror","lastPacket","options","compress","perMessageDeflate","$1c4b86cb67229007$require$Buffer","threshold","$1e8fdbaba1cca440$export$46dec00755c1153b","websocket","$278b35c341751f73$var$re","$278b35c341751f73$var$parts","$278b35c341751f73$export$98e6a39c04603d36","exec","source","host","authority","ipv6uri","pathNames","$278b35c341751f73$var$pathNames","queryKey","$278b35c341751f73$var$queryKey","names","$0","$1","$2","$e4147e052f16e9bd$export$4798917dbf149b79","transports","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","transportOptions","closeOnBeforeunload","id","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","offlineEventListener","createTransport","EIO","priorWebsocketSuccess","shift","setTransport","onDrain","probe","failed","onTransportOpen","upgrading","flush","freezeTransport","onTransportClose","onupgrade","onHandshake","parse","resetPingTimeout","sendPacket","filterUpgrades","maxPayload","getWritablePackets","payloadSize","cleanupAndClose","waitForUpgrade","filteredUpgrades","$9bfa9dc3bdf2a3df$export$a51d6b395ff4c65a","$19b9ebf5d418a7eb$export$128fa18b7194ef","loc","test","href","$4bfe381efbd0d494$var$withNativeArrayBuffer","$4bfe381efbd0d494$var$isView","$4bfe381efbd0d494$var$toString","$4bfe381efbd0d494$var$withNativeBlob","$4bfe381efbd0d494$var$withNativeFile","File","$4bfe381efbd0d494$export$37488ff1135b1696","$4bfe381efbd0d494$export$5234c529abdb5610","$798acd082c6e7ad6$export$ac2edb9eb7af56f6","buffers","packetData","pack","$798acd082c6e7ad6$var$_deconstructPacket","attachments","placeholder","_placeholder","newData","$798acd082c6e7ad6$export$a00da3b1ec037a04","$798acd082c6e7ad6$var$_reconstructPacket","$eaa79ec473e4f1ff$export$a51d6b395ff4c65a","$eaa79ec473e4f1ff$export$84d4095e16c6fc19","PacketType1","$eaa79ec473e4f1ff$export$a50aceb0e02a00aa","replacer","encode","EVENT","ACK","encodeAsString","BINARY_EVENT","BINARY_ACK","encodeAsBinary","nsp","deconstruction","unshift","$eaa79ec473e4f1ff$export$f9de6ca0bc043724","reviver","add","reconstructor","decodeString","$eaa79ec473e4f1ff$var$BinaryReconstructor","takeBinaryData","next","payload","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","destroy","finishedReconstruction","reconPack","binData","$e5ed0f2d13e2ffa5$export$af631764ddc44097","$365f59c6fb02b648$var$RESERVED_EVENTS","freeze","connect","connect_error","disconnect","disconnecting","newListener","$365f59c6fb02b648$export$4798917dbf149b79","io","connected","receiveBuffer","sendBuffer","ids","acks","flags","auth","_autoConnect","disconnected","subEvents","subs","onpacket","active","_readyState","ack","pop","_registerAckCallback","isTransportWritable","engine","volatile","notifyOutgoingListeners","timer","_packet","onconnect","onevent","onack","ondisconnect","message","emitEvent","_anyListeners","listener","sent","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","$0a06b747f4081c6f$export$2d38012449449c89","ms","jitter","attempts","duration","rand","deviation","reset","setMin","setMax","setJitter","$84cdc7ed694072f2$export$d0d38e7dec7a1a61","_a","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","$eaa79ec473e4f1ff$exports","encoder","Encoder","decoder","Decoder","autoConnect","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","skipReconnect","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","delay","onreconnect","attempt","$74cfaa375dcbd11d$var$cache","$74cfaa375dcbd11d$export$841407ceb083bd74","sameNamespace","forceNew","multiplex","$d3c1734dacb01657$var$process","$d3c1734dacb01657$exports","$d3c1734dacb01657$var$cachedSetTimeout","$d3c1734dacb01657$var$cachedClearTimeout","$d3c1734dacb01657$var$defaultSetTimout","$d3c1734dacb01657$var$defaultClearTimeout","$d3c1734dacb01657$var$runTimeout","fun","$d3c1734dacb01657$var$runClearTimeout","marker","$d3c1734dacb01657$var$queue","$d3c1734dacb01657$var$draining","$d3c1734dacb01657$var$currentQueue","$d3c1734dacb01657$var$queueIndex","$d3c1734dacb01657$var$cleanUpNextTick","$d3c1734dacb01657$var$drainQueue","run","$d3c1734dacb01657$var$Item","$d3c1734dacb01657$var$noop","nextTick","title","browser","env","argv","version","versions","addListener","prependListener","prependOnceListener","binding","cwd","chdir","umask","$a7629ff39e921c85$var$assertPath","$a7629ff39e921c85$var$normalizeStringPosix","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","$a7629ff39e921c85$var$_format","sep","pathObject","root","base","$a7629ff39e921c85$var$posix","resolvedPath","resolvedAbsolute","normalize","isAbsolute","trailingSeparator","joined","relative","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","_makeLong","dirname","hasRoot","matchedSlash","basename","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","delimiter","win32","posix","$4ba7fcaf59ab3515$export$edf525f30916fbb8","$4ba7fcaf59ab3515$export$640106f6dc7d2706","$4ba7fcaf59ab3515$export$3ea386628068cf62","$4ba7fcaf59ab3515$export$749d472264fad440","$4ba7fcaf59ab3515$export$8b931a48d9488767","$4ba7fcaf59ab3515$export$9123f37609399513","$4ba7fcaf59ab3515$export$9b60beb643db4d69","$4ba7fcaf59ab3515$export$bf9fb029d174d554","$4ba7fcaf59ab3515$export$23d3fad09dc44362","$4ba7fcaf59ab3515$export$d2f3c2f7e0c7dcf5","$4ba7fcaf59ab3515$export$3bf7c33313eba0fe","$4ba7fcaf59ab3515$export$7925d89f138dad5b","$4ba7fcaf59ab3515$export$722a64dea1b767dc","$4ba7fcaf59ab3515$export$9e6c06a7d47f9af7","$4ba7fcaf59ab3515$export$6b76988456c0292f","$4ba7fcaf59ab3515$export$266d3b9babd1fc45","$4ba7fcaf59ab3515$export$c1d46b5ea6262c0b","$a7629ff39e921c85$exports","MAX_VALUE","appVersion","$3b468a28bc3142af$var$LINE","$3b468a28bc3142af$var$parse","lines","maybeQuote","$3b468a28bc3142af$var$_log","$3b468a28bc3142af$var$_resolveHome","envPath","$3b468a28bc3142af$var$config","dotenvPath","debug","Boolean","override","$3b468a28bc3142af$var$DotenvModule","$b364f2cd2faf3e98$exports","readFileSync","$3b468a28bc3142af$exports","config","$b2cf3c60ec4a8e75$var$CONFIG","vars","_vars","MainConfig","url","useSsl","$parcel$interopDefault","corePort","coreFullUrl","GetFullUrl","publicPort","publicFullUrl","coreSocketPort","publicSocketPort","publicSocketFullUrl","VERSION","ENVIRONMENT","parseEnvironment","EXPRESS_SECRET","MONGODB_HOST","MONGODB_PORT","MONGODB_DB","MONGODB_USER","MONGODB_PASS","MONGODB_CERT","CLOUDINARY_NAME","CLOUDINARY_KEY","CLOUDINARY_SECRET","CORE_SOCKET_PORT","PUBLIC_SOCKET_FULL_URL","CORE_PORT","CORE_FULL_URL","PUBLIC_FULL_URL","NAKAMA_PORT","NAKAMA_HOST","NAKAMA_HTTP_KEY","NAKAMA_SERVER_KEY","NAKAMA_USE_SSL","TWITTER_CLIENT_ID","TWITTER_CALLBACK_URL","$b2cf3c60ec4a8e75$export$e2b0d884f225a4fa","TWITTER_CLIENT_SECRET","DISCORD_CLIENT_ID","DISCORD_CALLBACK_URL","$b2cf3c60ec4a8e75$export$7cae1e0073415aca","DISCORD_CLIENT_SECRET","SNAPCHAT_CLIENT_ID","SNAPCHAT_CALLBACK_URL","$b2cf3c60ec4a8e75$export$8def640a6f3f44da","SNAPCHAT_CLIENT_SECRET","GOOGLE_CLIENT_ID","GOOGLE_CALLBACK_URL","$b2cf3c60ec4a8e75$export$f813edb9fbd30319","GOOGLE_CLIENT_SECRET","VERIFY_EMAIL_SENDER","VERIFY_EMAIL_PASSWORD","CONFIG1","$b2cf3c60ec4a8e75$export$2e2bcd8739ae039","$b2cf3c60ec4a8e75$export$eb358ce4b496240c","$b2cf3c60ec4a8e75$export$4bece828587e068f","$b2cf3c60ec4a8e75$export$6345b73836ca7e1a","$b2cf3c60ec4a8e75$export$bdb77b59220be0c6","$b2cf3c60ec4a8e75$export$55841b1593cede73","$b2cf3c60ec4a8e75$export$1441d32b022b1654","$b2cf3c60ec4a8e75$export$f2327b5fd87a6707","$b2cf3c60ec4a8e75$export$3152e8668a2caa6c","$b2cf3c60ec4a8e75$export$7b13c61120c28603","$b2cf3c60ec4a8e75$export$295e28c1fd574054","$b2cf3c60ec4a8e75$export$8095c826583b59d5","$b2cf3c60ec4a8e75$export$ca874d529269c698","$b2cf3c60ec4a8e75$export$a03c43dc0913adf","$b2cf3c60ec4a8e75$export$4a8b657cc4fb4c7f","$b2cf3c60ec4a8e75$export$a66b4562bcaa3c8a","$b2cf3c60ec4a8e75$export$c5d63bf68ef129c6","$b2cf3c60ec4a8e75$export$20abc4f6c15827a9","$b2cf3c60ec4a8e75$export$70482b98625e264b","$b2cf3c60ec4a8e75$export$24b86f67501c6cd9","$b2cf3c60ec4a8e75$export$2155fb4a502cdb26","$b2cf3c60ec4a8e75$export$1a68598754cbc74c","$lF50n","$89599b6aa81d72e5$var$DATE","getNow","getTime","getHours","getMinutes","getSeconds","getMilliseconds","timestamp","millisecondsFrom","fractionHoursFrom","thedate","getFullYear","getMonth","getDate","millisecs","seconds","days","hours","minutes","fillZero","secs","milliseconds","millisecondsToSeconds","$89599b6aa81d72e5$export$2e2bcd8739ae039","$f9f9f9aadf360f95$var$TimerInstance","isPlaying","percent","vars1","autoStart","elapsed","startTime","isPaused","intervalID","onTimeUp","onUpdate","onReach","stop","update","restart","_startTime","setInterval","increase","resume","clearInterval","setDuration","$f9f9f9aadf360f95$export$2e2bcd8739ae039","$0b406ca310561ddc$var$Socket","instance","conquer","socketHost","socketPort","socketUseSSL","socketProtocol","socketPortFinal","socketURL","messagesCue","sendTimer","doSend","Rooms","_onServerMessage","action","roomID","$0b406ca310561ddc$export$2e2bcd8739ae039","$b9fcfcb7edd2686d$export$92a1a3b7554e9387","ACTIONS1","$b9fcfcb7edd2686d$export$e50006273435e7d4","STATUS1","$26839dcbb308b805$var$Auth","User","token","params","do","AUTH_SET","reject","FB","logout","response","Storage","removeAccount","parameter","AUTH_GET","setAccount","Analytics","onEntryPoint","$26839dcbb308b805$export$2e2bcd8739ae039","$d0e53b258fb3b4b7$var$Files","FILE_SET","FILE_GET","download","dlink","createElement","origin","onclick","click","$d0e53b258fb3b4b7$export$2e2bcd8739ae039","$1eb1c9f6cca9e19f$var$WebAuth","facebookAppId","authLinks","authLinkResponse1","authLinksUrl","URL","fetch","body","authLinkResponse","catch","twitter","discord","google","snapchat","ethereum","address1","accounts","address","redirectParams","username","wallet","searchParams","map","success","account","alert","facebook","facebookScript","defer","init","appId","autoLogAppEvents","xfbml","AppEvents","logPageView","appendChild","authResponse","getLoginStatus","loginStatus","login","loginResponse","scope","fields","userInfo","api","apiResponse1","apiResponse2","summary","total_count","firstName","avatarID","SOCIAL_TWITTER_SHARE","ui","quote","$1eb1c9f6cca9e19f$export$2e2bcd8739ae039","$da3f13e2148efa89$var$RANDOM","avoid","probability","chance","decimal","$da3f13e2148efa89$export$2e2bcd8739ae039","$ac537a280c9ee32e$var$User","User1","Fields","$ac537a280c9ee32e$export$2e2bcd8739ae039","$8654058f4c172f73$var$Storage","loadAccount","parseUrlSearchParams","localStorage","getItem","generateUsername","originalParams","originalSearchParams","originalUrl","history","pushState","removeItem","setItem","$f1d6bb1224bf7b58$var$ARRAY","_output","_attributes","varName","from1","doGetFields","n1","item","field","clone","andRemove","andAvoid","getRandomItem","items","property","sort","refArray","firstToLast","reverse","label","containsStrict","perpage","page","grid","newGrid","rowLength","rotate","side","line","attribute","andReverse","halve","halve2","shuffle","increment","position","$f1d6bb1224bf7b58$export$4950aa0f605343fb","merge","$f1d6bb1224bf7b58$export$f9380c9a627682d3","extract","$f1d6bb1224bf7b58$export$4cbf152802aa238","$f1d6bb1224bf7b58$export$43bee75e5e14138e","$f1d6bb1224bf7b58$export$e91d9f829d98c173","pushUnique","$f1d6bb1224bf7b58$export$127d9dc446d2951b","$f1d6bb1224bf7b58$export$fe2d9b4e03920b4c","$f1d6bb1224bf7b58$export$448332262467e042","$f1d6bb1224bf7b58$export$784d13d8ee351f07","$f1d6bb1224bf7b58$export$97db5808d8f88186","$f1d6bb1224bf7b58$export$2e2bcd8739ae039","$c0fd389be7365565$var$FriendInstance","userPhoto","membershipID","role","membership","FRIENDS_CHANGE","Friends","remove","FRIENDS_REMOVE","$c0fd389be7365565$export$2e2bcd8739ae039","$d481d453fce0c903$var$Friends","force","FRIENDS_GET","$986fe2f4dac2ef3c$var$Entries","roomInstance","values","ROOM_ENTRIES_GET","entry","ROOM_ENTRIES_CHANGE","ROOM_ENTRIES_REMOVE","$986fe2f4dac2ef3c$export$2e2bcd8739ae039","$b4c85dce148d8396$var$RoomInstance","onMessage","_id","$c3b6d9373bbfe1ea$var$Rooms","ROOM_GET","room","$b4c85dce148d8396$export$2e2bcd8739ae039","avatarIDs","ROOM_GETONE","$cee722f2ad4d5b08$var$Analytics","ANALYTICS_GET","ANALYTICS_SET","onTrackBuildVersion","onShopOpen","onShopPurchase","onStartGame","onPreloadEnd","onTutorialStart","onTutorialStage","onTutorialComplete","noAds","onPostTournament","onSpectate","onPlay","onPlayRewarded","onGameOver","onGameExit","onStartLevel","onLevelEnded","onTryAgain","onAdFailed","onRevive","onPlayWithFriend","onJoinTournament","onInvite","onPlayWithRandom","onMatchStart","onMatchEnd","onShopEnter","onShopExit","onPurchase","onGift","onAdRequest","onAdImpression","onAdComplete","onAdError","onShare","onUI","onUIOut","onButton","onDie","onContinue","$cee722f2ad4d5b08$export$2e2bcd8739ae039","$d8a60ead5776f2b7$var$FollowerInstance","FOLLOWERS_REMOVE","Followers","$d8a60ead5776f2b7$export$2e2bcd8739ae039","$ef2387713ba36287$var$Followers","FOLLOWERS_GET","$5ed744736fae850b$var$Score","gameID","score","tournamentID","GAMESCORE_SET","GAMESCORE_GET","GAMESCORE_GETALLTIME","GAMESCORE_GETTODAY","GAMESCORE_GETFRIENDSALLTIME","GAMESCORE_GETFRIENDSTODAY","$5ed744736fae850b$export$2e2bcd8739ae039","$dfcb27a630fa7341$var$TurnsInstance","maxTurns","turnID","turnData","viewedResults","finished","currentTurn","GAMETURN_GETONE","finishTurn","finishGame","viewResults","GAMETURN_CHANGE","$dfcb27a630fa7341$export$2e2bcd8739ae039","$e11ea7524936e53d$var$Turns","friendID","GAMETURN_SET","GAMETURN_GET","$e11ea7524936e53d$export$2e2bcd8739ae039","$52efd64c8e7a8b03$var$ShopItem","price","tabKey","currency","ad","metadata","$52efd64c8e7a8b03$export$2e2bcd8739ae039","$61d3dce2cb603693$var$ShopTabInstance","shop","shopItem","$61d3dce2cb603693$export$2e2bcd8739ae039","$d1720060d3d41829$var$Shop","tabs","tabsData","GAME_SHOPTAB_GET","$d1720060d3d41829$export$2e2bcd8739ae039","$d321e1c41929ca31$var$GameCurrency","currencyID","GAME_CURRENCY_CHANGE","GAME_CURRENCY_GETONE","$d321e1c41929ca31$export$2e2bcd8739ae039","$bdbee42142cd9a17$var$GameWallet","currencies","currencyName","currencyInstance","getCurrency","entries","GAME_CURRENCY_GET","setCurrency","currencyData","$bdbee42142cd9a17$export$2e2bcd8739ae039","$aa9df5ef1a4dd491$var$InventoryItem","inventory","inventoryID","selected","GAME_PLAYERINVENTORY_CHANGE","where","unset","GAME_PLAYERINVENTORY_REMOVE","$aa9df5ef1a4dd491$export$2e2bcd8739ae039","$966a3b3df07c069e$var$PlayerInventory","gameInstance","GAME_PLAYERINVENTORY_GET","itemData","inventoryItem","current","shopItemKey","GAME_PLAYERINVENTORY_BUY","Wallet","Shop","$966a3b3df07c069e$export$2e2bcd8739ae039","$4776d25eea59746c$var$DailyRewards","GAME_DAILYREWARDS_SET","GAME_DAILYREWARDS_GET","$4776d25eea59746c$export$2e2bcd8739ae039","$360c6e21940846fd$var$GameInstance","gameKey","Score","Turns","Inventory","DailyRewards","$360c6e21940846fd$export$2e2bcd8739ae039","$72c986500980722c$var$Games","GAME_GETONE","$1ced6e6ffd8227f1$var$Awesome","instanceID","AWESOME_GETONE","awesome","AWESOME_SET","$2a341f09af1a7ece$var$Stats","STATS_GETONE","$2a341f09af1a7ece$export$2e2bcd8739ae039","$0b0d0fc0ca6940c5$var$Tags","TAG_ASSOCIATIONS_GET","$76ea6e874d19d4fc$var$InstanceItem","Tags","$0b0d0fc0ca6940c5$export$2e2bcd8739ae039","Awesome","$1ced6e6ffd8227f1$export$2e2bcd8739ae039","Stats","$76ea6e874d19d4fc$export$2e2bcd8739ae039","$a727fff056b3dc3d$var$Instances","$fef6cdb5e387b47a$var$WalletAssets","WALLET_HISTORY_GET","$fef6cdb5e387b47a$export$2e2bcd8739ae039","$69644d8a279d4c31$var$WalletHistory","$69644d8a279d4c31$export$2e2bcd8739ae039","$74fff477ea4a614f$var$WalletInstance","balance","History","Assets","recipientAddress","WALLET_SEND","$74fff477ea4a614f$export$2e2bcd8739ae039","$710dcc7c4a68ca46$var$Wallets","WALLET_GETSET","$0084712649d23b9c$export$c9d39ca3bcd93abb","$0084712649d23b9c$export$b791fe48eec8032a","HowlerGlobal","Howler","_counter","_html5AudioPool","html5PoolSize","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","ctx","autoUnlock","_setup","volume","vol","parseFloat","setupAudioContext","gain","setValueAtTime","currentTime","_webAudio","_getSoundIds","sound","_soundById","_node","mute","muted","unload","codecs","state","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","audioTest","canPlayType","mpegTest","ua","userAgent","checkOpera","isOldOpera","checkSafari","safariVersion","isOldSafari","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","m4b","mp4","weba","webm","dolby","flac","_unlockAudio","_audioUnlocked","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","audioNode","_unlocked","_releaseHtml5Audio","load","_autoResume","createBufferSource","destination","noteOn","onended","_emit","_obtainHtml5Audio","testPlay","play","warn","audio","suspend","_sounds","_paused","_suspendTimer","handleSuspension","_resumeAfterSuspend","Howl","o","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhr","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onunlock","onunlock","_onresume","Sound","loadBuffer","internal","_ended","_inactiveSound","soundId","_loadQueue","seek","_seek","setParams","_start","_stop","node","playWebAudio","_refreshBuffer","_playStart","bufferSource","noteGrainOn","_clearTimer","playHtml5","playbackRate","paused","loadedNoReadyState","ejecta","isCocoonJS","_rateSeek","_stopFade","noteOff","_cleanBuffer","_clearSound","_interval","fade","linearRampToValueAtTime","_startFadeInterval","isGroup","diff","steps","stepLen","lastTick","_fadeTo","tick","cancelScheduledValues","loopStart","loopEnd","playing","realTime","rateSeek","seekAndEmit","emitSeek","sounds","_errorFn","_loadFn","_endFn","remCache","cache","events","isId","task","ended","_drain","cnt","_panner","isIOS","vendor","howl","_parent","parent","createGain","createGainNode","_errorListener","_loadListener","_endListener","__default","loadSound","atob","dataView","decodeAudioData","safeXhrSend","AudioContext","webkitAudioContext","iOS","platform","safari","define","amd","$parcel$global","_super","_pos","_orientation","stereo","pan","positionX","setTargetAtTime","positionY","positionZ","setPosition","orientation","xUp","yUp","zUp","or","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","orientationX","orientationY","orientationZ","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_refDistance","_rolloffFactor","_panningModel","pa","panner","createPanner","$cbc951a50854319d$var$SoundChannel","isMuted","Sounds1","group","isMulti","Sounds","doPlay","lastPlayed","currentName","playPitch","spectrumDecimal","playPitchSmall","bool","stopCurrent","playID","fadeIn","isMusic","fadeOut","$4df6546b9dd49390$var$Sounds","channels","SFX","addChannel","Voice","Music","Ambiance","$cbc951a50854319d$export$2e2bcd8739ae039","setVolume","unmute","$4df6546b9dd49390$export$2e2bcd8739ae039","$32f5bd99cb0c2e87$var$CONQUER","initialized","user","$8654058f4c172f73$export$2e2bcd8739ae039","$d481d453fce0c903$export$2e2bcd8739ae039","Auth","WebAuth","Files","$c3b6d9373bbfe1ea$export$2e2bcd8739ae039","Socket","$ef2387713ba36287$export$2e2bcd8739ae039","Games","$72c986500980722c$export$2e2bcd8739ae039","Instances","$a727fff056b3dc3d$export$2e2bcd8739ae039","Wallets","$710dcc7c4a68ca46$export$2e2bcd8739ae039","$32f5bd99cb0c2e87$export$2e2bcd8739ae039","$32f5bd99cb0c2e87$var$w","$32f5bd99cb0c2e87$export$fb1208122242c205","CONQUER"],"version":3,"file":"CONQUER.js.map"}